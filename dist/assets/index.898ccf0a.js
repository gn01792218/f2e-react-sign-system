function _mergeNamespaces($,_e){return _e.forEach(function(et){et&&typeof et!="string"&&!Array.isArray(et)&&Object.keys(et).forEach(function(tt){if(tt!=="default"&&!(tt in $)){var ut=Object.getOwnPropertyDescriptor(et,tt);Object.defineProperty($,tt,ut.get?ut:{enumerable:!0,get:function(){return et[tt]}})}})}),Object.freeze(Object.defineProperty($,Symbol.toStringTag,{value:"Module"}))}const p$8=function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const ut of document.querySelectorAll('link[rel="modulepreload"]'))tt(ut);new MutationObserver(ut=>{for(const pt of ut)if(pt.type==="childList")for(const yt of pt.addedNodes)yt.tagName==="LINK"&&yt.rel==="modulepreload"&&tt(yt)}).observe(document,{childList:!0,subtree:!0});function et(ut){const pt={};return ut.integrity&&(pt.integrity=ut.integrity),ut.referrerpolicy&&(pt.referrerPolicy=ut.referrerpolicy),ut.crossorigin==="use-credentials"?pt.credentials="include":ut.crossorigin==="anonymous"?pt.credentials="omit":pt.credentials="same-origin",pt}function tt(ut){if(ut.ep)return;ut.ep=!0;const pt=et(ut);fetch(ut.href,pt)}};p$8();var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace($){if($.__esModule)return $;var _e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys($).forEach(function(et){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}),_e}function commonjsRequire($){throw new Error('Could not dynamically require "'+$+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var client={},reactDom={exports:{}},reactDom_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$5=Symbol.for("react.element"),n$6=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$4=Symbol.for("react.context"),v$5=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3($){return $===null||typeof $!="object"?null:($=z$3&&$[z$3]||$["@@iterator"],typeof $=="function"?$:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$2($,_e,et){this.props=$,this.context=_e,this.refs=D$2,this.updater=et||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function($,_e){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,_e,"setState")};E$2.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2($,_e,et){this.props=$,this.context=_e,this.refs=D$2,this.updater=et||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$1(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2($,_e,et){var tt,ut={},pt=null,yt=null;if(_e!=null)for(tt in _e.ref!==void 0&&(yt=_e.ref),_e.key!==void 0&&(pt=""+_e.key),_e)J.call(_e,tt)&&!L$2.hasOwnProperty(tt)&&(ut[tt]=_e[tt]);var ct=arguments.length-2;if(ct===1)ut.children=et;else if(1<ct){for(var rt=Array(ct),lt=0;lt<ct;lt++)rt[lt]=arguments[lt+2];ut.children=rt}if($&&$.defaultProps)for(tt in ct=$.defaultProps,ct)ut[tt]===void 0&&(ut[tt]=ct[tt]);return{$$typeof:l$5,type:$,key:pt,ref:yt,props:ut,_owner:K$1.current}}function N$2($,_e){return{$$typeof:l$5,type:$.type,key:_e,ref:$.ref,props:$.props,_owner:$._owner}}function O$2($){return typeof $=="object"&&$!==null&&$.$$typeof===l$5}function escape$1($){var _e={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(et){return _e[et]})}var P$2=/\/+/g;function Q$2($,_e){return typeof $=="object"&&$!==null&&$.key!=null?escape$1(""+$.key):_e.toString(36)}function R$2($,_e,et,tt,ut){var pt=typeof $;(pt==="undefined"||pt==="boolean")&&($=null);var yt=!1;if($===null)yt=!0;else switch(pt){case"string":case"number":yt=!0;break;case"object":switch($.$$typeof){case l$5:case n$6:yt=!0}}if(yt)return yt=$,ut=ut(yt),$=tt===""?"."+Q$2(yt,0):tt,I$2(ut)?(et="",$!=null&&(et=$.replace(P$2,"$&/")+"/"),R$2(ut,_e,et,"",function(lt){return lt})):ut!=null&&(O$2(ut)&&(ut=N$2(ut,et+(!ut.key||yt&&yt.key===ut.key?"":(""+ut.key).replace(P$2,"$&/")+"/")+$)),_e.push(ut)),1;if(yt=0,tt=tt===""?".":tt+":",I$2($))for(var ct=0;ct<$.length;ct++){pt=$[ct];var rt=tt+Q$2(pt,ct);yt+=R$2(pt,_e,et,rt,ut)}else if(rt=A$3($),typeof rt=="function")for($=rt.call($),ct=0;!(pt=$.next()).done;)pt=pt.value,rt=tt+Q$2(pt,ct++),yt+=R$2(pt,_e,et,rt,ut);else if(pt==="object")throw _e=String($),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return yt}function S$2($,_e,et){if($==null)return $;var tt=[],ut=0;return R$2($,tt,"","",function(pt){return _e.call(et,pt,ut++)}),tt}function T$1($){if($._status===-1){var _e=$._result;_e=_e(),_e.then(function(et){($._status===0||$._status===-1)&&($._status=1,$._result=et)},function(et){($._status===0||$._status===-1)&&($._status=2,$._result=et)}),$._status===-1&&($._status=0,$._result=_e)}if($._status===1)return $._result.default;throw $._result}var U$2={current:null},V$1={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$2,forEach:function($,_e,et){S$2($,function(){_e.apply(this,arguments)},et)},count:function($){var _e=0;return S$2($,function(){_e++}),_e},toArray:function($){return S$2($,function(_e){return _e})||[]},only:function($){if(!O$2($))throw Error("React.Children.only expected to receive a single React element child.");return $}};react_production_min.Component=E$2;react_production_min.Fragment=p$7;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$6;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function($,_e,et){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var tt=C$1({},$.props),ut=$.key,pt=$.ref,yt=$._owner;if(_e!=null){if(_e.ref!==void 0&&(pt=_e.ref,yt=K$1.current),_e.key!==void 0&&(ut=""+_e.key),$.type&&$.type.defaultProps)var ct=$.type.defaultProps;for(rt in _e)J.call(_e,rt)&&!L$2.hasOwnProperty(rt)&&(tt[rt]=_e[rt]===void 0&&ct!==void 0?ct[rt]:_e[rt])}var rt=arguments.length-2;if(rt===1)tt.children=et;else if(1<rt){ct=Array(rt);for(var lt=0;lt<rt;lt++)ct[lt]=arguments[lt+2];tt.children=ct}return{$$typeof:l$5,type:$.type,key:ut,ref:pt,props:tt,_owner:yt}};react_production_min.createContext=function($){return $={$$typeof:u$4,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:t$5,_context:$},$.Consumer=$};react_production_min.createElement=M$2;react_production_min.createFactory=function($){var _e=M$2.bind(null,$);return _e.type=$,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function($){return{$$typeof:v$5,render:$}};react_production_min.isValidElement=O$2;react_production_min.lazy=function($){return{$$typeof:y$2,_payload:{_status:-1,_result:$},_init:T$1}};react_production_min.memo=function($,_e){return{$$typeof:x$2,type:$,compare:_e===void 0?null:_e}};react_production_min.startTransition=function($){var _e=V$1.transition;V$1.transition={};try{$()}finally{V$1.transition=_e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function($,_e){return U$2.current.useCallback($,_e)};react_production_min.useContext=function($){return U$2.current.useContext($)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function($){return U$2.current.useDeferredValue($)};react_production_min.useEffect=function($,_e){return U$2.current.useEffect($,_e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function($,_e,et){return U$2.current.useImperativeHandle($,_e,et)};react_production_min.useInsertionEffect=function($,_e){return U$2.current.useInsertionEffect($,_e)};react_production_min.useLayoutEffect=function($,_e){return U$2.current.useLayoutEffect($,_e)};react_production_min.useMemo=function($,_e){return U$2.current.useMemo($,_e)};react_production_min.useReducer=function($,_e,et){return U$2.current.useReducer($,_e,et)};react_production_min.useRef=function($){return U$2.current.useRef($)};react_production_min.useState=function($){return U$2.current.useState($)};react_production_min.useSyncExternalStore=function($,_e,et){return U$2.current.useSyncExternalStore($,_e,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var React=react.exports,React$1=_mergeNamespaces({__proto__:null,default:React},[react.exports]),scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function($){function _e(Ut,Ot){var Et=Ut.length;Ut.push(Ot);e:for(;0<Et;){var wt=Et-1>>>1,Pt=Ut[wt];if(0<ut(Pt,Ot))Ut[wt]=Ot,Ut[Et]=Pt,Et=wt;else break e}}function et(Ut){return Ut.length===0?null:Ut[0]}function tt(Ut){if(Ut.length===0)return null;var Ot=Ut[0],Et=Ut.pop();if(Et!==Ot){Ut[0]=Et;e:for(var wt=0,Pt=Ut.length,Lt=Pt>>>1;wt<Lt;){var Dt=2*(wt+1)-1,It=Ut[Dt],Nt=Dt+1,Jt=Ut[Nt];if(0>ut(It,Et))Nt<Pt&&0>ut(Jt,It)?(Ut[wt]=Jt,Ut[Nt]=Et,wt=Nt):(Ut[wt]=It,Ut[Dt]=Et,wt=Dt);else if(Nt<Pt&&0>ut(Jt,Et))Ut[wt]=Jt,Ut[Nt]=Et,wt=Nt;else break e}}return Ot}function ut(Ut,Ot){var Et=Ut.sortIndex-Ot.sortIndex;return Et!==0?Et:Ut.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var pt=performance;$.unstable_now=function(){return pt.now()}}else{var yt=Date,ct=yt.now();$.unstable_now=function(){return yt.now()-ct}}var rt=[],lt=[],ft=1,it=null,at=3,nt=!1,ot=!1,ht=!1,st=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function mt(Ut){for(var Ot=et(lt);Ot!==null;){if(Ot.callback===null)tt(lt);else if(Ot.startTime<=Ut)tt(lt),Ot.sortIndex=Ot.expirationTime,_e(rt,Ot);else break;Ot=et(lt)}}function gt(Ut){if(ht=!1,mt(Ut),!ot)if(et(rt)!==null)ot=!0,qt(bt);else{var Ot=et(lt);Ot!==null&&er(gt,Ot.startTime-Ut)}}function bt(Ut,Ot){ot=!1,ht&&(ht=!1,dt(xt),xt=-1),nt=!0;var Et=at;try{for(mt(Ot),it=et(rt);it!==null&&(!(it.expirationTime>Ot)||Ut&&!jt());){var wt=it.callback;if(typeof wt=="function"){it.callback=null,at=it.priorityLevel;var Pt=wt(it.expirationTime<=Ot);Ot=$.unstable_now(),typeof Pt=="function"?it.callback=Pt:it===et(rt)&&tt(rt),mt(Ot)}else tt(rt);it=et(rt)}if(it!==null)var Lt=!0;else{var Dt=et(lt);Dt!==null&&er(gt,Dt.startTime-Ot),Lt=!1}return Lt}finally{it=null,at=Et,nt=!1}}var _t=!1,Ct=null,xt=-1,Tt=5,Mt=-1;function jt(){return!($.unstable_now()-Mt<Tt)}function Gt(){if(Ct!==null){var Ut=$.unstable_now();Mt=Ut;var Ot=!0;try{Ot=Ct(!0,Ut)}finally{Ot?zt():(_t=!1,Ct=null)}}else _t=!1}var zt;if(typeof vt=="function")zt=function(){vt(Gt)};else if(typeof MessageChannel!="undefined"){var Xt=new MessageChannel,Kt=Xt.port2;Xt.port1.onmessage=Gt,zt=function(){Kt.postMessage(null)}}else zt=function(){st(Gt,0)};function qt(Ut){Ct=Ut,_t||(_t=!0,zt())}function er(Ut,Ot){xt=st(function(){Ut($.unstable_now())},Ot)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(Ut){Ut.callback=null},$.unstable_continueExecution=function(){ot||nt||(ot=!0,qt(bt))},$.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Tt=0<Ut?Math.floor(1e3/Ut):5},$.unstable_getCurrentPriorityLevel=function(){return at},$.unstable_getFirstCallbackNode=function(){return et(rt)},$.unstable_next=function(Ut){switch(at){case 1:case 2:case 3:var Ot=3;break;default:Ot=at}var Et=at;at=Ot;try{return Ut()}finally{at=Et}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(Ut,Ot){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var Et=at;at=Ut;try{return Ot()}finally{at=Et}},$.unstable_scheduleCallback=function(Ut,Ot,Et){var wt=$.unstable_now();switch(typeof Et=="object"&&Et!==null?(Et=Et.delay,Et=typeof Et=="number"&&0<Et?wt+Et:wt):Et=wt,Ut){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=Et+Pt,Ut={id:ft++,callback:Ot,priorityLevel:Ut,startTime:Et,expirationTime:Pt,sortIndex:-1},Et>wt?(Ut.sortIndex=Et,_e(lt,Ut),et(rt)===null&&Ut===et(lt)&&(ht?(dt(xt),xt=-1):ht=!0,er(gt,Et-wt))):(Ut.sortIndex=Pt,_e(rt,Ut),ot||nt||(ot=!0,qt(bt))),Ut},$.unstable_shouldYield=jt,$.unstable_wrapCallback=function(Ut){var Ot=at;return function(){var Et=at;at=Ot;try{return Ut.apply(this,arguments)}finally{at=Et}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p$6($){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+$,et=1;et<arguments.length;et++)_e+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+$+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa($,_e){ha($,_e),ha($+"Capture",_e)}function ha($,_e){for(ea[$]=_e,$=0;$<_e.length;$++)da.add(_e[$])}var ia=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa($){return ja.call(ma,$)?!0:ja.call(la,$)?!1:ka.test($)?ma[$]=!0:(la[$]=!0,!1)}function pa($,_e,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:($=$.toLowerCase().slice(0,5),$!=="data-"&&$!=="aria-");default:return!1}}function qa($,_e,et,tt){if(_e===null||typeof _e=="undefined"||pa($,_e,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$4($,_e,et,tt,ut,pt,yt){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=tt,this.attributeNamespace=ut,this.mustUseProperty=et,this.propertyName=$,this.type=_e,this.sanitizeURL=pt,this.removeEmptyString=yt}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function($){z$2[$]=new v$4($,0,!1,$,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function($){var _e=$[0];z$2[_e]=new v$4(_e,1,!1,$[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function($){z$2[$]=new v$4($,2,!1,$.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function($){z$2[$]=new v$4($,2,!1,$,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function($){z$2[$]=new v$4($,3,!1,$.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function($){z$2[$]=new v$4($,3,!0,$,null,!1,!1)});["capture","download"].forEach(function($){z$2[$]=new v$4($,4,!1,$,null,!1,!1)});["cols","rows","size","span"].forEach(function($){z$2[$]=new v$4($,6,!1,$,null,!1,!1)});["rowSpan","start"].forEach(function($){z$2[$]=new v$4($,5,!1,$.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa($){return $[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function($){var _e=$.replace(ra,sa);z$2[_e]=new v$4(_e,1,!1,$,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function($){var _e=$.replace(ra,sa);z$2[_e]=new v$4(_e,1,!1,$,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function($){var _e=$.replace(ra,sa);z$2[_e]=new v$4(_e,1,!1,$,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function($){z$2[$]=new v$4($,1,!1,$.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$4("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function($){z$2[$]=new v$4($,1,!1,$.toLowerCase(),null,!0,!0)});function ta($,_e,et,tt){var ut=z$2.hasOwnProperty(_e)?z$2[_e]:null;(ut!==null?ut.type!==0:tt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,et,ut,tt)&&(et=null),tt||ut===null?oa(_e)&&(et===null?$.removeAttribute(_e):$.setAttribute(_e,""+et)):ut.mustUseProperty?$[ut.propertyName]=et===null?ut.type===3?!1:"":et:(_e=ut.attributeName,tt=ut.attributeNamespace,et===null?$.removeAttribute(_e):(ut=ut.type,et=ut===3||ut===4&&et===!0?"":""+et,tt?$.setAttributeNS(tt,_e,et):$.setAttribute(_e,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka($){return $===null||typeof $!="object"?null:($=Ja&&$[Ja]||$["@@iterator"],typeof $=="function"?$:null)}var A$2=Object.assign,La;function Ma($){if(La===void 0)try{throw Error()}catch(et){var _e=et.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+$}var Na=!1;function Oa($,_e){if(!$||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(lt){var tt=lt}Reflect.construct($,[],_e)}else{try{_e.call()}catch(lt){tt=lt}$.call(_e.prototype)}else{try{throw Error()}catch(lt){tt=lt}$()}}catch(lt){if(lt&&tt&&typeof lt.stack=="string"){for(var ut=lt.stack.split(`
`),pt=tt.stack.split(`
`),yt=ut.length-1,ct=pt.length-1;1<=yt&&0<=ct&&ut[yt]!==pt[ct];)ct--;for(;1<=yt&&0<=ct;yt--,ct--)if(ut[yt]!==pt[ct]){if(yt!==1||ct!==1)do if(yt--,ct--,0>ct||ut[yt]!==pt[ct]){var rt=`
`+ut[yt].replace(" at new "," at ");return $.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",$.displayName)),rt}while(1<=yt&&0<=ct);break}}}finally{Na=!1,Error.prepareStackTrace=et}return($=$?$.displayName||$.name:"")?Ma($):""}function Pa($){switch($.tag){case 5:return Ma($.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return $=Oa($.type,!1),$;case 11:return $=Oa($.type.render,!1),$;case 1:return $=Oa($.type,!0),$;default:return""}}function Qa($){if($==null)return null;if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $;switch($){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof $=="object")switch($.$$typeof){case Ca:return($.displayName||"Context")+".Consumer";case Ba:return($._context.displayName||"Context")+".Provider";case Da:var _e=$.render;return $=$.displayName,$||($=_e.displayName||_e.name||"",$=$!==""?"ForwardRef("+$+")":"ForwardRef"),$;case Ga:return _e=$.displayName||null,_e!==null?_e:Qa($.type)||"Memo";case Ha:_e=$._payload,$=$._init;try{return Qa($(_e))}catch{}}return null}function Ra($){var _e=$.type;switch($.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return $=_e.render,$=$.displayName||$.name||"",_e.displayName||($!==""?"ForwardRef("+$+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa($){switch(typeof $){case"boolean":case"number":case"string":case"undefined":return $;case"object":return $;default:return""}}function Ta($){var _e=$.type;return($=$.nodeName)&&$.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua($){var _e=Ta($)?"checked":"value",et=Object.getOwnPropertyDescriptor($.constructor.prototype,_e),tt=""+$[_e];if(!$.hasOwnProperty(_e)&&typeof et!="undefined"&&typeof et.get=="function"&&typeof et.set=="function"){var ut=et.get,pt=et.set;return Object.defineProperty($,_e,{configurable:!0,get:function(){return ut.call(this)},set:function(yt){tt=""+yt,pt.call(this,yt)}}),Object.defineProperty($,_e,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(yt){tt=""+yt},stopTracking:function(){$._valueTracker=null,delete $[_e]}}}}function Va($){$._valueTracker||($._valueTracker=Ua($))}function Wa($){if(!$)return!1;var _e=$._valueTracker;if(!_e)return!0;var et=_e.getValue(),tt="";return $&&(tt=Ta($)?$.checked?"true":"false":$.value),$=tt,$!==et?(_e.setValue($),!0):!1}function Xa($){if($=$||(typeof document!="undefined"?document:void 0),typeof $=="undefined")return null;try{return $.activeElement||$.body}catch{return $.body}}function Ya($,_e){var et=_e.checked;return A$2({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et!=null?et:$._wrapperState.initialChecked})}function Za($,_e){var et=_e.defaultValue==null?"":_e.defaultValue,tt=_e.checked!=null?_e.checked:_e.defaultChecked;et=Sa(_e.value!=null?_e.value:et),$._wrapperState={initialChecked:tt,initialValue:et,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab($,_e){_e=_e.checked,_e!=null&&ta($,"checked",_e,!1)}function bb($,_e){ab($,_e);var et=Sa(_e.value),tt=_e.type;if(et!=null)tt==="number"?(et===0&&$.value===""||$.value!=et)&&($.value=""+et):$.value!==""+et&&($.value=""+et);else if(tt==="submit"||tt==="reset"){$.removeAttribute("value");return}_e.hasOwnProperty("value")?cb($,_e.type,et):_e.hasOwnProperty("defaultValue")&&cb($,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&($.defaultChecked=!!_e.defaultChecked)}function db($,_e,et){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var tt=_e.type;if(!(tt!=="submit"&&tt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+$._wrapperState.initialValue,et||_e===$.value||($.value=_e),$.defaultValue=_e}et=$.name,et!==""&&($.name=""),$.defaultChecked=!!$._wrapperState.initialChecked,et!==""&&($.name=et)}function cb($,_e,et){(_e!=="number"||Xa($.ownerDocument)!==$)&&(et==null?$.defaultValue=""+$._wrapperState.initialValue:$.defaultValue!==""+et&&($.defaultValue=""+et))}var eb=Array.isArray;function fb($,_e,et,tt){if($=$.options,_e){_e={};for(var ut=0;ut<et.length;ut++)_e["$"+et[ut]]=!0;for(et=0;et<$.length;et++)ut=_e.hasOwnProperty("$"+$[et].value),$[et].selected!==ut&&($[et].selected=ut),ut&&tt&&($[et].defaultSelected=!0)}else{for(et=""+Sa(et),_e=null,ut=0;ut<$.length;ut++){if($[ut].value===et){$[ut].selected=!0,tt&&($[ut].defaultSelected=!0);return}_e!==null||$[ut].disabled||(_e=$[ut])}_e!==null&&(_e.selected=!0)}}function gb($,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$2({},_e,{value:void 0,defaultValue:void 0,children:""+$._wrapperState.initialValue})}function hb($,_e){var et=_e.value;if(et==null){if(et=_e.children,_e=_e.defaultValue,et!=null){if(_e!=null)throw Error(p$6(92));if(eb(et)){if(1<et.length)throw Error(p$6(93));et=et[0]}_e=et}_e==null&&(_e=""),et=_e}$._wrapperState={initialValue:Sa(et)}}function ib($,_e){var et=Sa(_e.value),tt=Sa(_e.defaultValue);et!=null&&(et=""+et,et!==$.value&&($.value=et),_e.defaultValue==null&&$.defaultValue!==et&&($.defaultValue=et)),tt!=null&&($.defaultValue=""+tt)}function jb($){var _e=$.textContent;_e===$._wrapperState.initialValue&&_e!==""&&_e!==null&&($.value=_e)}function kb($){switch($){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb($,_e){return $==null||$==="http://www.w3.org/1999/xhtml"?kb(_e):$==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":$}var mb,nb=function($){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(_e,et,tt,ut){MSApp.execUnsafeLocalFunction(function(){return $(_e,et,tt,ut)})}:$}(function($,_e){if($.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in $)$.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;$.firstChild;)$.removeChild($.firstChild);for(;_e.firstChild;)$.appendChild(_e.firstChild)}});function ob($,_e){if(_e){var et=$.firstChild;if(et&&et===$.lastChild&&et.nodeType===3){et.nodeValue=_e;return}}$.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function($){qb.forEach(function(_e){_e=_e+$.charAt(0).toUpperCase()+$.substring(1),pb[_e]=pb[$]})});function rb($,_e,et){return _e==null||typeof _e=="boolean"||_e===""?"":et||typeof _e!="number"||_e===0||pb.hasOwnProperty($)&&pb[$]?(""+_e).trim():_e+"px"}function sb($,_e){$=$.style;for(var et in _e)if(_e.hasOwnProperty(et)){var tt=et.indexOf("--")===0,ut=rb(et,_e[et],tt);et==="float"&&(et="cssFloat"),tt?$.setProperty(et,ut):$[et]=ut}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub($,_e){if(_e){if(tb[$]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$6(137,$));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$6(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$6(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$6(62))}}function vb($,_e){if($.indexOf("-")===-1)return typeof _e.is=="string";switch($){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb($){return $=$.target||$.srcElement||window,$.correspondingUseElement&&($=$.correspondingUseElement),$.nodeType===3?$.parentNode:$}var yb=null,zb=null,Ab=null;function Bb($){if($=Cb($)){if(typeof yb!="function")throw Error(p$6(280));var _e=$.stateNode;_e&&(_e=Db(_e),yb($.stateNode,$.type,_e))}}function Eb($){zb?Ab?Ab.push($):Ab=[$]:zb=$}function Fb(){if(zb){var $=zb,_e=Ab;if(Ab=zb=null,Bb($),_e)for($=0;$<_e.length;$++)Bb(_e[$])}}function Gb($,_e){return $(_e)}function Hb(){}var Ib=!1;function Jb($,_e,et){if(Ib)return $(_e,et);Ib=!0;try{return Gb($,_e,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb($,_e){var et=$.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||($=$.type,tt=!($==="button"||$==="input"||$==="select"||$==="textarea")),$=!tt;break e;default:$=!1}if($)return null;if(et&&typeof et!="function")throw Error(p$6(231,_e,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb($,_e,et,tt,ut,pt,yt,ct,rt){var lt=Array.prototype.slice.call(arguments,3);try{_e.apply(et,lt)}catch(ft){this.onError(ft)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function($){Ob=!0,Pb=$}};function Tb($,_e,et,tt,ut,pt,yt,ct,rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub($,_e,et,tt,ut,pt,yt,ct,rt){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$6(198));Qb||(Qb=!0,Rb=lt)}}function Vb($){var _e=$,et=$;if($.alternate)for(;_e.return;)_e=_e.return;else{$=_e;do _e=$,(_e.flags&4098)!==0&&(et=_e.return),$=_e.return;while($)}return _e.tag===3?et:null}function Wb($){if($.tag===13){var _e=$.memoizedState;if(_e===null&&($=$.alternate,$!==null&&(_e=$.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb($){if(Vb($)!==$)throw Error(p$6(188))}function Yb($){var _e=$.alternate;if(!_e){if(_e=Vb($),_e===null)throw Error(p$6(188));return _e!==$?null:$}for(var et=$,tt=_e;;){var ut=et.return;if(ut===null)break;var pt=ut.alternate;if(pt===null){if(tt=ut.return,tt!==null){et=tt;continue}break}if(ut.child===pt.child){for(pt=ut.child;pt;){if(pt===et)return Xb(ut),$;if(pt===tt)return Xb(ut),_e;pt=pt.sibling}throw Error(p$6(188))}if(et.return!==tt.return)et=ut,tt=pt;else{for(var yt=!1,ct=ut.child;ct;){if(ct===et){yt=!0,et=ut,tt=pt;break}if(ct===tt){yt=!0,tt=ut,et=pt;break}ct=ct.sibling}if(!yt){for(ct=pt.child;ct;){if(ct===et){yt=!0,et=pt,tt=ut;break}if(ct===tt){yt=!0,tt=pt,et=ut;break}ct=ct.sibling}if(!yt)throw Error(p$6(189))}}if(et.alternate!==tt)throw Error(p$6(190))}if(et.tag!==3)throw Error(p$6(188));return et.stateNode.current===et?$:_e}function Zb($){return $=Yb($),$!==null?$b($):null}function $b($){if($.tag===5||$.tag===6)return $;for($=$.child;$!==null;){var _e=$b($);if(_e!==null)return _e;$=$.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc($){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,$,void 0,($.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc($){return $>>>=0,$===0?32:31-(pc($)/qc|0)|0}var rc=64,sc=4194304;function tc($){switch($&-$){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return $&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return $}}function uc($,_e){var et=$.pendingLanes;if(et===0)return 0;var tt=0,ut=$.suspendedLanes,pt=$.pingedLanes,yt=et&268435455;if(yt!==0){var ct=yt&~ut;ct!==0?tt=tc(ct):(pt&=yt,pt!==0&&(tt=tc(pt)))}else yt=et&~ut,yt!==0?tt=tc(yt):pt!==0&&(tt=tc(pt));if(tt===0)return 0;if(_e!==0&&_e!==tt&&(_e&ut)===0&&(ut=tt&-tt,pt=_e&-_e,ut>=pt||ut===16&&(pt&4194240)!==0))return _e;if((tt&4)!==0&&(tt|=et&16),_e=$.entangledLanes,_e!==0)for($=$.entanglements,_e&=tt;0<_e;)et=31-oc(_e),ut=1<<et,tt|=$[et],_e&=~ut;return tt}function vc($,_e){switch($){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc($,_e){for(var et=$.suspendedLanes,tt=$.pingedLanes,ut=$.expirationTimes,pt=$.pendingLanes;0<pt;){var yt=31-oc(pt),ct=1<<yt,rt=ut[yt];rt===-1?((ct&et)===0||(ct&tt)!==0)&&(ut[yt]=vc(ct,_e)):rt<=_e&&($.expiredLanes|=ct),pt&=~ct}}function xc($){return $=$.pendingLanes&-1073741825,$!==0?$:$&1073741824?1073741824:0}function yc(){var $=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),$}function zc($){for(var _e=[],et=0;31>et;et++)_e.push($);return _e}function Ac($,_e,et){$.pendingLanes|=_e,_e!==536870912&&($.suspendedLanes=0,$.pingedLanes=0),$=$.eventTimes,_e=31-oc(_e),$[_e]=et}function Bc($,_e){var et=$.pendingLanes&~_e;$.pendingLanes=_e,$.suspendedLanes=0,$.pingedLanes=0,$.expiredLanes&=_e,$.mutableReadLanes&=_e,$.entangledLanes&=_e,_e=$.entanglements;var tt=$.eventTimes;for($=$.expirationTimes;0<et;){var ut=31-oc(et),pt=1<<ut;_e[ut]=0,tt[ut]=-1,$[ut]=-1,et&=~pt}}function Cc($,_e){var et=$.entangledLanes|=_e;for($=$.entanglements;et;){var tt=31-oc(et),ut=1<<tt;ut&_e|$[tt]&_e&&($[tt]|=_e),et&=~ut}}var C=0;function Dc($){return $&=-$,1<$?4<$?($&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc($,_e){switch($){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc($,_e,et,tt,ut,pt){return $===null||$.nativeEvent!==pt?($={blockedOn:_e,domEventName:et,eventSystemFlags:tt,nativeEvent:pt,targetContainers:[ut]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),$):($.eventSystemFlags|=tt,_e=$.targetContainers,ut!==null&&_e.indexOf(ut)===-1&&_e.push(ut),$)}function Uc($,_e,et,tt,ut){switch(_e){case"focusin":return Lc=Tc(Lc,$,_e,et,tt,ut),!0;case"dragenter":return Mc=Tc(Mc,$,_e,et,tt,ut),!0;case"mouseover":return Nc=Tc(Nc,$,_e,et,tt,ut),!0;case"pointerover":var pt=ut.pointerId;return Oc.set(pt,Tc(Oc.get(pt)||null,$,_e,et,tt,ut)),!0;case"gotpointercapture":return pt=ut.pointerId,Pc.set(pt,Tc(Pc.get(pt)||null,$,_e,et,tt,ut)),!0}return!1}function Vc($){var _e=Wc($.target);if(_e!==null){var et=Vb(_e);if(et!==null){if(_e=et.tag,_e===13){if(_e=Wb(et),_e!==null){$.blockedOn=_e,Ic($.priority,function(){Gc(et)});return}}else if(_e===3&&et.stateNode.current.memoizedState.isDehydrated){$.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}$.blockedOn=null}function Xc($){if($.blockedOn!==null)return!1;for(var _e=$.targetContainers;0<_e.length;){var et=Yc($.domEventName,$.eventSystemFlags,_e[0],$.nativeEvent);if(et===null){et=$.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return _e=Cb(et),_e!==null&&Fc(_e),$.blockedOn=et,!1;_e.shift()}return!0}function Zc($,_e,et){Xc($)&&et.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad($,_e){$.blockedOn===_e&&($.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd($){function _e(ut){return ad(ut,$)}if(0<Kc.length){ad(Kc[0],$);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===$&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,$),Mc!==null&&ad(Mc,$),Nc!==null&&ad(Nc,$),Oc.forEach(_e),Pc.forEach(_e),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===$&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed($,_e,et,tt){var ut=C,pt=cd.transition;cd.transition=null;try{C=1,fd($,_e,et,tt)}finally{C=ut,cd.transition=pt}}function gd($,_e,et,tt){var ut=C,pt=cd.transition;cd.transition=null;try{C=4,fd($,_e,et,tt)}finally{C=ut,cd.transition=pt}}function fd($,_e,et,tt){if(dd){var ut=Yc($,_e,et,tt);if(ut===null)hd($,_e,tt,id,et),Sc($,tt);else if(Uc(ut,$,_e,et,tt))tt.stopPropagation();else if(Sc($,tt),_e&4&&-1<Rc.indexOf($)){for(;ut!==null;){var pt=Cb(ut);if(pt!==null&&Ec(pt),pt=Yc($,_e,et,tt),pt===null&&hd($,_e,tt,id,et),pt===ut)break;ut=pt}ut!==null&&tt.stopPropagation()}else hd($,_e,tt,null,et)}}var id=null;function Yc($,_e,et,tt){if(id=null,$=xb(tt),$=Wc($),$!==null)if(_e=Vb($),_e===null)$=null;else if(et=_e.tag,et===13){if($=Wb(_e),$!==null)return $;$=null}else if(et===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;$=null}else _e!==$&&($=null);return id=$,null}function jd($){switch($){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var $,_e=ld,et=_e.length,tt,ut="value"in kd?kd.value:kd.textContent,pt=ut.length;for($=0;$<et&&_e[$]===ut[$];$++);var yt=et-$;for(tt=1;tt<=yt&&_e[et-tt]===ut[pt-tt];tt++);return md=ut.slice($,1<tt?1-tt:void 0)}function od($){var _e=$.keyCode;return"charCode"in $?($=$.charCode,$===0&&_e===13&&($=13)):$=_e,$===10&&($=13),32<=$||$===13?$:0}function pd(){return!0}function qd(){return!1}function rd($){function _e(et,tt,ut,pt,yt){this._reactName=et,this._targetInst=ut,this.type=tt,this.nativeEvent=pt,this.target=yt,this.currentTarget=null;for(var ct in $)$.hasOwnProperty(ct)&&(et=$[ct],this[ct]=et?et(pt):pt[ct]);return this.isDefaultPrevented=(pt.defaultPrevented!=null?pt.defaultPrevented:pt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function($){return $.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function($){return $.relatedTarget===void 0?$.fromElement===$.srcElement?$.toElement:$.fromElement:$.relatedTarget},movementX:function($){return"movementX"in $?$.movementX:($!==yd&&(yd&&$.type==="mousemove"?(wd=$.screenX-yd.screenX,xd=$.screenY-yd.screenY):xd=wd=0,yd=$),wd)},movementY:function($){return"movementY"in $?$.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function($){return"clipboardData"in $?$.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd($){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState($):($=Od[$])?!!_e[$]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function($){if($.key){var _e=Md[$.key]||$.key;if(_e!=="Unidentified")return _e}return $.type==="keypress"?($=od($),$===13?"Enter":String.fromCharCode($)):$.type==="keydown"||$.type==="keyup"?Nd[$.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function($){return $.type==="keypress"?od($):0},keyCode:function($){return $.type==="keydown"||$.type==="keyup"?$.keyCode:0},which:function($){return $.type==="keypress"?od($):$.type==="keydown"||$.type==="keyup"?$.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function($){return"deltaX"in $?$.deltaX:"wheelDeltaX"in $?-$.wheelDeltaX:0},deltaY:function($){return"deltaY"in $?$.deltaY:"wheelDeltaY"in $?-$.wheelDeltaY:"wheelDelta"in $?-$.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge($,_e){switch($){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he($){return $=$.detail,typeof $=="object"&&"data"in $?$.data:null}var ie=!1;function je($,_e){switch($){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe=!0,ee);case"textInput":return $=_e.data,$===ee&&fe?null:$;default:return null}}function ke($,_e){if(ie)return $==="compositionend"||!ae&&ge($,_e)?($=nd(),md=ld=kd=null,ie=!1,$):null;switch($){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de&&_e.locale!=="ko"?null:_e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me($){var _e=$&&$.nodeName&&$.nodeName.toLowerCase();return _e==="input"?!!le[$.type]:_e==="textarea"}function ne($,_e,et,tt){Eb(tt),_e=oe(_e,"onChange"),0<_e.length&&(et=new td("onChange","change",null,et,tt),$.push({event:et,listeners:_e}))}var pe=null,qe=null;function re($){se($,0)}function te($){var _e=ue($);if(Wa(_e))return $}function ve($,_e){if($==="change")return _e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be($){if($.propertyName==="value"&&te(qe)){var _e=[];ne(_e,qe,$,xb($)),Jb(re,_e)}}function Ce($,_e,et){$==="focusin"?(Ae(),pe=_e,qe=et,pe.attachEvent("onpropertychange",Be)):$==="focusout"&&Ae()}function De($){if($==="selectionchange"||$==="keyup"||$==="keydown")return te(qe)}function Ee($,_e){if($==="click")return te(_e)}function Fe($,_e){if($==="input"||$==="change")return te(_e)}function Ge($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie($,_e){if(He($,_e))return!0;if(typeof $!="object"||$===null||typeof _e!="object"||_e===null)return!1;var et=Object.keys($),tt=Object.keys(_e);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var ut=et[tt];if(!ja.call(_e,ut)||!He($[ut],_e[ut]))return!1}return!0}function Je($){for(;$&&$.firstChild;)$=$.firstChild;return $}function Ke($,_e){var et=Je($);$=0;for(var tt;et;){if(et.nodeType===3){if(tt=$+et.textContent.length,$<=_e&&tt>=_e)return{node:et,offset:_e-$};$=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le($,_e){return $&&_e?$===_e?!0:$&&$.nodeType===3?!1:_e&&_e.nodeType===3?Le($,_e.parentNode):"contains"in $?$.contains(_e):$.compareDocumentPosition?!!($.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var $=window,_e=Xa();_e instanceof $.HTMLIFrameElement;){try{var et=typeof _e.contentWindow.location.href=="string"}catch{et=!1}if(et)$=_e.contentWindow;else break;_e=Xa($.document)}return _e}function Ne($){var _e=$&&$.nodeName&&$.nodeName.toLowerCase();return _e&&(_e==="input"&&($.type==="text"||$.type==="search"||$.type==="tel"||$.type==="url"||$.type==="password")||_e==="textarea"||$.contentEditable==="true")}function Oe($){var _e=Me(),et=$.focusedElem,tt=$.selectionRange;if(_e!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne(et)){if(_e=tt.start,$=tt.end,$===void 0&&($=_e),"selectionStart"in et)et.selectionStart=_e,et.selectionEnd=Math.min($,et.value.length);else if($=(_e=et.ownerDocument||document)&&_e.defaultView||window,$.getSelection){$=$.getSelection();var ut=et.textContent.length,pt=Math.min(tt.start,ut);tt=tt.end===void 0?pt:Math.min(tt.end,ut),!$.extend&&pt>tt&&(ut=tt,tt=pt,pt=ut),ut=Ke(et,pt);var yt=Ke(et,tt);ut&&yt&&($.rangeCount!==1||$.anchorNode!==ut.node||$.anchorOffset!==ut.offset||$.focusNode!==yt.node||$.focusOffset!==yt.offset)&&(_e=_e.createRange(),_e.setStart(ut.node,ut.offset),$.removeAllRanges(),pt>tt?($.addRange(_e),$.extend(yt.node,yt.offset)):(_e.setEnd(yt.node,yt.offset),$.addRange(_e)))}}for(_e=[],$=et;$=$.parentNode;)$.nodeType===1&&_e.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<_e.length;et++)$=_e[et],$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue($,_e,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&(_e=new td("onSelect","select",null,_e,et),$.push({event:_e,listeners:tt}),_e.target=Qe)))}function Ve($,_e){var et={};return et[$.toLowerCase()]=_e.toLowerCase(),et["Webkit"+$]="webkit"+_e,et["Moz"+$]="moz"+_e,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze($){if(Xe[$])return Xe[$];if(!We[$])return $;var _e=We[$],et;for(et in _e)if(_e.hasOwnProperty(et)&&et in Ye)return Xe[$]=_e[et];return $}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff($,_e){df.set($,_e),fa(_e,[$])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf($,_e,et){var tt=$.type||"unknown-event";$.currentTarget=et,Ub(tt,_e,void 0,$),$.currentTarget=null}function se($,_e){_e=(_e&4)!==0;for(var et=0;et<$.length;et++){var tt=$[et],ut=tt.event;tt=tt.listeners;e:{var pt=void 0;if(_e)for(var yt=tt.length-1;0<=yt;yt--){var ct=tt[yt],rt=ct.instance,lt=ct.currentTarget;if(ct=ct.listener,rt!==pt&&ut.isPropagationStopped())break e;nf(ut,ct,lt),pt=rt}else for(yt=0;yt<tt.length;yt++){if(ct=tt[yt],rt=ct.instance,lt=ct.currentTarget,ct=ct.listener,rt!==pt&&ut.isPropagationStopped())break e;nf(ut,ct,lt),pt=rt}}}if(Qb)throw $=Rb,Qb=!1,Rb=null,$}function D$1($,_e){var et=_e[of];et===void 0&&(et=_e[of]=new Set);var tt=$+"__bubble";et.has(tt)||(pf(_e,$,2,!1),et.add(tt))}function qf($,_e,et){var tt=0;_e&&(tt|=4),pf(et,$,tt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf($){if(!$[rf]){$[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,$),qf(et,!0,$))});var _e=$.nodeType===9?$:$.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf($,_e,et,tt){switch(jd(_e)){case 1:var ut=ed;break;case 4:ut=gd;break;default:ut=fd}et=ut.bind(null,_e,et,$),ut=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(ut=!0),tt?ut!==void 0?$.addEventListener(_e,et,{capture:!0,passive:ut}):$.addEventListener(_e,et,!0):ut!==void 0?$.addEventListener(_e,et,{passive:ut}):$.addEventListener(_e,et,!1)}function hd($,_e,et,tt,ut){var pt=tt;if((_e&1)===0&&(_e&2)===0&&tt!==null)e:for(;;){if(tt===null)return;var yt=tt.tag;if(yt===3||yt===4){var ct=tt.stateNode.containerInfo;if(ct===ut||ct.nodeType===8&&ct.parentNode===ut)break;if(yt===4)for(yt=tt.return;yt!==null;){var rt=yt.tag;if((rt===3||rt===4)&&(rt=yt.stateNode.containerInfo,rt===ut||rt.nodeType===8&&rt.parentNode===ut))return;yt=yt.return}for(;ct!==null;){if(yt=Wc(ct),yt===null)return;if(rt=yt.tag,rt===5||rt===6){tt=pt=yt;continue e}ct=ct.parentNode}}tt=tt.return}Jb(function(){var lt=pt,ft=xb(et),it=[];e:{var at=df.get($);if(at!==void 0){var nt=td,ot=$;switch($){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":nt=Rd;break;case"focusin":ot="focus",nt=Fd;break;case"focusout":ot="blur",nt=Fd;break;case"beforeblur":case"afterblur":nt=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Vd;break;case $e:case af:case bf:nt=Hd;break;case cf:nt=Xd;break;case"scroll":nt=vd;break;case"wheel":nt=Zd;break;case"copy":case"cut":case"paste":nt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Td}var ht=(_e&4)!==0,st=!ht&&$==="scroll",dt=ht?at!==null?at+"Capture":null:at;ht=[];for(var vt=lt,mt;vt!==null;){mt=vt;var gt=mt.stateNode;if(mt.tag===5&&gt!==null&&(mt=gt,dt!==null&&(gt=Kb(vt,dt),gt!=null&&ht.push(tf(vt,gt,mt)))),st)break;vt=vt.return}0<ht.length&&(at=new nt(at,ot,null,et,ft),it.push({event:at,listeners:ht}))}}if((_e&7)===0){e:{if(at=$==="mouseover"||$==="pointerover",nt=$==="mouseout"||$==="pointerout",at&&et!==wb&&(ot=et.relatedTarget||et.fromElement)&&(Wc(ot)||ot[uf]))break e;if((nt||at)&&(at=ft.window===ft?ft:(at=ft.ownerDocument)?at.defaultView||at.parentWindow:window,nt?(ot=et.relatedTarget||et.toElement,nt=lt,ot=ot?Wc(ot):null,ot!==null&&(st=Vb(ot),ot!==st||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(nt=null,ot=lt),nt!==ot)){if(ht=Bd,gt="onMouseLeave",dt="onMouseEnter",vt="mouse",($==="pointerout"||$==="pointerover")&&(ht=Td,gt="onPointerLeave",dt="onPointerEnter",vt="pointer"),st=nt==null?at:ue(nt),mt=ot==null?at:ue(ot),at=new ht(gt,vt+"leave",nt,et,ft),at.target=st,at.relatedTarget=mt,gt=null,Wc(ft)===lt&&(ht=new ht(dt,vt+"enter",ot,et,ft),ht.target=mt,ht.relatedTarget=st,gt=ht),st=gt,nt&&ot)t:{for(ht=nt,dt=ot,vt=0,mt=ht;mt;mt=vf(mt))vt++;for(mt=0,gt=dt;gt;gt=vf(gt))mt++;for(;0<vt-mt;)ht=vf(ht),vt--;for(;0<mt-vt;)dt=vf(dt),mt--;for(;vt--;){if(ht===dt||dt!==null&&ht===dt.alternate)break t;ht=vf(ht),dt=vf(dt)}ht=null}else ht=null;nt!==null&&wf(it,at,nt,ht,!1),ot!==null&&st!==null&&wf(it,st,ot,ht,!0)}}e:{if(at=lt?ue(lt):window,nt=at.nodeName&&at.nodeName.toLowerCase(),nt==="select"||nt==="input"&&at.type==="file")var bt=ve;else if(me(at))if(we)bt=Fe;else{bt=De;var _t=Ce}else(nt=at.nodeName)&&nt.toLowerCase()==="input"&&(at.type==="checkbox"||at.type==="radio")&&(bt=Ee);if(bt&&(bt=bt($,lt))){ne(it,bt,et,ft);break e}_t&&_t($,at,lt),$==="focusout"&&(_t=at._wrapperState)&&_t.controlled&&at.type==="number"&&cb(at,"number",at.value)}switch(_t=lt?ue(lt):window,$){case"focusin":(me(_t)||_t.contentEditable==="true")&&(Qe=_t,Re=lt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(it,et,ft);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(it,et,ft)}var Ct;if(ae)e:{switch($){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else ie?ge($,et)&&(xt="onCompositionEnd"):$==="keydown"&&et.keyCode===229&&(xt="onCompositionStart");xt&&(de&&et.locale!=="ko"&&(ie||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ie&&(Ct=nd()):(kd=ft,ld="value"in kd?kd.value:kd.textContent,ie=!0)),_t=oe(lt,xt),0<_t.length&&(xt=new Ld(xt,$,null,et,ft),it.push({event:xt,listeners:_t}),Ct?xt.data=Ct:(Ct=he(et),Ct!==null&&(xt.data=Ct)))),(Ct=ce?je($,et):ke($,et))&&(lt=oe(lt,"onBeforeInput"),0<lt.length&&(ft=new Ld("onBeforeInput","beforeinput",null,et,ft),it.push({event:ft,listeners:lt}),ft.data=Ct))}se(it,_e)})}function tf($,_e,et){return{instance:$,listener:_e,currentTarget:et}}function oe($,_e){for(var et=_e+"Capture",tt=[];$!==null;){var ut=$,pt=ut.stateNode;ut.tag===5&&pt!==null&&(ut=pt,pt=Kb($,et),pt!=null&&tt.unshift(tf($,pt,ut)),pt=Kb($,_e),pt!=null&&tt.push(tf($,pt,ut))),$=$.return}return tt}function vf($){if($===null)return null;do $=$.return;while($&&$.tag!==5);return $||null}function wf($,_e,et,tt,ut){for(var pt=_e._reactName,yt=[];et!==null&&et!==tt;){var ct=et,rt=ct.alternate,lt=ct.stateNode;if(rt!==null&&rt===tt)break;ct.tag===5&&lt!==null&&(ct=lt,ut?(rt=Kb(et,pt),rt!=null&&yt.unshift(tf(et,rt,ct))):ut||(rt=Kb(et,pt),rt!=null&&yt.push(tf(et,rt,ct)))),et=et.return}yt.length!==0&&$.push({event:_e,listeners:yt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf($){return(typeof $=="string"?$:""+$).replace(xf,`
`).replace(yf,"")}function Af($,_e,et){if(_e=zf(_e),zf($)!==_e&&et)throw Error(p$6(425))}function Bf(){}var Cf=null,Df=null;function Ef($,_e){return $==="textarea"||$==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf!="undefined"?function($){return Hf.resolve(null).then($).catch(If)}:Ff;function If($){setTimeout(function(){throw $})}function Kf($,_e){var et=_e,tt=0;do{var ut=et.nextSibling;if($.removeChild(et),ut&&ut.nodeType===8)if(et=ut.data,et==="/$"){if(tt===0){$.removeChild(ut),bd(_e);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=ut}while(et);bd(_e)}function Lf($){for(;$!=null;$=$.nextSibling){var _e=$.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=$.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return $}function Mf($){$=$.previousSibling;for(var _e=0;$;){if($.nodeType===8){var et=$.data;if(et==="$"||et==="$!"||et==="$?"){if(_e===0)return $;_e--}else et==="/$"&&_e++}$=$.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc($){var _e=$[Of];if(_e)return _e;for(var et=$.parentNode;et;){if(_e=et[uf]||et[Of]){if(et=_e.alternate,_e.child!==null||et!==null&&et.child!==null)for($=Mf($);$!==null;){if(et=$[Of])return et;$=Mf($)}return _e}$=et,et=$.parentNode}return null}function Cb($){return $=$[Of]||$[uf],!$||$.tag!==5&&$.tag!==6&&$.tag!==13&&$.tag!==3?null:$}function ue($){if($.tag===5||$.tag===6)return $.stateNode;throw Error(p$6(33))}function Db($){return $[Pf]||null}var Sf=[],Tf=-1;function Uf($){return{current:$}}function E$1($){0>Tf||($.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1($,_e){Tf++,Sf[Tf]=$.current,$.current=_e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf($,_e){var et=$.type.contextTypes;if(!et)return Vf;var tt=$.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===_e)return tt.__reactInternalMemoizedMaskedChildContext;var ut={},pt;for(pt in et)ut[pt]=_e[pt];return tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=_e,$.__reactInternalMemoizedMaskedChildContext=ut),ut}function Zf($){return $=$.childContextTypes,$!=null}function $f(){E$1(Wf),E$1(H$1)}function ag($,_e,et){if(H$1.current!==Vf)throw Error(p$6(168));G$1(H$1,_e),G$1(Wf,et)}function bg($,_e,et){var tt=$.stateNode;if(_e=_e.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var ut in tt)if(!(ut in _e))throw Error(p$6(108,Ra($)||"Unknown",ut));return A$2({},et,tt)}function cg($){return $=($=$.stateNode)&&$.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,$),G$1(Wf,Wf.current),!0}function dg($,_e,et){var tt=$.stateNode;if(!tt)throw Error(p$6(169));et?($=bg($,_e,Xf),tt.__reactInternalMemoizedMergedChildContext=$,E$1(Wf),E$1(H$1),G$1(H$1,$)):E$1(Wf),G$1(Wf,et)}var eg=null,fg=!1,gg=!1;function hg($){eg===null?eg=[$]:eg.push($)}function ig($){fg=!0,hg($)}function jg(){if(!gg&&eg!==null){gg=!0;var $=0,_e=C;try{var et=eg;for(C=1;$<et.length;$++){var tt=et[$];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(ut){throw eg!==null&&(eg=eg.slice($+1)),ac(fc,jg),ut}finally{C=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg($,_e){kg[lg++]=ng,kg[lg++]=mg,mg=$,ng=_e}function ug($,_e,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=$;var tt=rg;$=sg;var ut=32-oc(tt)-1;tt&=~(1<<ut),et+=1;var pt=32-oc(_e)+ut;if(30<pt){var yt=ut-ut%5;pt=(tt&(1<<yt)-1).toString(32),tt>>=yt,ut-=yt,rg=1<<32-oc(_e)+ut|et<<ut|tt,sg=pt+$}else rg=1<<pt|et<<ut|tt,sg=$}function vg($){$.return!==null&&(tg($,1),ug($,1,0))}function wg($){for(;$===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;$===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag($,_e){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=_e,et.return=$,_e=$.deletions,_e===null?($.deletions=[et],$.flags|=16):_e.push(et)}function Cg($,_e){switch($.tag){case 5:var et=$.type;return _e=_e.nodeType!==1||et.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?($.stateNode=_e,xg=$,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=$.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?($.stateNode=_e,xg=$,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(et=qg!==null?{id:rg,overflow:sg}:null,$.memoizedState={dehydrated:_e,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=_e,et.return=$,$.child=et,xg=$,yg=null,!0):!1;default:return!1}}function Dg($){return($.mode&1)!==0&&($.flags&128)===0}function Eg($){if(I$1){var _e=yg;if(_e){var et=_e;if(!Cg($,_e)){if(Dg($))throw Error(p$6(418));_e=Lf(et.nextSibling);var tt=xg;_e&&Cg($,_e)?Ag(tt,et):($.flags=$.flags&-4097|2,I$1=!1,xg=$)}}else{if(Dg($))throw Error(p$6(418));$.flags=$.flags&-4097|2,I$1=!1,xg=$}}}function Fg($){for($=$.return;$!==null&&$.tag!==5&&$.tag!==3&&$.tag!==13;)$=$.return;xg=$}function Gg($){if($!==xg)return!1;if(!I$1)return Fg($),I$1=!0,!1;var _e;if((_e=$.tag!==3)&&!(_e=$.tag!==5)&&(_e=$.type,_e=_e!=="head"&&_e!=="body"&&!Ef($.type,$.memoizedProps)),_e&&(_e=yg)){if(Dg($))throw Hg(),Error(p$6(418));for(;_e;)Ag($,_e),_e=Lf(_e.nextSibling)}if(Fg($),$.tag===13){if($=$.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$6(317));e:{for($=$.nextSibling,_e=0;$;){if($.nodeType===8){var et=$.data;if(et==="/$"){if(_e===0){yg=Lf($.nextSibling);break e}_e--}else et!=="$"&&et!=="$!"&&et!=="$?"||_e++}$=$.nextSibling}yg=null}}else yg=xg?Lf($.stateNode.nextSibling):null;return!0}function Hg(){for(var $=yg;$;)$=Lf($.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg($){zg===null?zg=[$]:zg.push($)}var Kg=ua.ReactCurrentBatchConfig;function Lg($,_e){if($&&$.defaultProps){_e=A$2({},_e),$=$.defaultProps;for(var et in $)_e[et]===void 0&&(_e[et]=$[et]);return _e}return _e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg($){var _e=Mg.current;E$1(Mg),$._currentValue=_e}function Sg($,_e,et){for(;$!==null;){var tt=$.alternate;if(($.childLanes&_e)!==_e?($.childLanes|=_e,tt!==null&&(tt.childLanes|=_e)):tt!==null&&(tt.childLanes&_e)!==_e&&(tt.childLanes|=_e),$===et)break;$=$.return}}function Tg($,_e){Ng=$,Pg=Og=null,$=$.dependencies,$!==null&&$.firstContext!==null&&(($.lanes&_e)!==0&&(Ug=!0),$.firstContext=null)}function Vg($){var _e=$._currentValue;if(Pg!==$)if($={context:$,memoizedValue:_e,next:null},Og===null){if(Ng===null)throw Error(p$6(308));Og=$,Ng.dependencies={lanes:0,firstContext:$}}else Og=Og.next=$;return _e}var Wg=null;function Xg($){Wg===null?Wg=[$]:Wg.push($)}function Yg($,_e,et,tt){var ut=_e.interleaved;return ut===null?(et.next=et,Xg(_e)):(et.next=ut.next,ut.next=et),_e.interleaved=et,Zg($,tt)}function Zg($,_e){$.lanes|=_e;var et=$.alternate;for(et!==null&&(et.lanes|=_e),et=$,$=$.return;$!==null;)$.childLanes|=_e,et=$.alternate,et!==null&&(et.childLanes|=_e),et=$,$=$.return;return et.tag===3?et.stateNode:null}var $g=!1;function ah($){$.updateQueue={baseState:$.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh($,_e){$=$.updateQueue,_e.updateQueue===$&&(_e.updateQueue={baseState:$.baseState,firstBaseUpdate:$.firstBaseUpdate,lastBaseUpdate:$.lastBaseUpdate,shared:$.shared,effects:$.effects})}function ch($,_e){return{eventTime:$,lane:_e,tag:0,payload:null,callback:null,next:null}}function dh($,_e,et){var tt=$.updateQueue;if(tt===null)return null;if(tt=tt.shared,(K&2)!==0){var ut=tt.pending;return ut===null?_e.next=_e:(_e.next=ut.next,ut.next=_e),tt.pending=_e,Zg($,et)}return ut=tt.interleaved,ut===null?(_e.next=_e,Xg(tt)):(_e.next=ut.next,ut.next=_e),tt.interleaved=_e,Zg($,et)}function eh($,_e,et){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(et&4194240)!==0)){var tt=_e.lanes;tt&=$.pendingLanes,et|=tt,_e.lanes=et,Cc($,et)}}function fh($,_e){var et=$.updateQueue,tt=$.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var ut=null,pt=null;if(et=et.firstBaseUpdate,et!==null){do{var yt={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};pt===null?ut=pt=yt:pt=pt.next=yt,et=et.next}while(et!==null);pt===null?ut=pt=_e:pt=pt.next=_e}else ut=pt=_e;et={baseState:tt.baseState,firstBaseUpdate:ut,lastBaseUpdate:pt,shared:tt.shared,effects:tt.effects},$.updateQueue=et;return}$=et.lastBaseUpdate,$===null?et.firstBaseUpdate=_e:$.next=_e,et.lastBaseUpdate=_e}function gh($,_e,et,tt){var ut=$.updateQueue;$g=!1;var pt=ut.firstBaseUpdate,yt=ut.lastBaseUpdate,ct=ut.shared.pending;if(ct!==null){ut.shared.pending=null;var rt=ct,lt=rt.next;rt.next=null,yt===null?pt=lt:yt.next=lt,yt=rt;var ft=$.alternate;ft!==null&&(ft=ft.updateQueue,ct=ft.lastBaseUpdate,ct!==yt&&(ct===null?ft.firstBaseUpdate=lt:ct.next=lt,ft.lastBaseUpdate=rt))}if(pt!==null){var it=ut.baseState;yt=0,ft=lt=rt=null,ct=pt;do{var at=ct.lane,nt=ct.eventTime;if((tt&at)===at){ft!==null&&(ft=ft.next={eventTime:nt,lane:0,tag:ct.tag,payload:ct.payload,callback:ct.callback,next:null});e:{var ot=$,ht=ct;switch(at=_e,nt=et,ht.tag){case 1:if(ot=ht.payload,typeof ot=="function"){it=ot.call(nt,it,at);break e}it=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ht.payload,at=typeof ot=="function"?ot.call(nt,it,at):ot,at==null)break e;it=A$2({},it,at);break e;case 2:$g=!0}}ct.callback!==null&&ct.lane!==0&&($.flags|=64,at=ut.effects,at===null?ut.effects=[ct]:at.push(ct))}else nt={eventTime:nt,lane:at,tag:ct.tag,payload:ct.payload,callback:ct.callback,next:null},ft===null?(lt=ft=nt,rt=it):ft=ft.next=nt,yt|=at;if(ct=ct.next,ct===null){if(ct=ut.shared.pending,ct===null)break;at=ct,ct=at.next,at.next=null,ut.lastBaseUpdate=at,ut.shared.pending=null}}while(1);if(ft===null&&(rt=it),ut.baseState=rt,ut.firstBaseUpdate=lt,ut.lastBaseUpdate=ft,_e=ut.shared.interleaved,_e!==null){ut=_e;do yt|=ut.lane,ut=ut.next;while(ut!==_e)}else pt===null&&(ut.shared.lanes=0);hh|=yt,$.lanes=yt,$.memoizedState=it}}function ih($,_e,et){if($=_e.effects,_e.effects=null,$!==null)for(_e=0;_e<$.length;_e++){var tt=$[_e],ut=tt.callback;if(ut!==null){if(tt.callback=null,tt=et,typeof ut!="function")throw Error(p$6(191,ut));ut.call(tt)}}}var jh=new aa.Component().refs;function kh($,_e,et,tt){_e=$.memoizedState,et=et(tt,_e),et=et==null?_e:A$2({},_e,et),$.memoizedState=et,$.lanes===0&&($.updateQueue.baseState=et)}var nh={isMounted:function($){return($=$._reactInternals)?Vb($)===$:!1},enqueueSetState:function($,_e,et){$=$._reactInternals;var tt=L$1(),ut=lh($),pt=ch(tt,ut);pt.payload=_e,et!=null&&(pt.callback=et),_e=dh($,pt,ut),_e!==null&&(mh(_e,$,ut,tt),eh(_e,$,ut))},enqueueReplaceState:function($,_e,et){$=$._reactInternals;var tt=L$1(),ut=lh($),pt=ch(tt,ut);pt.tag=1,pt.payload=_e,et!=null&&(pt.callback=et),_e=dh($,pt,ut),_e!==null&&(mh(_e,$,ut,tt),eh(_e,$,ut))},enqueueForceUpdate:function($,_e){$=$._reactInternals;var et=L$1(),tt=lh($),ut=ch(et,tt);ut.tag=2,_e!=null&&(ut.callback=_e),_e=dh($,ut,tt),_e!==null&&(mh(_e,$,tt,et),eh(_e,$,tt))}};function oh($,_e,et,tt,ut,pt,yt){return $=$.stateNode,typeof $.shouldComponentUpdate=="function"?$.shouldComponentUpdate(tt,pt,yt):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(et,tt)||!Ie(ut,pt):!0}function ph($,_e,et){var tt=!1,ut=Vf,pt=_e.contextType;return typeof pt=="object"&&pt!==null?pt=Vg(pt):(ut=Zf(_e)?Xf:H$1.current,tt=_e.contextTypes,pt=(tt=tt!=null)?Yf($,ut):Vf),_e=new _e(et,pt),$.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=nh,$.stateNode=_e,_e._reactInternals=$,tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=ut,$.__reactInternalMemoizedMaskedChildContext=pt),_e}function qh($,_e,et,tt){$=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(et,tt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(et,tt),_e.state!==$&&nh.enqueueReplaceState(_e,_e.state,null)}function rh($,_e,et,tt){var ut=$.stateNode;ut.props=et,ut.state=$.memoizedState,ut.refs=jh,ah($);var pt=_e.contextType;typeof pt=="object"&&pt!==null?ut.context=Vg(pt):(pt=Zf(_e)?Xf:H$1.current,ut.context=Yf($,pt)),ut.state=$.memoizedState,pt=_e.getDerivedStateFromProps,typeof pt=="function"&&(kh($,_e,pt,et),ut.state=$.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof ut.getSnapshotBeforeUpdate=="function"||typeof ut.UNSAFE_componentWillMount!="function"&&typeof ut.componentWillMount!="function"||(_e=ut.state,typeof ut.componentWillMount=="function"&&ut.componentWillMount(),typeof ut.UNSAFE_componentWillMount=="function"&&ut.UNSAFE_componentWillMount(),_e!==ut.state&&nh.enqueueReplaceState(ut,ut.state,null),gh($,et,ut,tt),ut.state=$.memoizedState),typeof ut.componentDidMount=="function"&&($.flags|=4194308)}function sh($,_e,et){if($=et.ref,$!==null&&typeof $!="function"&&typeof $!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$6(309));var tt=et.stateNode}if(!tt)throw Error(p$6(147,$));var ut=tt,pt=""+$;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===pt?_e.ref:(_e=function(yt){var ct=ut.refs;ct===jh&&(ct=ut.refs={}),yt===null?delete ct[pt]:ct[pt]=yt},_e._stringRef=pt,_e)}if(typeof $!="string")throw Error(p$6(284));if(!et._owner)throw Error(p$6(290,$))}return $}function th($,_e){throw $=Object.prototype.toString.call(_e),Error(p$6(31,$==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$))}function uh($){var _e=$._init;return _e($._payload)}function vh($){function _e(dt,vt){if($){var mt=dt.deletions;mt===null?(dt.deletions=[vt],dt.flags|=16):mt.push(vt)}}function et(dt,vt){if(!$)return null;for(;vt!==null;)_e(dt,vt),vt=vt.sibling;return null}function tt(dt,vt){for(dt=new Map;vt!==null;)vt.key!==null?dt.set(vt.key,vt):dt.set(vt.index,vt),vt=vt.sibling;return dt}function ut(dt,vt){return dt=wh(dt,vt),dt.index=0,dt.sibling=null,dt}function pt(dt,vt,mt){return dt.index=mt,$?(mt=dt.alternate,mt!==null?(mt=mt.index,mt<vt?(dt.flags|=2,vt):mt):(dt.flags|=2,vt)):(dt.flags|=1048576,vt)}function yt(dt){return $&&dt.alternate===null&&(dt.flags|=2),dt}function ct(dt,vt,mt,gt){return vt===null||vt.tag!==6?(vt=xh(mt,dt.mode,gt),vt.return=dt,vt):(vt=ut(vt,mt),vt.return=dt,vt)}function rt(dt,vt,mt,gt){var bt=mt.type;return bt===ya?ft(dt,vt,mt.props.children,gt,mt.key):vt!==null&&(vt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&uh(bt)===vt.type)?(gt=ut(vt,mt.props),gt.ref=sh(dt,vt,mt),gt.return=dt,gt):(gt=yh(mt.type,mt.key,mt.props,null,dt.mode,gt),gt.ref=sh(dt,vt,mt),gt.return=dt,gt)}function lt(dt,vt,mt,gt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==mt.containerInfo||vt.stateNode.implementation!==mt.implementation?(vt=zh(mt,dt.mode,gt),vt.return=dt,vt):(vt=ut(vt,mt.children||[]),vt.return=dt,vt)}function ft(dt,vt,mt,gt,bt){return vt===null||vt.tag!==7?(vt=Ah(mt,dt.mode,gt,bt),vt.return=dt,vt):(vt=ut(vt,mt),vt.return=dt,vt)}function it(dt,vt,mt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=xh(""+vt,dt.mode,mt),vt.return=dt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return mt=yh(vt.type,vt.key,vt.props,null,dt.mode,mt),mt.ref=sh(dt,null,vt),mt.return=dt,mt;case wa:return vt=zh(vt,dt.mode,mt),vt.return=dt,vt;case Ha:var gt=vt._init;return it(dt,gt(vt._payload),mt)}if(eb(vt)||Ka(vt))return vt=Ah(vt,dt.mode,mt,null),vt.return=dt,vt;th(dt,vt)}return null}function at(dt,vt,mt,gt){var bt=vt!==null?vt.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number")return bt!==null?null:ct(dt,vt,""+mt,gt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return mt.key===bt?rt(dt,vt,mt,gt):null;case wa:return mt.key===bt?lt(dt,vt,mt,gt):null;case Ha:return bt=mt._init,at(dt,vt,bt(mt._payload),gt)}if(eb(mt)||Ka(mt))return bt!==null?null:ft(dt,vt,mt,gt,null);th(dt,mt)}return null}function nt(dt,vt,mt,gt,bt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return dt=dt.get(mt)||null,ct(vt,dt,""+gt,bt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return dt=dt.get(gt.key===null?mt:gt.key)||null,rt(vt,dt,gt,bt);case wa:return dt=dt.get(gt.key===null?mt:gt.key)||null,lt(vt,dt,gt,bt);case Ha:var _t=gt._init;return nt(dt,vt,mt,_t(gt._payload),bt)}if(eb(gt)||Ka(gt))return dt=dt.get(mt)||null,ft(vt,dt,gt,bt,null);th(vt,gt)}return null}function ot(dt,vt,mt,gt){for(var bt=null,_t=null,Ct=vt,xt=vt=0,Tt=null;Ct!==null&&xt<mt.length;xt++){Ct.index>xt?(Tt=Ct,Ct=null):Tt=Ct.sibling;var Mt=at(dt,Ct,mt[xt],gt);if(Mt===null){Ct===null&&(Ct=Tt);break}$&&Ct&&Mt.alternate===null&&_e(dt,Ct),vt=pt(Mt,vt,xt),_t===null?bt=Mt:_t.sibling=Mt,_t=Mt,Ct=Tt}if(xt===mt.length)return et(dt,Ct),I$1&&tg(dt,xt),bt;if(Ct===null){for(;xt<mt.length;xt++)Ct=it(dt,mt[xt],gt),Ct!==null&&(vt=pt(Ct,vt,xt),_t===null?bt=Ct:_t.sibling=Ct,_t=Ct);return I$1&&tg(dt,xt),bt}for(Ct=tt(dt,Ct);xt<mt.length;xt++)Tt=nt(Ct,dt,xt,mt[xt],gt),Tt!==null&&($&&Tt.alternate!==null&&Ct.delete(Tt.key===null?xt:Tt.key),vt=pt(Tt,vt,xt),_t===null?bt=Tt:_t.sibling=Tt,_t=Tt);return $&&Ct.forEach(function(jt){return _e(dt,jt)}),I$1&&tg(dt,xt),bt}function ht(dt,vt,mt,gt){var bt=Ka(mt);if(typeof bt!="function")throw Error(p$6(150));if(mt=bt.call(mt),mt==null)throw Error(p$6(151));for(var _t=bt=null,Ct=vt,xt=vt=0,Tt=null,Mt=mt.next();Ct!==null&&!Mt.done;xt++,Mt=mt.next()){Ct.index>xt?(Tt=Ct,Ct=null):Tt=Ct.sibling;var jt=at(dt,Ct,Mt.value,gt);if(jt===null){Ct===null&&(Ct=Tt);break}$&&Ct&&jt.alternate===null&&_e(dt,Ct),vt=pt(jt,vt,xt),_t===null?bt=jt:_t.sibling=jt,_t=jt,Ct=Tt}if(Mt.done)return et(dt,Ct),I$1&&tg(dt,xt),bt;if(Ct===null){for(;!Mt.done;xt++,Mt=mt.next())Mt=it(dt,Mt.value,gt),Mt!==null&&(vt=pt(Mt,vt,xt),_t===null?bt=Mt:_t.sibling=Mt,_t=Mt);return I$1&&tg(dt,xt),bt}for(Ct=tt(dt,Ct);!Mt.done;xt++,Mt=mt.next())Mt=nt(Ct,dt,xt,Mt.value,gt),Mt!==null&&($&&Mt.alternate!==null&&Ct.delete(Mt.key===null?xt:Mt.key),vt=pt(Mt,vt,xt),_t===null?bt=Mt:_t.sibling=Mt,_t=Mt);return $&&Ct.forEach(function(Gt){return _e(dt,Gt)}),I$1&&tg(dt,xt),bt}function st(dt,vt,mt,gt){if(typeof mt=="object"&&mt!==null&&mt.type===ya&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:e:{for(var bt=mt.key,_t=vt;_t!==null;){if(_t.key===bt){if(bt=mt.type,bt===ya){if(_t.tag===7){et(dt,_t.sibling),vt=ut(_t,mt.props.children),vt.return=dt,dt=vt;break e}}else if(_t.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&uh(bt)===_t.type){et(dt,_t.sibling),vt=ut(_t,mt.props),vt.ref=sh(dt,_t,mt),vt.return=dt,dt=vt;break e}et(dt,_t);break}else _e(dt,_t);_t=_t.sibling}mt.type===ya?(vt=Ah(mt.props.children,dt.mode,gt,mt.key),vt.return=dt,dt=vt):(gt=yh(mt.type,mt.key,mt.props,null,dt.mode,gt),gt.ref=sh(dt,vt,mt),gt.return=dt,dt=gt)}return yt(dt);case wa:e:{for(_t=mt.key;vt!==null;){if(vt.key===_t)if(vt.tag===4&&vt.stateNode.containerInfo===mt.containerInfo&&vt.stateNode.implementation===mt.implementation){et(dt,vt.sibling),vt=ut(vt,mt.children||[]),vt.return=dt,dt=vt;break e}else{et(dt,vt);break}else _e(dt,vt);vt=vt.sibling}vt=zh(mt,dt.mode,gt),vt.return=dt,dt=vt}return yt(dt);case Ha:return _t=mt._init,st(dt,vt,_t(mt._payload),gt)}if(eb(mt))return ot(dt,vt,mt,gt);if(Ka(mt))return ht(dt,vt,mt,gt);th(dt,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"?(mt=""+mt,vt!==null&&vt.tag===6?(et(dt,vt.sibling),vt=ut(vt,mt),vt.return=dt,dt=vt):(et(dt,vt),vt=xh(mt,dt.mode,gt),vt.return=dt,dt=vt),yt(dt)):et(dt,vt)}return st}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh($){if($===Dh)throw Error(p$6(174));return $}function Ih($,_e){switch(G$1(Gh,_e),G$1(Fh,$),G$1(Eh,Dh),$=_e.nodeType,$){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:$=$===8?_e.parentNode:_e,_e=$.namespaceURI||null,$=$.tagName,_e=lb(_e,$)}E$1(Eh),G$1(Eh,_e)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh($){Hh(Gh.current);var _e=Hh(Eh.current),et=lb(_e,$.type);_e!==et&&(G$1(Fh,$),G$1(Eh,et))}function Lh($){Fh.current===$&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh($){for(var _e=$;_e!==null;){if(_e.tag===13){var et=_e.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if((_e.flags&128)!==0)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Nh=[];function Oh(){for(var $=0;$<Nh.length;$++)Nh[$]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$6(321))}function Wh($,_e){if(_e===null)return!1;for(var et=0;et<_e.length&&et<$.length;et++)if(!He($[et],_e[et]))return!1;return!0}function Xh($,_e,et,tt,ut,pt){if(Rh=pt,N$1=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Ph.current=$===null||$.memoizedState===null?Yh:Zh,$=et(tt,ut),Th){pt=0;do{if(Th=!1,Uh=0,25<=pt)throw Error(p$6(301));pt+=1,P$1=O$1=null,_e.updateQueue=null,Ph.current=$h,$=et(tt,ut)}while(Th)}if(Ph.current=ai,_e=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$1=null,Sh=!1,_e)throw Error(p$6(300));return $}function bi(){var $=Uh!==0;return Uh=0,$}function ci(){var $={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=$:P$1=P$1.next=$,P$1}function di(){if(O$1===null){var $=N$1.alternate;$=$!==null?$.memoizedState:null}else $=O$1.next;var _e=P$1===null?N$1.memoizedState:P$1.next;if(_e!==null)P$1=_e,O$1=$;else{if($===null)throw Error(p$6(310));O$1=$,$={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$1.memoizedState=P$1=$:P$1=P$1.next=$}return P$1}function ei($,_e){return typeof _e=="function"?_e($):_e}function fi($){var _e=di(),et=_e.queue;if(et===null)throw Error(p$6(311));et.lastRenderedReducer=$;var tt=O$1,ut=tt.baseQueue,pt=et.pending;if(pt!==null){if(ut!==null){var yt=ut.next;ut.next=pt.next,pt.next=yt}tt.baseQueue=ut=pt,et.pending=null}if(ut!==null){pt=ut.next,tt=tt.baseState;var ct=yt=null,rt=null,lt=pt;do{var ft=lt.lane;if((Rh&ft)===ft)rt!==null&&(rt=rt.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),tt=lt.hasEagerState?lt.eagerState:$(tt,lt.action);else{var it={lane:ft,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};rt===null?(ct=rt=it,yt=tt):rt=rt.next=it,N$1.lanes|=ft,hh|=ft}lt=lt.next}while(lt!==null&&lt!==pt);rt===null?yt=tt:rt.next=ct,He(tt,_e.memoizedState)||(Ug=!0),_e.memoizedState=tt,_e.baseState=yt,_e.baseQueue=rt,et.lastRenderedState=tt}if($=et.interleaved,$!==null){ut=$;do pt=ut.lane,N$1.lanes|=pt,hh|=pt,ut=ut.next;while(ut!==$)}else ut===null&&(et.lanes=0);return[_e.memoizedState,et.dispatch]}function gi($){var _e=di(),et=_e.queue;if(et===null)throw Error(p$6(311));et.lastRenderedReducer=$;var tt=et.dispatch,ut=et.pending,pt=_e.memoizedState;if(ut!==null){et.pending=null;var yt=ut=ut.next;do pt=$(pt,yt.action),yt=yt.next;while(yt!==ut);He(pt,_e.memoizedState)||(Ug=!0),_e.memoizedState=pt,_e.baseQueue===null&&(_e.baseState=pt),et.lastRenderedState=pt}return[pt,tt]}function hi(){}function ii($,_e){var et=N$1,tt=di(),ut=_e(),pt=!He(tt.memoizedState,ut);if(pt&&(tt.memoizedState=ut,Ug=!0),tt=tt.queue,ji(ki.bind(null,et,tt,$),[$]),tt.getSnapshot!==_e||pt||P$1!==null&&P$1.memoizedState.tag&1){if(et.flags|=2048,li(9,mi.bind(null,et,tt,ut,_e),void 0,null),R$1===null)throw Error(p$6(349));(Rh&30)!==0||ni(et,_e,ut)}return ut}function ni($,_e,et){$.flags|=16384,$={getSnapshot:_e,value:et},_e=N$1.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$1.updateQueue=_e,_e.stores=[$]):(et=_e.stores,et===null?_e.stores=[$]:et.push($))}function mi($,_e,et,tt){_e.value=et,_e.getSnapshot=tt,oi(_e)&&pi($)}function ki($,_e,et){return et(function(){oi(_e)&&pi($)})}function oi($){var _e=$.getSnapshot;$=$.value;try{var et=_e();return!He($,et)}catch{return!0}}function pi($){var _e=Zg($,1);_e!==null&&mh(_e,$,1,-1)}function qi($){var _e=ci();return typeof $=="function"&&($=$()),_e.memoizedState=_e.baseState=$,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:$},_e.queue=$,$=$.dispatch=ri.bind(null,N$1,$),[_e.memoizedState,$]}function li($,_e,et,tt){return $={tag:$,create:_e,destroy:et,deps:tt,next:null},_e=N$1.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$1.updateQueue=_e,_e.lastEffect=$.next=$):(et=_e.lastEffect,et===null?_e.lastEffect=$.next=$:(tt=et.next,et.next=$,$.next=tt,_e.lastEffect=$)),$}function si(){return di().memoizedState}function ti($,_e,et,tt){var ut=ci();N$1.flags|=$,ut.memoizedState=li(1|_e,et,void 0,tt===void 0?null:tt)}function ui($,_e,et,tt){var ut=di();tt=tt===void 0?null:tt;var pt=void 0;if(O$1!==null){var yt=O$1.memoizedState;if(pt=yt.destroy,tt!==null&&Wh(tt,yt.deps)){ut.memoizedState=li(_e,et,pt,tt);return}}N$1.flags|=$,ut.memoizedState=li(1|_e,et,pt,tt)}function vi($,_e){return ti(8390656,8,$,_e)}function ji($,_e){return ui(2048,8,$,_e)}function wi($,_e){return ui(4,2,$,_e)}function xi($,_e){return ui(4,4,$,_e)}function yi($,_e){if(typeof _e=="function")return $=$(),_e($),function(){_e(null)};if(_e!=null)return $=$(),_e.current=$,function(){_e.current=null}}function zi($,_e,et){return et=et!=null?et.concat([$]):null,ui(4,4,yi.bind(null,_e,$),et)}function Ai(){}function Bi($,_e){var et=di();_e=_e===void 0?null:_e;var tt=et.memoizedState;return tt!==null&&_e!==null&&Wh(_e,tt[1])?tt[0]:(et.memoizedState=[$,_e],$)}function Ci($,_e){var et=di();_e=_e===void 0?null:_e;var tt=et.memoizedState;return tt!==null&&_e!==null&&Wh(_e,tt[1])?tt[0]:($=$(),et.memoizedState=[$,_e],$)}function Di($,_e,et){return(Rh&21)===0?($.baseState&&($.baseState=!1,Ug=!0),$.memoizedState=et):(He(et,_e)||(et=yc(),N$1.lanes|=et,hh|=et,$.baseState=!0),_e)}function Ei($,_e){var et=C;C=et!==0&&4>et?et:4,$(!0);var tt=Qh.transition;Qh.transition={};try{$(!1),_e()}finally{C=et,Qh.transition=tt}}function Fi(){return di().memoizedState}function Gi($,_e,et){var tt=lh($);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},Hi($))Ii(_e,et);else if(et=Yg($,_e,et,tt),et!==null){var ut=L$1();mh(et,$,tt,ut),Ji(et,_e,tt)}}function ri($,_e,et){var tt=lh($),ut={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(Hi($))Ii(_e,ut);else{var pt=$.alternate;if($.lanes===0&&(pt===null||pt.lanes===0)&&(pt=_e.lastRenderedReducer,pt!==null))try{var yt=_e.lastRenderedState,ct=pt(yt,et);if(ut.hasEagerState=!0,ut.eagerState=ct,He(ct,yt)){var rt=_e.interleaved;rt===null?(ut.next=ut,Xg(_e)):(ut.next=rt.next,rt.next=ut),_e.interleaved=ut;return}}catch{}finally{}et=Yg($,_e,ut,tt),et!==null&&(ut=L$1(),mh(et,$,tt,ut),Ji(et,_e,tt))}}function Hi($){var _e=$.alternate;return $===N$1||_e!==null&&_e===N$1}function Ii($,_e){Th=Sh=!0;var et=$.pending;et===null?_e.next=_e:(_e.next=et.next,et.next=_e),$.pending=_e}function Ji($,_e,et){if((et&4194240)!==0){var tt=_e.lanes;tt&=$.pendingLanes,et|=tt,_e.lanes=et,Cc($,et)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function($,_e){return ci().memoizedState=[$,_e===void 0?null:_e],$},useContext:Vg,useEffect:vi,useImperativeHandle:function($,_e,et){return et=et!=null?et.concat([$]):null,ti(4194308,4,yi.bind(null,_e,$),et)},useLayoutEffect:function($,_e){return ti(4194308,4,$,_e)},useInsertionEffect:function($,_e){return ti(4,2,$,_e)},useMemo:function($,_e){var et=ci();return _e=_e===void 0?null:_e,$=$(),et.memoizedState=[$,_e],$},useReducer:function($,_e,et){var tt=ci();return _e=et!==void 0?et(_e):_e,tt.memoizedState=tt.baseState=_e,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$,lastRenderedState:_e},tt.queue=$,$=$.dispatch=Gi.bind(null,N$1,$),[tt.memoizedState,$]},useRef:function($){var _e=ci();return $={current:$},_e.memoizedState=$},useState:qi,useDebugValue:Ai,useDeferredValue:function($){return ci().memoizedState=$},useTransition:function(){var $=qi(!1),_e=$[0];return $=Ei.bind(null,$[1]),ci().memoizedState=$,[_e,$]},useMutableSource:function(){},useSyncExternalStore:function($,_e,et){var tt=N$1,ut=ci();if(I$1){if(et===void 0)throw Error(p$6(407));et=et()}else{if(et=_e(),R$1===null)throw Error(p$6(349));(Rh&30)!==0||ni(tt,_e,et)}ut.memoizedState=et;var pt={value:et,getSnapshot:_e};return ut.queue=pt,vi(ki.bind(null,tt,pt,$),[$]),tt.flags|=2048,li(9,mi.bind(null,tt,pt,et,_e),void 0,null),et},useId:function(){var $=ci(),_e=R$1.identifierPrefix;if(I$1){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,_e=":"+_e+"R"+et,et=Uh++,0<et&&(_e+="H"+et.toString(32)),_e+=":"}else et=Vh++,_e=":"+_e+"r"+et.toString(32)+":";return $.memoizedState=_e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function($){var _e=di();return Di(_e,O$1.memoizedState,$)},useTransition:function(){var $=fi(ei)[0],_e=di().memoizedState;return[$,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function($){var _e=di();return O$1===null?_e.memoizedState=$:Di(_e,O$1.memoizedState,$)},useTransition:function(){var $=gi(ei)[0],_e=di().memoizedState;return[$,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki($,_e){try{var et="",tt=_e;do et+=Pa(tt),tt=tt.return;while(tt);var ut=et}catch(pt){ut=`
Error generating stack: `+pt.message+`
`+pt.stack}return{value:$,source:_e,stack:ut,digest:null}}function Li($,_e,et){return{value:$,source:null,stack:et!=null?et:null,digest:_e!=null?_e:null}}function Mi($,_e){try{console.error(_e.value)}catch(et){setTimeout(function(){throw et})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi($,_e,et){et=ch(-1,et),et.tag=3,et.payload={element:null};var tt=_e.value;return et.callback=function(){Pi||(Pi=!0,Qi=tt),Mi($,_e)},et}function Ri($,_e,et){et=ch(-1,et),et.tag=3;var tt=$.type.getDerivedStateFromError;if(typeof tt=="function"){var ut=_e.value;et.payload=function(){return tt(ut)},et.callback=function(){Mi($,_e)}}var pt=$.stateNode;return pt!==null&&typeof pt.componentDidCatch=="function"&&(et.callback=function(){Mi($,_e),typeof tt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var yt=_e.stack;this.componentDidCatch(_e.value,{componentStack:yt!==null?yt:""})}),et}function Ti($,_e,et){var tt=$.pingCache;if(tt===null){tt=$.pingCache=new Ni;var ut=new Set;tt.set(_e,ut)}else ut=tt.get(_e),ut===void 0&&(ut=new Set,tt.set(_e,ut));ut.has(et)||(ut.add(et),$=Ui.bind(null,$,_e,et),_e.then($,$))}function Vi($){do{var _e;if((_e=$.tag===13)&&(_e=$.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return $;$=$.return}while($!==null);return null}function Wi($,_e,et,tt,ut){return($.mode&1)===0?($===_e?$.flags|=65536:($.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(_e=ch(-1,1),_e.tag=2,dh(et,_e,1))),et.lanes|=1),$):($.flags|=65536,$.lanes=ut,$)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi($,_e,et,tt){_e.child=$===null?Ch(_e,null,et,tt):Bh(_e,$.child,et,tt)}function Zi($,_e,et,tt,ut){et=et.render;var pt=_e.ref;return Tg(_e,ut),tt=Xh($,_e,et,tt,pt,ut),et=bi(),$!==null&&!Ug?(_e.updateQueue=$.updateQueue,_e.flags&=-2053,$.lanes&=~ut,$i($,_e,ut)):(I$1&&et&&vg(_e),_e.flags|=1,Yi($,_e,tt,ut),_e.child)}function aj($,_e,et,tt,ut){if($===null){var pt=et.type;return typeof pt=="function"&&!bj(pt)&&pt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(_e.tag=15,_e.type=pt,cj($,_e,pt,tt,ut)):($=yh(et.type,null,tt,_e,_e.mode,ut),$.ref=_e.ref,$.return=_e,_e.child=$)}if(pt=$.child,($.lanes&ut)===0){var yt=pt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(yt,tt)&&$.ref===_e.ref)return $i($,_e,ut)}return _e.flags|=1,$=wh(pt,tt),$.ref=_e.ref,$.return=_e,_e.child=$}function cj($,_e,et,tt,ut){if($!==null){var pt=$.memoizedProps;if(Ie(pt,tt)&&$.ref===_e.ref)if(Ug=!1,_e.pendingProps=tt=pt,($.lanes&ut)!==0)($.flags&131072)!==0&&(Ug=!0);else return _e.lanes=$.lanes,$i($,_e,ut)}return dj($,_e,et,tt,ut)}function ej($,_e,et){var tt=_e.pendingProps,ut=tt.children,pt=$!==null?$.memoizedState:null;if(tt.mode==="hidden")if((_e.mode&1)===0)_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=et;else{if((et&1073741824)===0)return $=pt!==null?pt.baseLanes|et:et,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:$,cachePool:null,transitions:null},_e.updateQueue=null,G$1(fj,gj),gj|=$,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=pt!==null?pt.baseLanes:et,G$1(fj,gj),gj|=tt}else pt!==null?(tt=pt.baseLanes|et,_e.memoizedState=null):tt=et,G$1(fj,gj),gj|=tt;return Yi($,_e,ut,et),_e.child}function hj($,_e){var et=_e.ref;($===null&&et!==null||$!==null&&$.ref!==et)&&(_e.flags|=512,_e.flags|=2097152)}function dj($,_e,et,tt,ut){var pt=Zf(et)?Xf:H$1.current;return pt=Yf(_e,pt),Tg(_e,ut),et=Xh($,_e,et,tt,pt,ut),tt=bi(),$!==null&&!Ug?(_e.updateQueue=$.updateQueue,_e.flags&=-2053,$.lanes&=~ut,$i($,_e,ut)):(I$1&&tt&&vg(_e),_e.flags|=1,Yi($,_e,et,ut),_e.child)}function ij($,_e,et,tt,ut){if(Zf(et)){var pt=!0;cg(_e)}else pt=!1;if(Tg(_e,ut),_e.stateNode===null)jj($,_e),ph(_e,et,tt),rh(_e,et,tt,ut),tt=!0;else if($===null){var yt=_e.stateNode,ct=_e.memoizedProps;yt.props=ct;var rt=yt.context,lt=et.contextType;typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(et)?Xf:H$1.current,lt=Yf(_e,lt));var ft=et.getDerivedStateFromProps,it=typeof ft=="function"||typeof yt.getSnapshotBeforeUpdate=="function";it||typeof yt.UNSAFE_componentWillReceiveProps!="function"&&typeof yt.componentWillReceiveProps!="function"||(ct!==tt||rt!==lt)&&qh(_e,yt,tt,lt),$g=!1;var at=_e.memoizedState;yt.state=at,gh(_e,tt,yt,ut),rt=_e.memoizedState,ct!==tt||at!==rt||Wf.current||$g?(typeof ft=="function"&&(kh(_e,et,ft,tt),rt=_e.memoizedState),(ct=$g||oh(_e,et,ct,tt,at,rt,lt))?(it||typeof yt.UNSAFE_componentWillMount!="function"&&typeof yt.componentWillMount!="function"||(typeof yt.componentWillMount=="function"&&yt.componentWillMount(),typeof yt.UNSAFE_componentWillMount=="function"&&yt.UNSAFE_componentWillMount()),typeof yt.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof yt.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=tt,_e.memoizedState=rt),yt.props=tt,yt.state=rt,yt.context=lt,tt=ct):(typeof yt.componentDidMount=="function"&&(_e.flags|=4194308),tt=!1)}else{yt=_e.stateNode,bh($,_e),ct=_e.memoizedProps,lt=_e.type===_e.elementType?ct:Lg(_e.type,ct),yt.props=lt,it=_e.pendingProps,at=yt.context,rt=et.contextType,typeof rt=="object"&&rt!==null?rt=Vg(rt):(rt=Zf(et)?Xf:H$1.current,rt=Yf(_e,rt));var nt=et.getDerivedStateFromProps;(ft=typeof nt=="function"||typeof yt.getSnapshotBeforeUpdate=="function")||typeof yt.UNSAFE_componentWillReceiveProps!="function"&&typeof yt.componentWillReceiveProps!="function"||(ct!==it||at!==rt)&&qh(_e,yt,tt,rt),$g=!1,at=_e.memoizedState,yt.state=at,gh(_e,tt,yt,ut);var ot=_e.memoizedState;ct!==it||at!==ot||Wf.current||$g?(typeof nt=="function"&&(kh(_e,et,nt,tt),ot=_e.memoizedState),(lt=$g||oh(_e,et,lt,tt,at,ot,rt)||!1)?(ft||typeof yt.UNSAFE_componentWillUpdate!="function"&&typeof yt.componentWillUpdate!="function"||(typeof yt.componentWillUpdate=="function"&&yt.componentWillUpdate(tt,ot,rt),typeof yt.UNSAFE_componentWillUpdate=="function"&&yt.UNSAFE_componentWillUpdate(tt,ot,rt)),typeof yt.componentDidUpdate=="function"&&(_e.flags|=4),typeof yt.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof yt.componentDidUpdate!="function"||ct===$.memoizedProps&&at===$.memoizedState||(_e.flags|=4),typeof yt.getSnapshotBeforeUpdate!="function"||ct===$.memoizedProps&&at===$.memoizedState||(_e.flags|=1024),_e.memoizedProps=tt,_e.memoizedState=ot),yt.props=tt,yt.state=ot,yt.context=rt,tt=lt):(typeof yt.componentDidUpdate!="function"||ct===$.memoizedProps&&at===$.memoizedState||(_e.flags|=4),typeof yt.getSnapshotBeforeUpdate!="function"||ct===$.memoizedProps&&at===$.memoizedState||(_e.flags|=1024),tt=!1)}return kj($,_e,et,tt,pt,ut)}function kj($,_e,et,tt,ut,pt){hj($,_e);var yt=(_e.flags&128)!==0;if(!tt&&!yt)return ut&&dg(_e,et,!1),$i($,_e,pt);tt=_e.stateNode,Xi.current=_e;var ct=yt&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return _e.flags|=1,$!==null&&yt?(_e.child=Bh(_e,$.child,null,pt),_e.child=Bh(_e,null,ct,pt)):Yi($,_e,ct,pt),_e.memoizedState=tt.state,ut&&dg(_e,et,!0),_e.child}function lj($){var _e=$.stateNode;_e.pendingContext?ag($,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag($,_e.context,!1),Ih($,_e.containerInfo)}function mj($,_e,et,tt,ut){return Ig(),Jg(ut),_e.flags|=256,Yi($,_e,et,tt),_e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj($){return{baseLanes:$,cachePool:null,transitions:null}}function pj($,_e,et){var tt=_e.pendingProps,ut=M$1.current,pt=!1,yt=(_e.flags&128)!==0,ct;if((ct=yt)||(ct=$!==null&&$.memoizedState===null?!1:(ut&2)!==0),ct?(pt=!0,_e.flags&=-129):($===null||$.memoizedState!==null)&&(ut|=1),G$1(M$1,ut&1),$===null)return Eg(_e),$=_e.memoizedState,$!==null&&($=$.dehydrated,$!==null)?((_e.mode&1)===0?_e.lanes=1:$.data==="$!"?_e.lanes=8:_e.lanes=1073741824,null):(yt=tt.children,$=tt.fallback,pt?(tt=_e.mode,pt=_e.child,yt={mode:"hidden",children:yt},(tt&1)===0&&pt!==null?(pt.childLanes=0,pt.pendingProps=yt):pt=qj(yt,tt,0,null),$=Ah($,tt,et,null),pt.return=_e,$.return=_e,pt.sibling=$,_e.child=pt,_e.child.memoizedState=oj(et),_e.memoizedState=nj,$):rj(_e,yt));if(ut=$.memoizedState,ut!==null&&(ct=ut.dehydrated,ct!==null))return sj($,_e,yt,tt,ct,ut,et);if(pt){pt=tt.fallback,yt=_e.mode,ut=$.child,ct=ut.sibling;var rt={mode:"hidden",children:tt.children};return(yt&1)===0&&_e.child!==ut?(tt=_e.child,tt.childLanes=0,tt.pendingProps=rt,_e.deletions=null):(tt=wh(ut,rt),tt.subtreeFlags=ut.subtreeFlags&14680064),ct!==null?pt=wh(ct,pt):(pt=Ah(pt,yt,et,null),pt.flags|=2),pt.return=_e,tt.return=_e,tt.sibling=pt,_e.child=tt,tt=pt,pt=_e.child,yt=$.child.memoizedState,yt=yt===null?oj(et):{baseLanes:yt.baseLanes|et,cachePool:null,transitions:yt.transitions},pt.memoizedState=yt,pt.childLanes=$.childLanes&~et,_e.memoizedState=nj,tt}return pt=$.child,$=pt.sibling,tt=wh(pt,{mode:"visible",children:tt.children}),(_e.mode&1)===0&&(tt.lanes=et),tt.return=_e,tt.sibling=null,$!==null&&(et=_e.deletions,et===null?(_e.deletions=[$],_e.flags|=16):et.push($)),_e.child=tt,_e.memoizedState=null,tt}function rj($,_e){return _e=qj({mode:"visible",children:_e},$.mode,0,null),_e.return=$,$.child=_e}function tj($,_e,et,tt){return tt!==null&&Jg(tt),Bh(_e,$.child,null,et),$=rj(_e,_e.pendingProps.children),$.flags|=2,_e.memoizedState=null,$}function sj($,_e,et,tt,ut,pt,yt){if(et)return _e.flags&256?(_e.flags&=-257,tt=Li(Error(p$6(422))),tj($,_e,yt,tt)):_e.memoizedState!==null?(_e.child=$.child,_e.flags|=128,null):(pt=tt.fallback,ut=_e.mode,tt=qj({mode:"visible",children:tt.children},ut,0,null),pt=Ah(pt,ut,yt,null),pt.flags|=2,tt.return=_e,pt.return=_e,tt.sibling=pt,_e.child=tt,(_e.mode&1)!==0&&Bh(_e,$.child,null,yt),_e.child.memoizedState=oj(yt),_e.memoizedState=nj,pt);if((_e.mode&1)===0)return tj($,_e,yt,null);if(ut.data==="$!"){if(tt=ut.nextSibling&&ut.nextSibling.dataset,tt)var ct=tt.dgst;return tt=ct,pt=Error(p$6(419)),tt=Li(pt,tt,void 0),tj($,_e,yt,tt)}if(ct=(yt&$.childLanes)!==0,Ug||ct){if(tt=R$1,tt!==null){switch(yt&-yt){case 4:ut=2;break;case 16:ut=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ut=32;break;case 536870912:ut=268435456;break;default:ut=0}ut=(ut&(tt.suspendedLanes|yt))!==0?0:ut,ut!==0&&ut!==pt.retryLane&&(pt.retryLane=ut,Zg($,ut),mh(tt,$,ut,-1))}return uj(),tt=Li(Error(p$6(421))),tj($,_e,yt,tt)}return ut.data==="$?"?(_e.flags|=128,_e.child=$.child,_e=vj.bind(null,$),ut._reactRetry=_e,null):($=pt.treeContext,yg=Lf(ut.nextSibling),xg=_e,I$1=!0,zg=null,$!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=$.id,sg=$.overflow,qg=_e),_e=rj(_e,tt.children),_e.flags|=4096,_e)}function wj($,_e,et){$.lanes|=_e;var tt=$.alternate;tt!==null&&(tt.lanes|=_e),Sg($.return,_e,et)}function xj($,_e,et,tt,ut){var pt=$.memoizedState;pt===null?$.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:ut}:(pt.isBackwards=_e,pt.rendering=null,pt.renderingStartTime=0,pt.last=tt,pt.tail=et,pt.tailMode=ut)}function yj($,_e,et){var tt=_e.pendingProps,ut=tt.revealOrder,pt=tt.tail;if(Yi($,_e,tt.children,et),tt=M$1.current,(tt&2)!==0)tt=tt&1|2,_e.flags|=128;else{if($!==null&&($.flags&128)!==0)e:for($=_e.child;$!==null;){if($.tag===13)$.memoizedState!==null&&wj($,et,_e);else if($.tag===19)wj($,et,_e);else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break e;for(;$.sibling===null;){if($.return===null||$.return===_e)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}tt&=1}if(G$1(M$1,tt),(_e.mode&1)===0)_e.memoizedState=null;else switch(ut){case"forwards":for(et=_e.child,ut=null;et!==null;)$=et.alternate,$!==null&&Mh($)===null&&(ut=et),et=et.sibling;et=ut,et===null?(ut=_e.child,_e.child=null):(ut=et.sibling,et.sibling=null),xj(_e,!1,ut,et,pt);break;case"backwards":for(et=null,ut=_e.child,_e.child=null;ut!==null;){if($=ut.alternate,$!==null&&Mh($)===null){_e.child=ut;break}$=ut.sibling,ut.sibling=et,et=ut,ut=$}xj(_e,!0,et,null,pt);break;case"together":xj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function jj($,_e){(_e.mode&1)===0&&$!==null&&($.alternate=null,_e.alternate=null,_e.flags|=2)}function $i($,_e,et){if($!==null&&(_e.dependencies=$.dependencies),hh|=_e.lanes,(et&_e.childLanes)===0)return null;if($!==null&&_e.child!==$.child)throw Error(p$6(153));if(_e.child!==null){for($=_e.child,et=wh($,$.pendingProps),_e.child=et,et.return=_e;$.sibling!==null;)$=$.sibling,et=et.sibling=wh($,$.pendingProps),et.return=_e;et.sibling=null}return _e.child}function zj($,_e,et){switch(_e.tag){case 3:lj(_e),Ig();break;case 5:Kh(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:Ih(_e,_e.stateNode.containerInfo);break;case 10:var tt=_e.type._context,ut=_e.memoizedProps.value;G$1(Mg,tt._currentValue),tt._currentValue=ut;break;case 13:if(tt=_e.memoizedState,tt!==null)return tt.dehydrated!==null?(G$1(M$1,M$1.current&1),_e.flags|=128,null):(et&_e.child.childLanes)!==0?pj($,_e,et):(G$1(M$1,M$1.current&1),$=$i($,_e,et),$!==null?$.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(tt=(et&_e.childLanes)!==0,($.flags&128)!==0){if(tt)return yj($,_e,et);_e.flags|=128}if(ut=_e.memoizedState,ut!==null&&(ut.rendering=null,ut.tail=null,ut.lastEffect=null),G$1(M$1,M$1.current),tt)break;return null;case 22:case 23:return _e.lanes=0,ej($,_e,et)}return $i($,_e,et)}var Aj,Bj,Cj,Dj;Aj=function($,_e){for(var et=_e.child;et!==null;){if(et.tag===5||et.tag===6)$.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Bj=function(){};Cj=function($,_e,et,tt){var ut=$.memoizedProps;if(ut!==tt){$=_e.stateNode,Hh(Eh.current);var pt=null;switch(et){case"input":ut=Ya($,ut),tt=Ya($,tt),pt=[];break;case"select":ut=A$2({},ut,{value:void 0}),tt=A$2({},tt,{value:void 0}),pt=[];break;case"textarea":ut=gb($,ut),tt=gb($,tt),pt=[];break;default:typeof ut.onClick!="function"&&typeof tt.onClick=="function"&&($.onclick=Bf)}ub(et,tt);var yt;et=null;for(lt in ut)if(!tt.hasOwnProperty(lt)&&ut.hasOwnProperty(lt)&&ut[lt]!=null)if(lt==="style"){var ct=ut[lt];for(yt in ct)ct.hasOwnProperty(yt)&&(et||(et={}),et[yt]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?pt||(pt=[]):(pt=pt||[]).push(lt,null));for(lt in tt){var rt=tt[lt];if(ct=ut!=null?ut[lt]:void 0,tt.hasOwnProperty(lt)&&rt!==ct&&(rt!=null||ct!=null))if(lt==="style")if(ct){for(yt in ct)!ct.hasOwnProperty(yt)||rt&&rt.hasOwnProperty(yt)||(et||(et={}),et[yt]="");for(yt in rt)rt.hasOwnProperty(yt)&&ct[yt]!==rt[yt]&&(et||(et={}),et[yt]=rt[yt])}else et||(pt||(pt=[]),pt.push(lt,et)),et=rt;else lt==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,ct=ct?ct.__html:void 0,rt!=null&&ct!==rt&&(pt=pt||[]).push(lt,rt)):lt==="children"?typeof rt!="string"&&typeof rt!="number"||(pt=pt||[]).push(lt,""+rt):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(rt!=null&&lt==="onScroll"&&D$1("scroll",$),pt||ct===rt||(pt=[])):(pt=pt||[]).push(lt,rt))}et&&(pt=pt||[]).push("style",et);var lt=pt;(_e.updateQueue=lt)&&(_e.flags|=4)}};Dj=function($,_e,et,tt){et!==tt&&(_e.flags|=4)};function Ej($,_e){if(!I$1)switch($.tailMode){case"hidden":_e=$.tail;for(var et=null;_e!==null;)_e.alternate!==null&&(et=_e),_e=_e.sibling;et===null?$.tail=null:et.sibling=null;break;case"collapsed":et=$.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_e||$.tail===null?$.tail=null:$.tail.sibling=null:tt.sibling=null}}function S$1($){var _e=$.alternate!==null&&$.alternate.child===$.child,et=0,tt=0;if(_e)for(var ut=$.child;ut!==null;)et|=ut.lanes|ut.childLanes,tt|=ut.subtreeFlags&14680064,tt|=ut.flags&14680064,ut.return=$,ut=ut.sibling;else for(ut=$.child;ut!==null;)et|=ut.lanes|ut.childLanes,tt|=ut.subtreeFlags,tt|=ut.flags,ut.return=$,ut=ut.sibling;return $.subtreeFlags|=tt,$.childLanes=et,_e}function Fj($,_e,et){var tt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(_e),null;case 1:return Zf(_e.type)&&$f(),S$1(_e),null;case 3:return tt=_e.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),($===null||$.child===null)&&(Gg(_e)?_e.flags|=4:$===null||$.memoizedState.isDehydrated&&(_e.flags&256)===0||(_e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj($,_e),S$1(_e),null;case 5:Lh(_e);var ut=Hh(Gh.current);if(et=_e.type,$!==null&&_e.stateNode!=null)Cj($,_e,et,tt,ut),$.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!tt){if(_e.stateNode===null)throw Error(p$6(166));return S$1(_e),null}if($=Hh(Eh.current),Gg(_e)){tt=_e.stateNode,et=_e.type;var pt=_e.memoizedProps;switch(tt[Of]=_e,tt[Pf]=pt,$=(_e.mode&1)!==0,et){case"dialog":D$1("cancel",tt),D$1("close",tt);break;case"iframe":case"object":case"embed":D$1("load",tt);break;case"video":case"audio":for(ut=0;ut<lf.length;ut++)D$1(lf[ut],tt);break;case"source":D$1("error",tt);break;case"img":case"image":case"link":D$1("error",tt),D$1("load",tt);break;case"details":D$1("toggle",tt);break;case"input":Za(tt,pt),D$1("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!pt.multiple},D$1("invalid",tt);break;case"textarea":hb(tt,pt),D$1("invalid",tt)}ub(et,pt),ut=null;for(var yt in pt)if(pt.hasOwnProperty(yt)){var ct=pt[yt];yt==="children"?typeof ct=="string"?tt.textContent!==ct&&(pt.suppressHydrationWarning!==!0&&Af(tt.textContent,ct,$),ut=["children",ct]):typeof ct=="number"&&tt.textContent!==""+ct&&(pt.suppressHydrationWarning!==!0&&Af(tt.textContent,ct,$),ut=["children",""+ct]):ea.hasOwnProperty(yt)&&ct!=null&&yt==="onScroll"&&D$1("scroll",tt)}switch(et){case"input":Va(tt),db(tt,pt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof pt.onClick=="function"&&(tt.onclick=Bf)}tt=ut,_e.updateQueue=tt,tt!==null&&(_e.flags|=4)}else{yt=ut.nodeType===9?ut:ut.ownerDocument,$==="http://www.w3.org/1999/xhtml"&&($=kb(et)),$==="http://www.w3.org/1999/xhtml"?et==="script"?($=yt.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild)):typeof tt.is=="string"?$=yt.createElement(et,{is:tt.is}):($=yt.createElement(et),et==="select"&&(yt=$,tt.multiple?yt.multiple=!0:tt.size&&(yt.size=tt.size))):$=yt.createElementNS($,et),$[Of]=_e,$[Pf]=tt,Aj($,_e,!1,!1),_e.stateNode=$;e:{switch(yt=vb(et,tt),et){case"dialog":D$1("cancel",$),D$1("close",$),ut=tt;break;case"iframe":case"object":case"embed":D$1("load",$),ut=tt;break;case"video":case"audio":for(ut=0;ut<lf.length;ut++)D$1(lf[ut],$);ut=tt;break;case"source":D$1("error",$),ut=tt;break;case"img":case"image":case"link":D$1("error",$),D$1("load",$),ut=tt;break;case"details":D$1("toggle",$),ut=tt;break;case"input":Za($,tt),ut=Ya($,tt),D$1("invalid",$);break;case"option":ut=tt;break;case"select":$._wrapperState={wasMultiple:!!tt.multiple},ut=A$2({},tt,{value:void 0}),D$1("invalid",$);break;case"textarea":hb($,tt),ut=gb($,tt),D$1("invalid",$);break;default:ut=tt}ub(et,ut),ct=ut;for(pt in ct)if(ct.hasOwnProperty(pt)){var rt=ct[pt];pt==="style"?sb($,rt):pt==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,rt!=null&&nb($,rt)):pt==="children"?typeof rt=="string"?(et!=="textarea"||rt!=="")&&ob($,rt):typeof rt=="number"&&ob($,""+rt):pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&pt!=="autoFocus"&&(ea.hasOwnProperty(pt)?rt!=null&&pt==="onScroll"&&D$1("scroll",$):rt!=null&&ta($,pt,rt,yt))}switch(et){case"input":Va($),db($,tt,!1);break;case"textarea":Va($),jb($);break;case"option":tt.value!=null&&$.setAttribute("value",""+Sa(tt.value));break;case"select":$.multiple=!!tt.multiple,pt=tt.value,pt!=null?fb($,!!tt.multiple,pt,!1):tt.defaultValue!=null&&fb($,!!tt.multiple,tt.defaultValue,!0);break;default:typeof ut.onClick=="function"&&($.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$1(_e),null;case 6:if($&&_e.stateNode!=null)Dj($,_e,$.memoizedProps,tt);else{if(typeof tt!="string"&&_e.stateNode===null)throw Error(p$6(166));if(et=Hh(Gh.current),Hh(Eh.current),Gg(_e)){if(tt=_e.stateNode,et=_e.memoizedProps,tt[Of]=_e,(pt=tt.nodeValue!==et)&&($=xg,$!==null))switch($.tag){case 3:Af(tt.nodeValue,et,($.mode&1)!==0);break;case 5:$.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,($.mode&1)!==0)}pt&&(_e.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=_e,_e.stateNode=tt}return S$1(_e),null;case 13:if(E$1(M$1),tt=_e.memoizedState,$===null||$.memoizedState!==null&&$.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&(_e.mode&1)!==0&&(_e.flags&128)===0)Hg(),Ig(),_e.flags|=98560,pt=!1;else if(pt=Gg(_e),tt!==null&&tt.dehydrated!==null){if($===null){if(!pt)throw Error(p$6(318));if(pt=_e.memoizedState,pt=pt!==null?pt.dehydrated:null,!pt)throw Error(p$6(317));pt[Of]=_e}else Ig(),(_e.flags&128)===0&&(_e.memoizedState=null),_e.flags|=4;S$1(_e),pt=!1}else zg!==null&&(Gj(zg),zg=null),pt=!0;if(!pt)return _e.flags&65536?_e:null}return(_e.flags&128)!==0?(_e.lanes=et,_e):(tt=tt!==null,tt!==($!==null&&$.memoizedState!==null)&&tt&&(_e.child.flags|=8192,(_e.mode&1)!==0&&($===null||(M$1.current&1)!==0?T===0&&(T=3):uj())),_e.updateQueue!==null&&(_e.flags|=4),S$1(_e),null);case 4:return Jh(),Bj($,_e),$===null&&sf(_e.stateNode.containerInfo),S$1(_e),null;case 10:return Rg(_e.type._context),S$1(_e),null;case 17:return Zf(_e.type)&&$f(),S$1(_e),null;case 19:if(E$1(M$1),pt=_e.memoizedState,pt===null)return S$1(_e),null;if(tt=(_e.flags&128)!==0,yt=pt.rendering,yt===null)if(tt)Ej(pt,!1);else{if(T!==0||$!==null&&($.flags&128)!==0)for($=_e.child;$!==null;){if(yt=Mh($),yt!==null){for(_e.flags|=128,Ej(pt,!1),tt=yt.updateQueue,tt!==null&&(_e.updateQueue=tt,_e.flags|=4),_e.subtreeFlags=0,tt=et,et=_e.child;et!==null;)pt=et,$=tt,pt.flags&=14680066,yt=pt.alternate,yt===null?(pt.childLanes=0,pt.lanes=$,pt.child=null,pt.subtreeFlags=0,pt.memoizedProps=null,pt.memoizedState=null,pt.updateQueue=null,pt.dependencies=null,pt.stateNode=null):(pt.childLanes=yt.childLanes,pt.lanes=yt.lanes,pt.child=yt.child,pt.subtreeFlags=0,pt.deletions=null,pt.memoizedProps=yt.memoizedProps,pt.memoizedState=yt.memoizedState,pt.updateQueue=yt.updateQueue,pt.type=yt.type,$=yt.dependencies,pt.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext}),et=et.sibling;return G$1(M$1,M$1.current&1|2),_e.child}$=$.sibling}pt.tail!==null&&B$1()>Hj&&(_e.flags|=128,tt=!0,Ej(pt,!1),_e.lanes=4194304)}else{if(!tt)if($=Mh(yt),$!==null){if(_e.flags|=128,tt=!0,et=$.updateQueue,et!==null&&(_e.updateQueue=et,_e.flags|=4),Ej(pt,!0),pt.tail===null&&pt.tailMode==="hidden"&&!yt.alternate&&!I$1)return S$1(_e),null}else 2*B$1()-pt.renderingStartTime>Hj&&et!==1073741824&&(_e.flags|=128,tt=!0,Ej(pt,!1),_e.lanes=4194304);pt.isBackwards?(yt.sibling=_e.child,_e.child=yt):(et=pt.last,et!==null?et.sibling=yt:_e.child=yt,pt.last=yt)}return pt.tail!==null?(_e=pt.tail,pt.rendering=_e,pt.tail=_e.sibling,pt.renderingStartTime=B$1(),_e.sibling=null,et=M$1.current,G$1(M$1,tt?et&1|2:et&1),_e):(S$1(_e),null);case 22:case 23:return Ij(),tt=_e.memoizedState!==null,$!==null&&$.memoizedState!==null!==tt&&(_e.flags|=8192),tt&&(_e.mode&1)!==0?(gj&1073741824)!==0&&(S$1(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$1(_e),null;case 24:return null;case 25:return null}throw Error(p$6(156,_e.tag))}function Jj($,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),$=_e.flags,$&65536?(_e.flags=$&-65537|128,_e):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),$=_e.flags,($&65536)!==0&&($&128)===0?(_e.flags=$&-65537|128,_e):null;case 5:return Lh(_e),null;case 13:if(E$1(M$1),$=_e.memoizedState,$!==null&&$.dehydrated!==null){if(_e.alternate===null)throw Error(p$6(340));Ig()}return $=_e.flags,$&65536?(_e.flags=$&-65537|128,_e):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(_e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj($,_e){var et=$.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W$1($,_e,tt)}else et.current=null}function Nj($,_e,et){try{et()}catch(tt){W$1($,_e,tt)}}var Oj=!1;function Pj($,_e){if(Cf=dd,$=Me(),Ne($)){if("selectionStart"in $)var et={start:$.selectionStart,end:$.selectionEnd};else e:{et=(et=$.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var ut=tt.anchorOffset,pt=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,pt.nodeType}catch{et=null;break e}var yt=0,ct=-1,rt=-1,lt=0,ft=0,it=$,at=null;t:for(;;){for(var nt;it!==et||ut!==0&&it.nodeType!==3||(ct=yt+ut),it!==pt||tt!==0&&it.nodeType!==3||(rt=yt+tt),it.nodeType===3&&(yt+=it.nodeValue.length),(nt=it.firstChild)!==null;)at=it,it=nt;for(;;){if(it===$)break t;if(at===et&&++lt===ut&&(ct=yt),at===pt&&++ft===tt&&(rt=yt),(nt=it.nextSibling)!==null)break;it=at,at=it.parentNode}it=nt}et=ct===-1||rt===-1?null:{start:ct,end:rt}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:$,selectionRange:et},dd=!1,V=_e;V!==null;)if(_e=V,$=_e.child,(_e.subtreeFlags&1028)!==0&&$!==null)$.return=_e,V=$;else for(;V!==null;){_e=V;try{var ot=_e.alternate;if((_e.flags&1024)!==0)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var ht=ot.memoizedProps,st=ot.memoizedState,dt=_e.stateNode,vt=dt.getSnapshotBeforeUpdate(_e.elementType===_e.type?ht:Lg(_e.type,ht),st);dt.__reactInternalSnapshotBeforeUpdate=vt}break;case 3:var mt=_e.stateNode.containerInfo;mt.nodeType===1?mt.textContent="":mt.nodeType===9&&mt.documentElement&&mt.removeChild(mt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(gt){W$1(_e,_e.return,gt)}if($=_e.sibling,$!==null){$.return=_e.return,V=$;break}V=_e.return}return ot=Oj,Oj=!1,ot}function Qj($,_e,et){var tt=_e.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var ut=tt=tt.next;do{if((ut.tag&$)===$){var pt=ut.destroy;ut.destroy=void 0,pt!==void 0&&Nj(_e,et,pt)}ut=ut.next}while(ut!==tt)}}function Rj($,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var et=_e=_e.next;do{if((et.tag&$)===$){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==_e)}}function Sj($){var _e=$.ref;if(_e!==null){var et=$.stateNode;switch($.tag){case 5:$=et;break;default:$=et}typeof _e=="function"?_e($):_e.current=$}}function Tj($){var _e=$.alternate;_e!==null&&($.alternate=null,Tj(_e)),$.child=null,$.deletions=null,$.sibling=null,$.tag===5&&(_e=$.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),$.stateNode=null,$.return=null,$.dependencies=null,$.memoizedProps=null,$.memoizedState=null,$.pendingProps=null,$.stateNode=null,$.updateQueue=null}function Uj($){return $.tag===5||$.tag===3||$.tag===4}function Vj($){e:for(;;){for(;$.sibling===null;){if($.return===null||Uj($.return))return null;$=$.return}for($.sibling.return=$.return,$=$.sibling;$.tag!==5&&$.tag!==6&&$.tag!==18;){if($.flags&2||$.child===null||$.tag===4)continue e;$.child.return=$,$=$.child}if(!($.flags&2))return $.stateNode}}function Wj($,_e,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_e?et.nodeType===8?et.parentNode.insertBefore($,_e):et.insertBefore($,_e):(et.nodeType===8?(_e=et.parentNode,_e.insertBefore($,et)):(_e=et,_e.appendChild($)),et=et._reactRootContainer,et!=null||_e.onclick!==null||(_e.onclick=Bf));else if(tt!==4&&($=$.child,$!==null))for(Wj($,_e,et),$=$.sibling;$!==null;)Wj($,_e,et),$=$.sibling}function Xj($,_e,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_e?et.insertBefore($,_e):et.appendChild($);else if(tt!==4&&($=$.child,$!==null))for(Xj($,_e,et),$=$.sibling;$!==null;)Xj($,_e,et),$=$.sibling}var X$1=null,Yj=!1;function Zj($,_e,et){for(et=et.child;et!==null;)ak($,_e,et),et=et.sibling}function ak($,_e,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$1||Mj(et,_e);case 6:var tt=X$1,ut=Yj;X$1=null,Zj($,_e,et),X$1=tt,Yj=ut,X$1!==null&&(Yj?($=X$1,et=et.stateNode,$.nodeType===8?$.parentNode.removeChild(et):$.removeChild(et)):X$1.removeChild(et.stateNode));break;case 18:X$1!==null&&(Yj?($=X$1,et=et.stateNode,$.nodeType===8?Kf($.parentNode,et):$.nodeType===1&&Kf($,et),bd($)):Kf(X$1,et.stateNode));break;case 4:tt=X$1,ut=Yj,X$1=et.stateNode.containerInfo,Yj=!0,Zj($,_e,et),X$1=tt,Yj=ut;break;case 0:case 11:case 14:case 15:if(!U$1&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){ut=tt=tt.next;do{var pt=ut,yt=pt.destroy;pt=pt.tag,yt!==void 0&&((pt&2)!==0||(pt&4)!==0)&&Nj(et,_e,yt),ut=ut.next}while(ut!==tt)}Zj($,_e,et);break;case 1:if(!U$1&&(Mj(et,_e),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(ct){W$1(et,_e,ct)}Zj($,_e,et);break;case 21:Zj($,_e,et);break;case 22:et.mode&1?(U$1=(tt=U$1)||et.memoizedState!==null,Zj($,_e,et),U$1=tt):Zj($,_e,et);break;default:Zj($,_e,et)}}function bk($){var _e=$.updateQueue;if(_e!==null){$.updateQueue=null;var et=$.stateNode;et===null&&(et=$.stateNode=new Lj),_e.forEach(function(tt){var ut=ck.bind(null,$,tt);et.has(tt)||(et.add(tt),tt.then(ut,ut))})}}function dk($,_e){var et=_e.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var ut=et[tt];try{var pt=$,yt=_e,ct=yt;e:for(;ct!==null;){switch(ct.tag){case 5:X$1=ct.stateNode,Yj=!1;break e;case 3:X$1=ct.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=ct.stateNode.containerInfo,Yj=!0;break e}ct=ct.return}if(X$1===null)throw Error(p$6(160));ak(pt,yt,ut),X$1=null,Yj=!1;var rt=ut.alternate;rt!==null&&(rt.return=null),ut.return=null}catch(lt){W$1(ut,_e,lt)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)ek(_e,$),_e=_e.sibling}function ek($,_e){var et=$.alternate,tt=$.flags;switch($.tag){case 0:case 11:case 14:case 15:if(dk(_e,$),fk($),tt&4){try{Qj(3,$,$.return),Rj(3,$)}catch(ht){W$1($,$.return,ht)}try{Qj(5,$,$.return)}catch(ht){W$1($,$.return,ht)}}break;case 1:dk(_e,$),fk($),tt&512&&et!==null&&Mj(et,et.return);break;case 5:if(dk(_e,$),fk($),tt&512&&et!==null&&Mj(et,et.return),$.flags&32){var ut=$.stateNode;try{ob(ut,"")}catch(ht){W$1($,$.return,ht)}}if(tt&4&&(ut=$.stateNode,ut!=null)){var pt=$.memoizedProps,yt=et!==null?et.memoizedProps:pt,ct=$.type,rt=$.updateQueue;if($.updateQueue=null,rt!==null)try{ct==="input"&&pt.type==="radio"&&pt.name!=null&&ab(ut,pt),vb(ct,yt);var lt=vb(ct,pt);for(yt=0;yt<rt.length;yt+=2){var ft=rt[yt],it=rt[yt+1];ft==="style"?sb(ut,it):ft==="dangerouslySetInnerHTML"?nb(ut,it):ft==="children"?ob(ut,it):ta(ut,ft,it,lt)}switch(ct){case"input":bb(ut,pt);break;case"textarea":ib(ut,pt);break;case"select":var at=ut._wrapperState.wasMultiple;ut._wrapperState.wasMultiple=!!pt.multiple;var nt=pt.value;nt!=null?fb(ut,!!pt.multiple,nt,!1):at!==!!pt.multiple&&(pt.defaultValue!=null?fb(ut,!!pt.multiple,pt.defaultValue,!0):fb(ut,!!pt.multiple,pt.multiple?[]:"",!1))}ut[Pf]=pt}catch(ht){W$1($,$.return,ht)}}break;case 6:if(dk(_e,$),fk($),tt&4){if($.stateNode===null)throw Error(p$6(162));ut=$.stateNode,pt=$.memoizedProps;try{ut.nodeValue=pt}catch(ht){W$1($,$.return,ht)}}break;case 3:if(dk(_e,$),fk($),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(ht){W$1($,$.return,ht)}break;case 4:dk(_e,$),fk($);break;case 13:dk(_e,$),fk($),ut=$.child,ut.flags&8192&&(pt=ut.memoizedState!==null,ut.stateNode.isHidden=pt,!pt||ut.alternate!==null&&ut.alternate.memoizedState!==null||(gk=B$1())),tt&4&&bk($);break;case 22:if(ft=et!==null&&et.memoizedState!==null,$.mode&1?(U$1=(lt=U$1)||ft,dk(_e,$),U$1=lt):dk(_e,$),fk($),tt&8192){if(lt=$.memoizedState!==null,($.stateNode.isHidden=lt)&&!ft&&($.mode&1)!==0)for(V=$,ft=$.child;ft!==null;){for(it=V=ft;V!==null;){switch(at=V,nt=at.child,at.tag){case 0:case 11:case 14:case 15:Qj(4,at,at.return);break;case 1:Mj(at,at.return);var ot=at.stateNode;if(typeof ot.componentWillUnmount=="function"){tt=at,et=at.return;try{_e=tt,ot.props=_e.memoizedProps,ot.state=_e.memoizedState,ot.componentWillUnmount()}catch(ht){W$1(tt,et,ht)}}break;case 5:Mj(at,at.return);break;case 22:if(at.memoizedState!==null){hk(it);continue}}nt!==null?(nt.return=at,V=nt):hk(it)}ft=ft.sibling}e:for(ft=null,it=$;;){if(it.tag===5){if(ft===null){ft=it;try{ut=it.stateNode,lt?(pt=ut.style,typeof pt.setProperty=="function"?pt.setProperty("display","none","important"):pt.display="none"):(ct=it.stateNode,rt=it.memoizedProps.style,yt=rt!=null&&rt.hasOwnProperty("display")?rt.display:null,ct.style.display=rb("display",yt))}catch(ht){W$1($,$.return,ht)}}}else if(it.tag===6){if(ft===null)try{it.stateNode.nodeValue=lt?"":it.memoizedProps}catch(ht){W$1($,$.return,ht)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===$)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===$)break e;for(;it.sibling===null;){if(it.return===null||it.return===$)break e;ft===it&&(ft=null),it=it.return}ft===it&&(ft=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:dk(_e,$),fk($),tt&4&&bk($);break;case 21:break;default:dk(_e,$),fk($)}}function fk($){var _e=$.flags;if(_e&2){try{e:{for(var et=$.return;et!==null;){if(Uj(et)){var tt=et;break e}et=et.return}throw Error(p$6(160))}switch(tt.tag){case 5:var ut=tt.stateNode;tt.flags&32&&(ob(ut,""),tt.flags&=-33);var pt=Vj($);Xj($,pt,ut);break;case 3:case 4:var yt=tt.stateNode.containerInfo,ct=Vj($);Wj($,ct,yt);break;default:throw Error(p$6(161))}}catch(rt){W$1($,$.return,rt)}$.flags&=-3}_e&4096&&($.flags&=-4097)}function ik($,_e,et){V=$,jk($)}function jk($,_e,et){for(var tt=($.mode&1)!==0;V!==null;){var ut=V,pt=ut.child;if(ut.tag===22&&tt){var yt=ut.memoizedState!==null||Kj;if(!yt){var ct=ut.alternate,rt=ct!==null&&ct.memoizedState!==null||U$1;ct=Kj;var lt=U$1;if(Kj=yt,(U$1=rt)&&!lt)for(V=ut;V!==null;)yt=V,rt=yt.child,yt.tag===22&&yt.memoizedState!==null?kk(ut):rt!==null?(rt.return=yt,V=rt):kk(ut);for(;pt!==null;)V=pt,jk(pt),pt=pt.sibling;V=ut,Kj=ct,U$1=lt}lk($)}else(ut.subtreeFlags&8772)!==0&&pt!==null?(pt.return=ut,V=pt):lk($)}}function lk($){for(;V!==null;){var _e=V;if((_e.flags&8772)!==0){var et=_e.alternate;try{if((_e.flags&8772)!==0)switch(_e.tag){case 0:case 11:case 15:U$1||Rj(5,_e);break;case 1:var tt=_e.stateNode;if(_e.flags&4&&!U$1)if(et===null)tt.componentDidMount();else{var ut=_e.elementType===_e.type?et.memoizedProps:Lg(_e.type,et.memoizedProps);tt.componentDidUpdate(ut,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var pt=_e.updateQueue;pt!==null&&ih(_e,pt,tt);break;case 3:var yt=_e.updateQueue;if(yt!==null){if(et=null,_e.child!==null)switch(_e.child.tag){case 5:et=_e.child.stateNode;break;case 1:et=_e.child.stateNode}ih(_e,yt,et)}break;case 5:var ct=_e.stateNode;if(et===null&&_e.flags&4){et=ct;var rt=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":rt.autoFocus&&et.focus();break;case"img":rt.src&&(et.src=rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var lt=_e.alternate;if(lt!==null){var ft=lt.memoizedState;if(ft!==null){var it=ft.dehydrated;it!==null&&bd(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$1||_e.flags&512&&Sj(_e)}catch(at){W$1(_e,_e.return,at)}}if(_e===$){V=null;break}if(et=_e.sibling,et!==null){et.return=_e.return,V=et;break}V=_e.return}}function hk($){for(;V!==null;){var _e=V;if(_e===$){V=null;break}var et=_e.sibling;if(et!==null){et.return=_e.return,V=et;break}V=_e.return}}function kk($){for(;V!==null;){var _e=V;try{switch(_e.tag){case 0:case 11:case 15:var et=_e.return;try{Rj(4,_e)}catch(rt){W$1(_e,et,rt)}break;case 1:var tt=_e.stateNode;if(typeof tt.componentDidMount=="function"){var ut=_e.return;try{tt.componentDidMount()}catch(rt){W$1(_e,ut,rt)}}var pt=_e.return;try{Sj(_e)}catch(rt){W$1(_e,pt,rt)}break;case 5:var yt=_e.return;try{Sj(_e)}catch(rt){W$1(_e,yt,rt)}}}catch(rt){W$1(_e,_e.return,rt)}if(_e===$){V=null;break}var ct=_e.sibling;if(ct!==null){ct.return=_e.return,V=ct;break}V=_e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$1=null,Y=null,Z$1=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return(K&6)!==0?B$1():Bk!==-1?Bk:Bk=B$1()}function lh($){return($.mode&1)===0?1:(K&2)!==0&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):($=C,$!==0||($=window.event,$=$===void 0?16:jd($.type)),$)}function mh($,_e,et,tt){if(50<zk)throw zk=0,Ak=null,Error(p$6(185));Ac($,et,tt),((K&2)===0||$!==R$1)&&($===R$1&&((K&2)===0&&(rk|=et),T===4&&Dk($,Z$1)),Ek($,tt),et===1&&K===0&&(_e.mode&1)===0&&(Hj=B$1()+500,fg&&jg()))}function Ek($,_e){var et=$.callbackNode;wc($,_e);var tt=uc($,$===R$1?Z$1:0);if(tt===0)et!==null&&bc(et),$.callbackNode=null,$.callbackPriority=0;else if(_e=tt&-tt,$.callbackPriority!==_e){if(et!=null&&bc(et),_e===1)$.tag===0?ig(Fk.bind(null,$)):hg(Fk.bind(null,$)),Jf(function(){(K&6)===0&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Gk(et,Hk.bind(null,$))}$.callbackPriority=_e,$.callbackNode=et}}function Hk($,_e){if(Bk=-1,Ck=0,(K&6)!==0)throw Error(p$6(327));var et=$.callbackNode;if(Ik()&&$.callbackNode!==et)return null;var tt=uc($,$===R$1?Z$1:0);if(tt===0)return null;if((tt&30)!==0||(tt&$.expiredLanes)!==0||_e)_e=Jk($,tt);else{_e=tt;var ut=K;K|=2;var pt=Kk();(R$1!==$||Z$1!==_e)&&(vk=null,Hj=B$1()+500,Lk($,_e));do try{Mk();break}catch(ct){Nk($,ct)}while(1);Qg(),nk.current=pt,K=ut,Y!==null?_e=0:(R$1=null,Z$1=0,_e=T)}if(_e!==0){if(_e===2&&(ut=xc($),ut!==0&&(tt=ut,_e=Ok($,ut))),_e===1)throw et=qk,Lk($,0),Dk($,tt),Ek($,B$1()),et;if(_e===6)Dk($,tt);else{if(ut=$.current.alternate,(tt&30)===0&&!Pk(ut)&&(_e=Jk($,tt),_e===2&&(pt=xc($),pt!==0&&(tt=pt,_e=Ok($,pt))),_e===1))throw et=qk,Lk($,0),Dk($,tt),Ek($,B$1()),et;switch($.finishedWork=ut,$.finishedLanes=tt,_e){case 0:case 1:throw Error(p$6(345));case 2:Qk($,uk,vk);break;case 3:if(Dk($,tt),(tt&130023424)===tt&&(_e=gk+500-B$1(),10<_e)){if(uc($,0)!==0)break;if(ut=$.suspendedLanes,(ut&tt)!==tt){L$1(),$.pingedLanes|=$.suspendedLanes&ut;break}$.timeoutHandle=Ff(Qk.bind(null,$,uk,vk),_e);break}Qk($,uk,vk);break;case 4:if(Dk($,tt),(tt&4194240)===tt)break;for(_e=$.eventTimes,ut=-1;0<tt;){var yt=31-oc(tt);pt=1<<yt,yt=_e[yt],yt>ut&&(ut=yt),tt&=~pt}if(tt=ut,tt=B$1()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*mk(tt/1960))-tt,10<tt){$.timeoutHandle=Ff(Qk.bind(null,$,uk,vk),tt);break}Qk($,uk,vk);break;case 5:Qk($,uk,vk);break;default:throw Error(p$6(329))}}}return Ek($,B$1()),$.callbackNode===et?Hk.bind(null,$):null}function Ok($,_e){var et=tk;return $.current.memoizedState.isDehydrated&&(Lk($,_e).flags|=256),$=Jk($,_e),$!==2&&(_e=uk,uk=et,_e!==null&&Gj(_e)),$}function Gj($){uk===null?uk=$:uk.push.apply(uk,$)}function Pk($){for(var _e=$;;){if(_e.flags&16384){var et=_e.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var ut=et[tt],pt=ut.getSnapshot;ut=ut.value;try{if(!He(pt(),ut))return!1}catch{return!1}}}if(et=_e.child,_e.subtreeFlags&16384&&et!==null)et.return=_e,_e=et;else{if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Dk($,_e){for(_e&=~sk,_e&=~rk,$.suspendedLanes|=_e,$.pingedLanes&=~_e,$=$.expirationTimes;0<_e;){var et=31-oc(_e),tt=1<<et;$[et]=-1,_e&=~tt}}function Fk($){if((K&6)!==0)throw Error(p$6(327));Ik();var _e=uc($,0);if((_e&1)===0)return Ek($,B$1()),null;var et=Jk($,_e);if($.tag!==0&&et===2){var tt=xc($);tt!==0&&(_e=tt,et=Ok($,tt))}if(et===1)throw et=qk,Lk($,0),Dk($,_e),Ek($,B$1()),et;if(et===6)throw Error(p$6(345));return $.finishedWork=$.current.alternate,$.finishedLanes=_e,Qk($,uk,vk),Ek($,B$1()),null}function Rk($,_e){var et=K;K|=1;try{return $(_e)}finally{K=et,K===0&&(Hj=B$1()+500,fg&&jg())}}function Sk($){xk!==null&&xk.tag===0&&(K&6)===0&&Ik();var _e=K;K|=1;var et=pk.transition,tt=C;try{if(pk.transition=null,C=1,$)return $()}finally{C=tt,pk.transition=et,K=_e,(K&6)===0&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk($,_e){$.finishedWork=null,$.finishedLanes=0;var et=$.timeoutHandle;if(et!==-1&&($.timeoutHandle=-1,Gf(et)),Y!==null)for(et=Y.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(tt);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(tt.type._context);break;case 22:case 23:Ij()}et=et.return}if(R$1=$,Y=$=wh($.current,null),Z$1=gj=_e,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_e=0;_e<Wg.length;_e++)if(et=Wg[_e],tt=et.interleaved,tt!==null){et.interleaved=null;var ut=tt.next,pt=et.pending;if(pt!==null){var yt=pt.next;pt.next=ut,tt.next=yt}et.pending=tt}Wg=null}return $}function Nk($,_e){do{var et=Y;try{if(Qg(),Ph.current=ai,Sh){for(var tt=N$1.memoizedState;tt!==null;){var ut=tt.queue;ut!==null&&(ut.pending=null),tt=tt.next}Sh=!1}if(Rh=0,P$1=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,et===null||et.return===null){T=1,qk=_e,Y=null;break}e:{var pt=$,yt=et.return,ct=et,rt=_e;if(_e=Z$1,ct.flags|=32768,rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var lt=rt,ft=ct,it=ft.tag;if((ft.mode&1)===0&&(it===0||it===11||it===15)){var at=ft.alternate;at?(ft.updateQueue=at.updateQueue,ft.memoizedState=at.memoizedState,ft.lanes=at.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var nt=Vi(yt);if(nt!==null){nt.flags&=-257,Wi(nt,yt,ct,pt,_e),nt.mode&1&&Ti(pt,lt,_e),_e=nt,rt=lt;var ot=_e.updateQueue;if(ot===null){var ht=new Set;ht.add(rt),_e.updateQueue=ht}else ot.add(rt);break e}else{if((_e&1)===0){Ti(pt,lt,_e),uj();break e}rt=Error(p$6(426))}}else if(I$1&&ct.mode&1){var st=Vi(yt);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),Wi(st,yt,ct,pt,_e),Jg(Ki(rt,ct));break e}}pt=rt=Ki(rt,ct),T!==4&&(T=2),tk===null?tk=[pt]:tk.push(pt),pt=yt;do{switch(pt.tag){case 3:pt.flags|=65536,_e&=-_e,pt.lanes|=_e;var dt=Oi(pt,rt,_e);fh(pt,dt);break e;case 1:ct=rt;var vt=pt.type,mt=pt.stateNode;if((pt.flags&128)===0&&(typeof vt.getDerivedStateFromError=="function"||mt!==null&&typeof mt.componentDidCatch=="function"&&(Si===null||!Si.has(mt)))){pt.flags|=65536,_e&=-_e,pt.lanes|=_e;var gt=Ri(pt,ct,_e);fh(pt,gt);break e}}pt=pt.return}while(pt!==null)}Tk(et)}catch(bt){_e=bt,Y===et&&et!==null&&(Y=et=et.return);continue}break}while(1)}function Kk(){var $=nk.current;return nk.current=ai,$===null?ai:$}function uj(){(T===0||T===3||T===2)&&(T=4),R$1===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R$1,Z$1)}function Jk($,_e){var et=K;K|=2;var tt=Kk();(R$1!==$||Z$1!==_e)&&(vk=null,Lk($,_e));do try{Uk();break}catch(ut){Nk($,ut)}while(1);if(Qg(),K=et,nk.current=tt,Y!==null)throw Error(p$6(261));return R$1=null,Z$1=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk($){var _e=Wk($.alternate,$,gj);$.memoizedProps=$.pendingProps,_e===null?Tk($):Y=_e,ok.current=null}function Tk($){var _e=$;do{var et=_e.alternate;if($=_e.return,(_e.flags&32768)===0){if(et=Fj(et,_e,gj),et!==null){Y=et;return}}else{if(et=Jj(et,_e),et!==null){et.flags&=32767,Y=et;return}if($!==null)$.flags|=32768,$.subtreeFlags=0,$.deletions=null;else{T=6,Y=null;return}}if(_e=_e.sibling,_e!==null){Y=_e;return}Y=_e=$}while(_e!==null);T===0&&(T=5)}function Qk($,_e,et){var tt=C,ut=pk.transition;try{pk.transition=null,C=1,Xk($,_e,et,tt)}finally{pk.transition=ut,C=tt}return null}function Xk($,_e,et,tt){do Ik();while(xk!==null);if((K&6)!==0)throw Error(p$6(327));et=$.finishedWork;var ut=$.finishedLanes;if(et===null)return null;if($.finishedWork=null,$.finishedLanes=0,et===$.current)throw Error(p$6(177));$.callbackNode=null,$.callbackPriority=0;var pt=et.lanes|et.childLanes;if(Bc($,pt),$===R$1&&(Y=R$1=null,Z$1=0),(et.subtreeFlags&2064)===0&&(et.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),pt=(et.flags&15990)!==0,(et.subtreeFlags&15990)!==0||pt){pt=pk.transition,pk.transition=null;var yt=C;C=1;var ct=K;K|=4,ok.current=null,Pj($,et),ek(et,$),Oe(Df),dd=!!Cf,Df=Cf=null,$.current=et,ik(et),dc(),K=ct,C=yt,pk.transition=pt}else $.current=et;if(wk&&(wk=!1,xk=$,yk=ut),pt=$.pendingLanes,pt===0&&(Si=null),mc(et.stateNode),Ek($,B$1()),_e!==null)for(tt=$.onRecoverableError,et=0;et<_e.length;et++)ut=_e[et],tt(ut.value,{componentStack:ut.stack,digest:ut.digest});if(Pi)throw Pi=!1,$=Qi,Qi=null,$;return(yk&1)!==0&&$.tag!==0&&Ik(),pt=$.pendingLanes,(pt&1)!==0?$===Ak?zk++:(zk=0,Ak=$):zk=0,jg(),null}function Ik(){if(xk!==null){var $=Dc(yk),_e=pk.transition,et=C;try{if(pk.transition=null,C=16>$?16:$,xk===null)var tt=!1;else{if($=xk,xk=null,yk=0,(K&6)!==0)throw Error(p$6(331));var ut=K;for(K|=4,V=$.current;V!==null;){var pt=V,yt=pt.child;if((V.flags&16)!==0){var ct=pt.deletions;if(ct!==null){for(var rt=0;rt<ct.length;rt++){var lt=ct[rt];for(V=lt;V!==null;){var ft=V;switch(ft.tag){case 0:case 11:case 15:Qj(8,ft,pt)}var it=ft.child;if(it!==null)it.return=ft,V=it;else for(;V!==null;){ft=V;var at=ft.sibling,nt=ft.return;if(Tj(ft),ft===lt){V=null;break}if(at!==null){at.return=nt,V=at;break}V=nt}}}var ot=pt.alternate;if(ot!==null){var ht=ot.child;if(ht!==null){ot.child=null;do{var st=ht.sibling;ht.sibling=null,ht=st}while(ht!==null)}}V=pt}}if((pt.subtreeFlags&2064)!==0&&yt!==null)yt.return=pt,V=yt;else e:for(;V!==null;){if(pt=V,(pt.flags&2048)!==0)switch(pt.tag){case 0:case 11:case 15:Qj(9,pt,pt.return)}var dt=pt.sibling;if(dt!==null){dt.return=pt.return,V=dt;break e}V=pt.return}}var vt=$.current;for(V=vt;V!==null;){yt=V;var mt=yt.child;if((yt.subtreeFlags&2064)!==0&&mt!==null)mt.return=yt,V=mt;else e:for(yt=vt;V!==null;){if(ct=V,(ct.flags&2048)!==0)try{switch(ct.tag){case 0:case 11:case 15:Rj(9,ct)}}catch(bt){W$1(ct,ct.return,bt)}if(ct===yt){V=null;break e}var gt=ct.sibling;if(gt!==null){gt.return=ct.return,V=gt;break e}V=ct.return}}if(K=ut,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,$)}catch{}tt=!0}return tt}finally{C=et,pk.transition=_e}}return!1}function Yk($,_e,et){_e=Ki(et,_e),_e=Oi($,_e,1),$=dh($,_e,1),_e=L$1(),$!==null&&(Ac($,1,_e),Ek($,_e))}function W$1($,_e,et){if($.tag===3)Yk($,$,et);else for(;_e!==null;){if(_e.tag===3){Yk(_e,$,et);break}else if(_e.tag===1){var tt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Si===null||!Si.has(tt))){$=Ki(et,$),$=Ri(_e,$,1),_e=dh(_e,$,1),$=L$1(),_e!==null&&(Ac(_e,1,$),Ek(_e,$));break}}_e=_e.return}}function Ui($,_e,et){var tt=$.pingCache;tt!==null&&tt.delete(_e),_e=L$1(),$.pingedLanes|=$.suspendedLanes&et,R$1===$&&(Z$1&et)===et&&(T===4||T===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk($,0):sk|=et),Ek($,_e)}function Zk($,_e){_e===0&&(($.mode&1)===0?_e=1:(_e=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var et=L$1();$=Zg($,_e),$!==null&&(Ac($,_e,et),Ek($,et))}function vj($){var _e=$.memoizedState,et=0;_e!==null&&(et=_e.retryLane),Zk($,et)}function ck($,_e){var et=0;switch($.tag){case 13:var tt=$.stateNode,ut=$.memoizedState;ut!==null&&(et=ut.retryLane);break;case 19:tt=$.stateNode;break;default:throw Error(p$6(314))}tt!==null&&tt.delete(_e),Zk($,et)}var Wk;Wk=function($,_e,et){if($!==null)if($.memoizedProps!==_e.pendingProps||Wf.current)Ug=!0;else{if(($.lanes&et)===0&&(_e.flags&128)===0)return Ug=!1,zj($,_e,et);Ug=($.flags&131072)!==0}else Ug=!1,I$1&&(_e.flags&1048576)!==0&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var tt=_e.type;jj($,_e),$=_e.pendingProps;var ut=Yf(_e,H$1.current);Tg(_e,et),ut=Xh(null,_e,tt,$,ut,et);var pt=bi();return _e.flags|=1,typeof ut=="object"&&ut!==null&&typeof ut.render=="function"&&ut.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(tt)?(pt=!0,cg(_e)):pt=!1,_e.memoizedState=ut.state!==null&&ut.state!==void 0?ut.state:null,ah(_e),ut.updater=nh,_e.stateNode=ut,ut._reactInternals=_e,rh(_e,tt,$,et),_e=kj(null,_e,tt,!0,pt,et)):(_e.tag=0,I$1&&pt&&vg(_e),Yi(null,_e,ut,et),_e=_e.child),_e;case 16:tt=_e.elementType;e:{switch(jj($,_e),$=_e.pendingProps,ut=tt._init,tt=ut(tt._payload),_e.type=tt,ut=_e.tag=$k(tt),$=Lg(tt,$),ut){case 0:_e=dj(null,_e,tt,$,et);break e;case 1:_e=ij(null,_e,tt,$,et);break e;case 11:_e=Zi(null,_e,tt,$,et);break e;case 14:_e=aj(null,_e,tt,Lg(tt.type,$),et);break e}throw Error(p$6(306,tt,""))}return _e;case 0:return tt=_e.type,ut=_e.pendingProps,ut=_e.elementType===tt?ut:Lg(tt,ut),dj($,_e,tt,ut,et);case 1:return tt=_e.type,ut=_e.pendingProps,ut=_e.elementType===tt?ut:Lg(tt,ut),ij($,_e,tt,ut,et);case 3:e:{if(lj(_e),$===null)throw Error(p$6(387));tt=_e.pendingProps,pt=_e.memoizedState,ut=pt.element,bh($,_e),gh(_e,tt,null,et);var yt=_e.memoizedState;if(tt=yt.element,pt.isDehydrated)if(pt={element:tt,isDehydrated:!1,cache:yt.cache,pendingSuspenseBoundaries:yt.pendingSuspenseBoundaries,transitions:yt.transitions},_e.updateQueue.baseState=pt,_e.memoizedState=pt,_e.flags&256){ut=Ki(Error(p$6(423)),_e),_e=mj($,_e,tt,et,ut);break e}else if(tt!==ut){ut=Ki(Error(p$6(424)),_e),_e=mj($,_e,tt,et,ut);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$1=!0,zg=null,et=Ch(_e,null,tt,et),_e.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===ut){_e=$i($,_e,et);break e}Yi($,_e,tt,et)}_e=_e.child}return _e;case 5:return Kh(_e),$===null&&Eg(_e),tt=_e.type,ut=_e.pendingProps,pt=$!==null?$.memoizedProps:null,yt=ut.children,Ef(tt,ut)?yt=null:pt!==null&&Ef(tt,pt)&&(_e.flags|=32),hj($,_e),Yi($,_e,yt,et),_e.child;case 6:return $===null&&Eg(_e),null;case 13:return pj($,_e,et);case 4:return Ih(_e,_e.stateNode.containerInfo),tt=_e.pendingProps,$===null?_e.child=Bh(_e,null,tt,et):Yi($,_e,tt,et),_e.child;case 11:return tt=_e.type,ut=_e.pendingProps,ut=_e.elementType===tt?ut:Lg(tt,ut),Zi($,_e,tt,ut,et);case 7:return Yi($,_e,_e.pendingProps,et),_e.child;case 8:return Yi($,_e,_e.pendingProps.children,et),_e.child;case 12:return Yi($,_e,_e.pendingProps.children,et),_e.child;case 10:e:{if(tt=_e.type._context,ut=_e.pendingProps,pt=_e.memoizedProps,yt=ut.value,G$1(Mg,tt._currentValue),tt._currentValue=yt,pt!==null)if(He(pt.value,yt)){if(pt.children===ut.children&&!Wf.current){_e=$i($,_e,et);break e}}else for(pt=_e.child,pt!==null&&(pt.return=_e);pt!==null;){var ct=pt.dependencies;if(ct!==null){yt=pt.child;for(var rt=ct.firstContext;rt!==null;){if(rt.context===tt){if(pt.tag===1){rt=ch(-1,et&-et),rt.tag=2;var lt=pt.updateQueue;if(lt!==null){lt=lt.shared;var ft=lt.pending;ft===null?rt.next=rt:(rt.next=ft.next,ft.next=rt),lt.pending=rt}}pt.lanes|=et,rt=pt.alternate,rt!==null&&(rt.lanes|=et),Sg(pt.return,et,_e),ct.lanes|=et;break}rt=rt.next}}else if(pt.tag===10)yt=pt.type===_e.type?null:pt.child;else if(pt.tag===18){if(yt=pt.return,yt===null)throw Error(p$6(341));yt.lanes|=et,ct=yt.alternate,ct!==null&&(ct.lanes|=et),Sg(yt,et,_e),yt=pt.sibling}else yt=pt.child;if(yt!==null)yt.return=pt;else for(yt=pt;yt!==null;){if(yt===_e){yt=null;break}if(pt=yt.sibling,pt!==null){pt.return=yt.return,yt=pt;break}yt=yt.return}pt=yt}Yi($,_e,ut.children,et),_e=_e.child}return _e;case 9:return ut=_e.type,tt=_e.pendingProps.children,Tg(_e,et),ut=Vg(ut),tt=tt(ut),_e.flags|=1,Yi($,_e,tt,et),_e.child;case 14:return tt=_e.type,ut=Lg(tt,_e.pendingProps),ut=Lg(tt.type,ut),aj($,_e,tt,ut,et);case 15:return cj($,_e,_e.type,_e.pendingProps,et);case 17:return tt=_e.type,ut=_e.pendingProps,ut=_e.elementType===tt?ut:Lg(tt,ut),jj($,_e),_e.tag=1,Zf(tt)?($=!0,cg(_e)):$=!1,Tg(_e,et),ph(_e,tt,ut),rh(_e,tt,ut,et),kj(null,_e,tt,!0,$,et);case 19:return yj($,_e,et);case 22:return ej($,_e,et)}throw Error(p$6(156,_e.tag))};function Gk($,_e){return ac($,_e)}function al($,_e,et,tt){this.tag=$,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg($,_e,et,tt){return new al($,_e,et,tt)}function bj($){return $=$.prototype,!(!$||!$.isReactComponent)}function $k($){if(typeof $=="function")return bj($)?1:0;if($!=null){if($=$.$$typeof,$===Da)return 11;if($===Ga)return 14}return 2}function wh($,_e){var et=$.alternate;return et===null?(et=Bg($.tag,_e,$.key,$.mode),et.elementType=$.elementType,et.type=$.type,et.stateNode=$.stateNode,et.alternate=$,$.alternate=et):(et.pendingProps=_e,et.type=$.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=$.flags&14680064,et.childLanes=$.childLanes,et.lanes=$.lanes,et.child=$.child,et.memoizedProps=$.memoizedProps,et.memoizedState=$.memoizedState,et.updateQueue=$.updateQueue,_e=$.dependencies,et.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},et.sibling=$.sibling,et.index=$.index,et.ref=$.ref,et}function yh($,_e,et,tt,ut,pt){var yt=2;if(tt=$,typeof $=="function")bj($)&&(yt=1);else if(typeof $=="string")yt=5;else e:switch($){case ya:return Ah(et.children,ut,pt,_e);case za:yt=8,ut|=8;break;case Aa:return $=Bg(12,et,_e,ut|2),$.elementType=Aa,$.lanes=pt,$;case Ea:return $=Bg(13,et,_e,ut),$.elementType=Ea,$.lanes=pt,$;case Fa:return $=Bg(19,et,_e,ut),$.elementType=Fa,$.lanes=pt,$;case Ia:return qj(et,ut,pt,_e);default:if(typeof $=="object"&&$!==null)switch($.$$typeof){case Ba:yt=10;break e;case Ca:yt=9;break e;case Da:yt=11;break e;case Ga:yt=14;break e;case Ha:yt=16,tt=null;break e}throw Error(p$6(130,$==null?$:typeof $,""))}return _e=Bg(yt,et,_e,ut),_e.elementType=$,_e.type=tt,_e.lanes=pt,_e}function Ah($,_e,et,tt){return $=Bg(7,$,tt,_e),$.lanes=et,$}function qj($,_e,et,tt){return $=Bg(22,$,tt,_e),$.elementType=Ia,$.lanes=et,$.stateNode={isHidden:!1},$}function xh($,_e,et){return $=Bg(6,$,null,_e),$.lanes=et,$}function zh($,_e,et){return _e=Bg(4,$.children!==null?$.children:[],$.key,_e),_e.lanes=et,_e.stateNode={containerInfo:$.containerInfo,pendingChildren:null,implementation:$.implementation},_e}function bl($,_e,et,tt,ut){this.tag=_e,this.containerInfo=$,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=ut,this.mutableSourceEagerHydrationData=null}function cl($,_e,et,tt,ut,pt,yt,ct,rt){return $=new bl($,_e,et,ct,rt),_e===1?(_e=1,pt===!0&&(_e|=8)):_e=0,pt=Bg(3,null,null,_e),$.current=pt,pt.stateNode=$,pt.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(pt),$}function dl($,_e,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:$,containerInfo:_e,implementation:et}}function el($){if(!$)return Vf;$=$._reactInternals;e:{if(Vb($)!==$||$.tag!==1)throw Error(p$6(170));var _e=$;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$6(171))}if($.tag===1){var et=$.type;if(Zf(et))return bg($,et,_e)}return _e}function fl($,_e,et,tt,ut,pt,yt,ct,rt){return $=cl(et,tt,!0,$,ut,pt,yt,ct,rt),$.context=el(null),et=$.current,tt=L$1(),ut=lh(et),pt=ch(tt,ut),pt.callback=_e!=null?_e:null,dh(et,pt,ut),$.current.lanes=ut,Ac($,ut,tt),Ek($,tt),$}function gl($,_e,et,tt){var ut=_e.current,pt=L$1(),yt=lh(ut);return et=el(et),_e.context===null?_e.context=et:_e.pendingContext=et,_e=ch(pt,yt),_e.payload={element:$},tt=tt===void 0?null:tt,tt!==null&&(_e.callback=tt),$=dh(ut,_e,yt),$!==null&&(mh($,ut,yt,pt),eh($,ut,yt)),yt}function hl($){if($=$.current,!$.child)return null;switch($.child.tag){case 5:return $.child.stateNode;default:return $.child.stateNode}}function il($,_e){if($=$.memoizedState,$!==null&&$.dehydrated!==null){var et=$.retryLane;$.retryLane=et!==0&&et<_e?et:_e}}function jl($,_e){il($,_e),($=$.alternate)&&il($,_e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function($){console.error($)};function ml($){this._internalRoot=$}nl.prototype.render=ml.prototype.render=function($){var _e=this._internalRoot;if(_e===null)throw Error(p$6(409));gl($,_e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var $=this._internalRoot;if($!==null){this._internalRoot=null;var _e=$.containerInfo;Sk(function(){gl(null,$,null,null)}),_e[uf]=null}};function nl($){this._internalRoot=$}nl.prototype.unstable_scheduleHydration=function($){if($){var _e=Hc();$={blockedOn:null,target:$,priority:_e};for(var et=0;et<Qc.length&&_e!==0&&_e<Qc[et].priority;et++);Qc.splice(et,0,$),et===0&&Vc($)}};function ol($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11)}function pl($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11&&($.nodeType!==8||$.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl($,_e,et,tt,ut){if(ut){if(typeof tt=="function"){var pt=tt;tt=function(){var lt=hl(yt);pt.call(lt)}}var yt=fl(_e,tt,$,0,null,!1,!1,"",ql);return $._reactRootContainer=yt,$[uf]=yt.current,sf($.nodeType===8?$.parentNode:$),Sk(),yt}for(;ut=$.lastChild;)$.removeChild(ut);if(typeof tt=="function"){var ct=tt;tt=function(){var lt=hl(rt);ct.call(lt)}}var rt=cl($,0,!1,null,null,!1,!1,"",ql);return $._reactRootContainer=rt,$[uf]=rt.current,sf($.nodeType===8?$.parentNode:$),Sk(function(){gl(_e,rt,et,tt)}),rt}function sl($,_e,et,tt,ut){var pt=et._reactRootContainer;if(pt){var yt=pt;if(typeof ut=="function"){var ct=ut;ut=function(){var rt=hl(yt);ct.call(rt)}}gl(_e,yt,$,ut)}else yt=rl(et,_e,$,ut,tt);return hl(yt)}Ec=function($){switch($.tag){case 3:var _e=$.stateNode;if(_e.current.memoizedState.isDehydrated){var et=tc(_e.pendingLanes);et!==0&&(Cc(_e,et|1),Ek(_e,B$1()),(K&6)===0&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var tt=Zg($,1);if(tt!==null){var ut=L$1();mh(tt,$,1,ut)}}),jl($,1)}};Fc=function($){if($.tag===13){var _e=Zg($,134217728);if(_e!==null){var et=L$1();mh(_e,$,134217728,et)}jl($,134217728)}};Gc=function($){if($.tag===13){var _e=lh($),et=Zg($,_e);if(et!==null){var tt=L$1();mh(et,$,_e,tt)}jl($,_e)}};Hc=function(){return C};Ic=function($,_e){var et=C;try{return C=$,_e()}finally{C=et}};yb=function($,_e,et){switch(_e){case"input":if(bb($,et),_e=et.name,et.type==="radio"&&_e!=null){for(et=$;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<et.length;_e++){var tt=et[_e];if(tt!==$&&tt.form===$.form){var ut=Db(tt);if(!ut)throw Error(p$6(90));Wa(tt),bb(tt,ut)}}}break;case"textarea":ib($,et);break;case"select":_e=et.value,_e!=null&&fb($,!!et.multiple,_e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function($){return $=Zb($),$===null?null:$.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function($,_e){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_e))throw Error(p$6(200));return dl($,_e,null,et)};reactDom_production_min.createRoot=function($,_e){if(!ol($))throw Error(p$6(299));var et=!1,tt="",ut=ll;return _e!=null&&(_e.unstable_strictMode===!0&&(et=!0),_e.identifierPrefix!==void 0&&(tt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(ut=_e.onRecoverableError)),_e=cl($,1,!1,null,null,et,!1,tt,ut),$[uf]=_e.current,sf($.nodeType===8?$.parentNode:$),new ml(_e)};reactDom_production_min.findDOMNode=function($){if($==null)return null;if($.nodeType===1)return $;var _e=$._reactInternals;if(_e===void 0)throw typeof $.render=="function"?Error(p$6(188)):($=Object.keys($).join(","),Error(p$6(268,$)));return $=Zb(_e),$=$===null?null:$.stateNode,$};reactDom_production_min.flushSync=function($){return Sk($)};reactDom_production_min.hydrate=function($,_e,et){if(!pl(_e))throw Error(p$6(200));return sl(null,$,_e,!0,et)};reactDom_production_min.hydrateRoot=function($,_e,et){if(!ol($))throw Error(p$6(405));var tt=et!=null&&et.hydratedSources||null,ut=!1,pt="",yt=ll;if(et!=null&&(et.unstable_strictMode===!0&&(ut=!0),et.identifierPrefix!==void 0&&(pt=et.identifierPrefix),et.onRecoverableError!==void 0&&(yt=et.onRecoverableError)),_e=fl(_e,null,$,1,et!=null?et:null,ut,!1,pt,yt),$[uf]=_e.current,sf($),tt)for($=0;$<tt.length;$++)et=tt[$],ut=et._getVersion,ut=ut(et._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[et,ut]:_e.mutableSourceEagerHydrationData.push(et,ut);return new nl(_e)};reactDom_production_min.render=function($,_e,et){if(!pl(_e))throw Error(p$6(200));return sl(null,$,_e,!1,et)};reactDom_production_min.unmountComponentAtNode=function($){if(!pl($))throw Error(p$6(40));return $._reactRootContainer?(Sk(function(){sl(null,null,$,!1,function(){$._reactRootContainer=null,$[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function($,_e,et,tt){if(!pl(et))throw Error(p$6(200));if($==null||$._reactInternals===void 0)throw Error(p$6(38));return sl($,_e,et,!1,tt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch($){console.error($)}}checkDCE(),reactDom.exports=reactDom_production_min;var m$5=reactDom.exports;client.createRoot=m$5.createRoot,client.hydrateRoot=m$5.hydrateRoot;/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$2.apply(this,arguments)}var Action;(function($){$.Pop="POP",$.Push="PUSH",$.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory($){$===void 0&&($={});function _e(tt,ut){let{pathname:pt,search:yt,hash:ct}=tt.location;return createLocation("",{pathname:pt,search:yt,hash:ct},ut.state&&ut.state.usr||null,ut.state&&ut.state.key||"default")}function et(tt,ut){return typeof ut=="string"?ut:createPath(ut)}return getUrlBasedHistory(_e,et,null,$)}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState($){return{usr:$.state,key:$.key}}function createLocation($,_e,et,tt){return et===void 0&&(et=null),_extends$2({pathname:typeof $=="string"?$:$.pathname,search:"",hash:""},typeof _e=="string"?parsePath(_e):_e,{state:et,key:_e&&_e.key||tt||createKey()})}function createPath($){let{pathname:_e="/",search:et="",hash:tt=""}=$;return et&&et!=="?"&&(_e+=et.charAt(0)==="?"?et:"?"+et),tt&&tt!=="#"&&(_e+=tt.charAt(0)==="#"?tt:"#"+tt),_e}function parsePath($){let _e={};if($){let et=$.indexOf("#");et>=0&&(_e.hash=$.substr(et),$=$.substr(0,et));let tt=$.indexOf("?");tt>=0&&(_e.search=$.substr(tt),$=$.substr(0,tt)),$&&(_e.pathname=$)}return _e}function createURL($){let _e=typeof window!="undefined"&&typeof window.location!="undefined"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",et=typeof $=="string"?$:createPath($);return new URL(et,_e)}function getUrlBasedHistory($,_e,et,tt){tt===void 0&&(tt={});let{window:ut=document.defaultView,v5Compat:pt=!1}=tt,yt=ut.history,ct=Action.Pop,rt=null;function lt(){ct=Action.Pop,rt&&rt({action:ct,location:at.location})}function ft(nt,ot){ct=Action.Push;let ht=createLocation(at.location,nt,ot);et&&et(ht,nt);let st=getHistoryState(ht),dt=at.createHref(ht);try{yt.pushState(st,"",dt)}catch{ut.location.assign(dt)}pt&&rt&&rt({action:ct,location:at.location})}function it(nt,ot){ct=Action.Replace;let ht=createLocation(at.location,nt,ot);et&&et(ht,nt);let st=getHistoryState(ht),dt=at.createHref(ht);yt.replaceState(st,"",dt),pt&&rt&&rt({action:ct,location:at.location})}let at={get action(){return ct},get location(){return $(ut,yt)},listen(nt){if(rt)throw new Error("A history only accepts one active listener");return ut.addEventListener(PopStateEventType,lt),rt=nt,()=>{ut.removeEventListener(PopStateEventType,lt),rt=null}},createHref(nt){return _e(ut,nt)},encodeLocation(nt){let ot=createURL(createPath(nt));return _extends$2({},nt,{pathname:ot.pathname,search:ot.search,hash:ot.hash})},push:ft,replace:it,go(nt){return yt.go(nt)}};return at}var ResultType;(function($){$.data="data",$.deferred="deferred",$.redirect="redirect",$.error="error"})(ResultType||(ResultType={}));function matchRoutes($,_e,et){et===void 0&&(et="/");let tt=typeof _e=="string"?parsePath(_e):_e,ut=stripBasename(tt.pathname||"/",et);if(ut==null)return null;let pt=flattenRoutes($);rankRouteBranches(pt);let yt=null;for(let ct=0;yt==null&&ct<pt.length;++ct)yt=matchRouteBranch(pt[ct],safelyDecodeURI(ut));return yt}function flattenRoutes($,_e,et,tt){return _e===void 0&&(_e=[]),et===void 0&&(et=[]),tt===void 0&&(tt=""),$.forEach((ut,pt)=>{let yt={relativePath:ut.path||"",caseSensitive:ut.caseSensitive===!0,childrenIndex:pt,route:ut};yt.relativePath.startsWith("/")&&(invariant$1(yt.relativePath.startsWith(tt),'Absolute route path "'+yt.relativePath+'" nested under path '+('"'+tt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),yt.relativePath=yt.relativePath.slice(tt.length));let ct=joinPaths([tt,yt.relativePath]),rt=et.concat(yt);ut.children&&ut.children.length>0&&(invariant$1(ut.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ct+'".')),flattenRoutes(ut.children,_e,rt,ct)),!(ut.path==null&&!ut.index)&&_e.push({path:ct,score:computeScore(ct,ut.index),routesMeta:rt})}),_e}function rankRouteBranches($){$.sort((_e,et)=>_e.score!==et.score?et.score-_e.score:compareIndexes(_e.routesMeta.map(tt=>tt.childrenIndex),et.routesMeta.map(tt=>tt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=$=>$==="*";function computeScore($,_e){let et=$.split("/"),tt=et.length;return et.some(isSplat)&&(tt+=splatPenalty),_e&&(tt+=indexRouteValue),et.filter(ut=>!isSplat(ut)).reduce((ut,pt)=>ut+(paramRe.test(pt)?dynamicSegmentValue:pt===""?emptySegmentValue:staticSegmentValue),tt)}function compareIndexes($,_e){return $.length===_e.length&&$.slice(0,-1).every((tt,ut)=>tt===_e[ut])?$[$.length-1]-_e[_e.length-1]:0}function matchRouteBranch($,_e){let{routesMeta:et}=$,tt={},ut="/",pt=[];for(let yt=0;yt<et.length;++yt){let ct=et[yt],rt=yt===et.length-1,lt=ut==="/"?_e:_e.slice(ut.length)||"/",ft=matchPath({path:ct.relativePath,caseSensitive:ct.caseSensitive,end:rt},lt);if(!ft)return null;Object.assign(tt,ft.params);let it=ct.route;pt.push({params:tt,pathname:joinPaths([ut,ft.pathname]),pathnameBase:normalizePathname(joinPaths([ut,ft.pathnameBase])),route:it}),ft.pathnameBase!=="/"&&(ut=joinPaths([ut,ft.pathnameBase]))}return pt}function matchPath($,_e){typeof $=="string"&&($={path:$,caseSensitive:!1,end:!0});let[et,tt]=compilePath($.path,$.caseSensitive,$.end),ut=_e.match(et);if(!ut)return null;let pt=ut[0],yt=pt.replace(/(.)\/+$/,"$1"),ct=ut.slice(1);return{params:tt.reduce((lt,ft,it)=>{if(ft==="*"){let at=ct[it]||"";yt=pt.slice(0,pt.length-at.length).replace(/(.)\/+$/,"$1")}return lt[ft]=safelyDecodeURIComponent(ct[it]||"",ft),lt},{}),pathname:pt,pathnameBase:yt,pattern:$}}function compilePath($,_e,et){_e===void 0&&(_e=!1),et===void 0&&(et=!0),warning$1($==="*"||!$.endsWith("*")||$.endsWith("/*"),'Route path "'+$+'" will be treated as if it were '+('"'+$.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+$.replace(/\*$/,"/*")+'".'));let tt=[],ut="^"+$.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(yt,ct)=>(tt.push(ct),"([^\\/]+)"));return $.endsWith("*")?(tt.push("*"),ut+=$==="*"||$==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):et?ut+="\\/*$":$!==""&&$!=="/"&&(ut+="(?:(?=\\/|$))"),[new RegExp(ut,_e?void 0:"i"),tt]}function safelyDecodeURI($){try{return decodeURI($)}catch(_e){return warning$1(!1,'The URL path "'+$+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_e+").")),$}}function safelyDecodeURIComponent($,_e){try{return decodeURIComponent($)}catch(et){return warning$1(!1,'The value for the URL param "'+_e+'" will not be decoded because'+(' the string "'+$+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+et+").")),$}}function stripBasename($,_e){if(_e==="/")return $;if(!$.toLowerCase().startsWith(_e.toLowerCase()))return null;let et=_e.endsWith("/")?_e.length-1:_e.length,tt=$.charAt(et);return tt&&tt!=="/"?null:$.slice(et)||"/"}function invariant$1($,_e){if($===!1||$===null||typeof $=="undefined")throw new Error(_e)}function warning$1($,_e){if(!$){typeof console!="undefined"&&console.warn(_e);try{throw new Error(_e)}catch{}}}function resolvePath($,_e){_e===void 0&&(_e="/");let{pathname:et,search:tt="",hash:ut=""}=typeof $=="string"?parsePath($):$;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,_e):_e,search:normalizeSearch(tt),hash:normalizeHash(ut)}}function resolvePathname($,_e){let et=_e.replace(/\/+$/,"").split("/");return $.split("/").forEach(ut=>{ut===".."?et.length>1&&et.pop():ut!=="."&&et.push(ut)}),et.length>1?et.join("/"):"/"}function getInvalidPathError($,_e,et,tt){return"Cannot include a '"+$+"' character in a manually specified "+("`to."+_e+"` field ["+JSON.stringify(tt)+"].  Please separate it out to the ")+("`to."+et+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches($){return $.filter((_e,et)=>et===0||_e.route.path&&_e.route.path.length>0)}function resolveTo($,_e,et,tt){tt===void 0&&(tt=!1);let ut;typeof $=="string"?ut=parsePath($):(ut=_extends$2({},$),invariant$1(!ut.pathname||!ut.pathname.includes("?"),getInvalidPathError("?","pathname","search",ut)),invariant$1(!ut.pathname||!ut.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ut)),invariant$1(!ut.search||!ut.search.includes("#"),getInvalidPathError("#","search","hash",ut)));let pt=$===""||ut.pathname==="",yt=pt?"/":ut.pathname,ct;if(tt||yt==null)ct=et;else{let it=_e.length-1;if(yt.startsWith("..")){let at=yt.split("/");for(;at[0]==="..";)at.shift(),it-=1;ut.pathname=at.join("/")}ct=it>=0?_e[it]:"/"}let rt=resolvePath(ut,ct),lt=yt&&yt!=="/"&&yt.endsWith("/"),ft=(pt||yt===".")&&et.endsWith("/");return!rt.pathname.endsWith("/")&&(lt||ft)&&(rt.pathname+="/"),rt}const joinPaths=$=>$.join("/").replace(/\/\/+/g,"/"),normalizePathname=$=>$.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=$=>!$||$==="?"?"":$.startsWith("?")?$:"?"+$,normalizeHash=$=>!$||$==="#"?"":$.startsWith("#")?$:"#"+$;class ErrorResponse{constructor(_e,et,tt){this.status=_e,this.statusText=et||"",this.data=tt}}function isRouteErrorResponse($){return $ instanceof ErrorResponse}const validActionMethods=new Set(["POST","PUT","PATCH","DELETE"]);[...validActionMethods];/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$1.apply(this,arguments)}function isPolyfill($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}const is=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$1;function useSyncExternalStore$2($,_e,et){const tt=_e(),[{inst:ut},pt]=useState({inst:{value:tt,getSnapshot:_e}});return useLayoutEffect(()=>{ut.value=tt,ut.getSnapshot=_e,checkIfSnapshotChanged(ut)&&pt({inst:ut})},[$,tt,_e]),useEffect(()=>(checkIfSnapshotChanged(ut)&&pt({inst:ut}),$(()=>{checkIfSnapshotChanged(ut)&&pt({inst:ut})})),[$]),useDebugValue(tt),tt}function checkIfSnapshotChanged($){const _e=$.getSnapshot,et=$.value;try{const tt=_e();return!is(et,tt)}catch{return!0}}function useSyncExternalStore$1($,_e,et){return _e()}const canUseDOM$1=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",isServerEnvironment=!canUseDOM$1,shim$1=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$1&&($=>$.useSyncExternalStore)(React$1);const DataStaticRouterContext=react.exports.createContext(null),DataRouterContext=react.exports.createContext(null),DataRouterStateContext=react.exports.createContext(null),NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[]}),RouteErrorContext=react.exports.createContext(null);function useHref($,_e){let{relative:et}=_e===void 0?{}:_e;useInRouterContext()||invariant$1(!1);let{basename:tt,navigator:ut}=react.exports.useContext(NavigationContext),{hash:pt,pathname:yt,search:ct}=useResolvedPath($,{relative:et}),rt=yt;return tt!=="/"&&(rt=yt==="/"?tt:joinPaths([tt,yt])),ut.createHref({pathname:rt,search:ct,hash:pt})}function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),react.exports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant$1(!1);let{basename:$,navigator:_e}=react.exports.useContext(NavigationContext),{matches:et}=react.exports.useContext(RouteContext),{pathname:tt}=useLocation(),ut=JSON.stringify(getPathContributingMatches(et).map(ct=>ct.pathnameBase)),pt=react.exports.useRef(!1);return react.exports.useEffect(()=>{pt.current=!0}),react.exports.useCallback(function(ct,rt){if(rt===void 0&&(rt={}),!pt.current)return;if(typeof ct=="number"){_e.go(ct);return}let lt=resolveTo(ct,JSON.parse(ut),tt,rt.relative==="path");$!=="/"&&(lt.pathname=lt.pathname==="/"?$:joinPaths([$,lt.pathname])),(rt.replace?_e.replace:_e.push)(lt,rt.state,rt)},[$,_e,ut,tt])}const OutletContext=react.exports.createContext(null);function useOutlet($){let _e=react.exports.useContext(RouteContext).outlet;return _e&&react.exports.createElement(OutletContext.Provider,{value:$},_e)}function useResolvedPath($,_e){let{relative:et}=_e===void 0?{}:_e,{matches:tt}=react.exports.useContext(RouteContext),{pathname:ut}=useLocation(),pt=JSON.stringify(getPathContributingMatches(tt).map(yt=>yt.pathnameBase));return react.exports.useMemo(()=>resolveTo($,JSON.parse(pt),ut,et==="path"),[$,pt,ut,et])}function useRoutes($,_e){useInRouterContext()||invariant$1(!1);let et=react.exports.useContext(DataRouterStateContext),{matches:tt}=react.exports.useContext(RouteContext),ut=tt[tt.length-1],pt=ut?ut.params:{};ut&&ut.pathname;let yt=ut?ut.pathnameBase:"/";ut&&ut.route;let ct=useLocation(),rt;if(_e){var lt;let ot=typeof _e=="string"?parsePath(_e):_e;yt==="/"||((lt=ot.pathname)==null?void 0:lt.startsWith(yt))||invariant$1(!1),rt=ot}else rt=ct;let ft=rt.pathname||"/",it=yt==="/"?ft:ft.slice(yt.length)||"/",at=matchRoutes($,{pathname:it}),nt=_renderMatches(at&&at.map(ot=>Object.assign({},ot,{params:Object.assign({},pt,ot.params),pathname:joinPaths([yt,ot.pathname]),pathnameBase:ot.pathnameBase==="/"?yt:joinPaths([yt,ot.pathnameBase])})),tt,et||void 0);return _e&&nt?react.exports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},rt),navigationType:Action.Pop}},nt):nt}function DefaultErrorElement(){let $=useRouteError(),_e=isRouteErrorResponse($)?$.status+" "+$.statusText:$ instanceof Error?$.message:JSON.stringify($),et=$ instanceof Error?$.stack:null,tt="rgba(200,200,200, 0.5)",ut={padding:"0.5rem",backgroundColor:tt},pt={padding:"2px 4px",backgroundColor:tt};return react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("h2",null,"Unhandled Thrown Error!"),react.exports.createElement("h3",{style:{fontStyle:"italic"}},_e),et?react.exports.createElement("pre",{style:ut},et):null,react.exports.createElement("p",null,"\u{1F4BF} Hey developer \u{1F44B}"),react.exports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xA0",react.exports.createElement("code",{style:pt},"errorElement")," props on\xA0",react.exports.createElement("code",{style:pt},"<Route>")))}class RenderErrorBoundary extends react.exports.Component{constructor(_e){super(_e),this.state={location:_e.location,error:_e.error}}static getDerivedStateFromError(_e){return{error:_e}}static getDerivedStateFromProps(_e,et){return et.location!==_e.location?{error:_e.error,location:_e.location}:{error:_e.error||et.error,location:et.location}}componentDidCatch(_e,et){console.error("React Router caught the following error during render",_e,et)}render(){return this.state.error?react.exports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function RenderedRoute($){let{routeContext:_e,match:et,children:tt}=$,ut=react.exports.useContext(DataStaticRouterContext);return ut&&et.route.errorElement&&(ut._deepestRenderedBoundaryId=et.route.id),react.exports.createElement(RouteContext.Provider,{value:_e},tt)}function _renderMatches($,_e,et){if(_e===void 0&&(_e=[]),$==null)if(et!=null&&et.errors)$=et.matches;else return null;let tt=$,ut=et==null?void 0:et.errors;if(ut!=null){let pt=tt.findIndex(yt=>yt.route.id&&(ut==null?void 0:ut[yt.route.id]));pt>=0||invariant$1(!1),tt=tt.slice(0,Math.min(tt.length,pt+1))}return tt.reduceRight((pt,yt,ct)=>{let rt=yt.route.id?ut==null?void 0:ut[yt.route.id]:null,lt=et?yt.route.errorElement||react.exports.createElement(DefaultErrorElement,null):null,ft=()=>react.exports.createElement(RenderedRoute,{match:yt,routeContext:{outlet:pt,matches:_e.concat(tt.slice(0,ct+1))}},rt?lt:yt.route.element!==void 0?yt.route.element:pt);return et&&(yt.route.errorElement||ct===0)?react.exports.createElement(RenderErrorBoundary,{location:et.location,component:lt,error:rt,children:ft()}):ft()},null)}var DataRouterHook$1;(function($){$.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function($){$.UseLoaderData="useLoaderData",$.UseActionData="useActionData",$.UseRouteError="useRouteError",$.UseNavigation="useNavigation",$.UseRouteLoaderData="useRouteLoaderData",$.UseMatches="useMatches",$.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState($){let _e=react.exports.useContext(DataRouterStateContext);return _e||invariant$1(!1),_e}function useRouteError(){var $;let _e=react.exports.useContext(RouteErrorContext),et=useDataRouterState(DataRouterStateHook$1.UseRouteError),tt=react.exports.useContext(RouteContext),ut=tt.matches[tt.matches.length-1];return _e||(tt||invariant$1(!1),ut.route.id||invariant$1(!1),($=et.errors)==null?void 0:$[ut.route.id])}function Outlet($){return useOutlet($.context)}function Route($){invariant$1(!1)}function Router($){let{basename:_e="/",children:et=null,location:tt,navigationType:ut=Action.Pop,navigator:pt,static:yt=!1}=$;useInRouterContext()&&invariant$1(!1);let ct=_e.replace(/^\/*/,"/"),rt=react.exports.useMemo(()=>({basename:ct,navigator:pt,static:yt}),[ct,pt,yt]);typeof tt=="string"&&(tt=parsePath(tt));let{pathname:lt="/",search:ft="",hash:it="",state:at=null,key:nt="default"}=tt,ot=react.exports.useMemo(()=>{let ht=stripBasename(lt,ct);return ht==null?null:{pathname:ht,search:ft,hash:it,state:at,key:nt}},[ct,lt,ft,it,at,nt]);return ot==null?null:react.exports.createElement(NavigationContext.Provider,{value:rt},react.exports.createElement(LocationContext.Provider,{children:et,value:{location:ot,navigationType:ut}}))}function Routes($){let{children:_e,location:et}=$,tt=react.exports.useContext(DataRouterContext),ut=tt&&!_e?tt.router.routes:createRoutesFromChildren(_e);return useRoutes(ut,et)}var AwaitRenderStatus;(function($){$[$.pending=0]="pending",$[$.success=1]="success",$[$.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren($,_e){_e===void 0&&(_e=[]);let et=[];return react.exports.Children.forEach($,(tt,ut)=>{if(!react.exports.isValidElement(tt))return;if(tt.type===react.exports.Fragment){et.push.apply(et,createRoutesFromChildren(tt.props.children,_e));return}tt.type!==Route&&invariant$1(!1),!tt.props.index||!tt.props.children||invariant$1(!1);let pt=[..._e,ut],yt={id:tt.props.id||pt.join("-"),caseSensitive:tt.props.caseSensitive,element:tt.props.element,index:tt.props.index,path:tt.props.path,loader:tt.props.loader,action:tt.props.action,errorElement:tt.props.errorElement,hasErrorBoundary:tt.props.errorElement!=null,shouldRevalidate:tt.props.shouldRevalidate,handle:tt.props.handle};tt.props.children&&(yt.children=createRoutesFromChildren(tt.props.children,pt)),et.push(yt)}),et}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose($,_e){if($==null)return{};var et={},tt=Object.keys($),ut,pt;for(pt=0;pt<tt.length;pt++)ut=tt[pt],!(_e.indexOf(ut)>=0)&&(et[ut]=$[ut]);return et}function isModifiedEvent($){return!!($.metaKey||$.altKey||$.ctrlKey||$.shiftKey)}function shouldProcessLinkClick($,_e){return $.button===0&&(!_e||_e==="_self")&&!isModifiedEvent($)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function BrowserRouter($){let{basename:_e,children:et,window:tt}=$,ut=react.exports.useRef();ut.current==null&&(ut.current=createBrowserHistory({window:tt,v5Compat:!0}));let pt=ut.current,[yt,ct]=react.exports.useState({action:pt.action,location:pt.location});return react.exports.useLayoutEffect(()=>pt.listen(ct),[pt]),react.exports.createElement(Router,{basename:_e,children:et,location:yt.location,navigationType:yt.action,navigator:pt})}const Link=react.exports.forwardRef(function(_e,et){let{onClick:tt,relative:ut,reloadDocument:pt,replace:yt,state:ct,target:rt,to:lt,preventScrollReset:ft}=_e,it=_objectWithoutPropertiesLoose(_e,_excluded),at=useHref(lt,{relative:ut}),nt=useLinkClickHandler(lt,{replace:yt,state:ct,target:rt,preventScrollReset:ft,relative:ut});function ot(ht){tt&&tt(ht),ht.defaultPrevented||nt(ht)}return react.exports.createElement("a",_extends({},it,{href:at,onClick:pt?tt:ot,ref:et,target:rt}))});var DataRouterHook;(function($){$.UseScrollRestoration="useScrollRestoration",$.UseSubmitImpl="useSubmitImpl",$.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function($){$.UseFetchers="useFetchers",$.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler($,_e){let{target:et,replace:tt,state:ut,preventScrollReset:pt,relative:yt}=_e===void 0?{}:_e,ct=useNavigate(),rt=useLocation(),lt=useResolvedPath($,{relative:yt});return react.exports.useCallback(ft=>{if(shouldProcessLinkClick(ft,et)){ft.preventDefault();let it=tt!==void 0?tt:createPath(rt)===createPath(lt);ct($,{replace:it,state:ut,preventScrollReset:pt,relative:yt})}},[rt,ct,lt,tt,ut,et,$,pt,yt])}var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$2=react.exports;function h$4($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}var k$4=typeof Object.is=="function"?Object.is:h$4,l$4=e$2.useState,m$4=e$2.useEffect,n$5=e$2.useLayoutEffect,p$5=e$2.useDebugValue;function q$5($,_e){var et=_e(),tt=l$4({inst:{value:et,getSnapshot:_e}}),ut=tt[0].inst,pt=tt[1];return n$5(function(){ut.value=et,ut.getSnapshot=_e,r$3(ut)&&pt({inst:ut})},[$,et,_e]),m$4(function(){return r$3(ut)&&pt({inst:ut}),$(function(){r$3(ut)&&pt({inst:ut})})},[$]),p$5(et),et}function r$3($){var _e=$.getSnapshot;$=$.value;try{var et=_e();return!k$4($,et)}catch{return!0}}function t$4($,_e){return _e()}var u$3=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?t$4:q$5;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$2.useSyncExternalStore!==void 0?e$2.useSyncExternalStore:u$3;shim.exports=useSyncExternalStoreShim_production_min;var withSelector={exports:{}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$3=react.exports,n$4=shim.exports;function p$4($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}var q$4=typeof Object.is=="function"?Object.is:p$4,r$2=n$4.useSyncExternalStore,t$3=h$3.useRef,u$2=h$3.useEffect,v$3=h$3.useMemo,w$2=h$3.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function($,_e,et,tt,ut){var pt=t$3(null);if(pt.current===null){var yt={hasValue:!1,value:null};pt.current=yt}else yt=pt.current;pt=v$3(function(){function rt(nt){if(!lt){if(lt=!0,ft=nt,nt=tt(nt),ut!==void 0&&yt.hasValue){var ot=yt.value;if(ut(ot,nt))return it=ot}return it=nt}if(ot=it,q$4(ft,nt))return ot;var ht=tt(nt);return ut!==void 0&&ut(ot,ht)?ot:(ft=nt,it=ht)}var lt=!1,ft,it,at=et===void 0?null:et;return[function(){return rt(_e())},at===null?void 0:function(){return rt(at())}]},[_e,et,tt,ut]);var ct=r$2($,pt[0],pt[1]);return u$2(function(){yt.hasValue=!0,yt.value=ct},[ct]),w$2(ct),ct};withSelector.exports=withSelector_production_min;function defaultNoopBatch($){$()}let batch=defaultNoopBatch;const setBatch=$=>batch=$,getBatch=()=>batch,ReactReduxContext=react.exports.createContext(null);function useReduxContext(){return react.exports.useContext(ReactReduxContext)}const notInitialized=()=>{throw new Error("uSES not initialized!")};let useSyncExternalStoreWithSelector=notInitialized;const initializeUseSelector=$=>{useSyncExternalStoreWithSelector=$},refEquality=($,_e)=>$===_e;function createSelectorHook($=ReactReduxContext){const _e=$===ReactReduxContext?useReduxContext:()=>react.exports.useContext($);return function(tt,ut=refEquality){const{store:pt,subscription:yt,getServerState:ct}=_e(),rt=useSyncExternalStoreWithSelector(yt.addNestedSub,pt.getState,ct||pt.getState,tt,ut);return react.exports.useDebugValue(rt),rt}}const useSelector=createSelectorHook();var reactIs$1={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$2=b$2?Symbol.for("react.element"):60103,d$2=b$2?Symbol.for("react.portal"):60106,e$1=b$2?Symbol.for("react.fragment"):60107,f$3=b$2?Symbol.for("react.strict_mode"):60108,g$2=b$2?Symbol.for("react.profiler"):60114,h$2=b$2?Symbol.for("react.provider"):60109,k$3=b$2?Symbol.for("react.context"):60110,l$3=b$2?Symbol.for("react.async_mode"):60111,m$3=b$2?Symbol.for("react.concurrent_mode"):60111,n$3=b$2?Symbol.for("react.forward_ref"):60112,p$3=b$2?Symbol.for("react.suspense"):60113,q$3=b$2?Symbol.for("react.suspense_list"):60120,r$1=b$2?Symbol.for("react.memo"):60115,t$2=b$2?Symbol.for("react.lazy"):60116,v$2=b$2?Symbol.for("react.block"):60121,w$1=b$2?Symbol.for("react.fundamental"):60117,x$1=b$2?Symbol.for("react.responder"):60118,y$1=b$2?Symbol.for("react.scope"):60119;function z$1($){if(typeof $=="object"&&$!==null){var _e=$.$$typeof;switch(_e){case c$2:switch($=$.type,$){case l$3:case m$3:case e$1:case g$2:case f$3:case p$3:return $;default:switch($=$&&$.$$typeof,$){case k$3:case n$3:case t$2:case r$1:case h$2:return $;default:return _e}}case d$2:return _e}}}function A$1($){return z$1($)===m$3}reactIs_production_min$1.AsyncMode=l$3;reactIs_production_min$1.ConcurrentMode=m$3;reactIs_production_min$1.ContextConsumer=k$3;reactIs_production_min$1.ContextProvider=h$2;reactIs_production_min$1.Element=c$2;reactIs_production_min$1.ForwardRef=n$3;reactIs_production_min$1.Fragment=e$1;reactIs_production_min$1.Lazy=t$2;reactIs_production_min$1.Memo=r$1;reactIs_production_min$1.Portal=d$2;reactIs_production_min$1.Profiler=g$2;reactIs_production_min$1.StrictMode=f$3;reactIs_production_min$1.Suspense=p$3;reactIs_production_min$1.isAsyncMode=function($){return A$1($)||z$1($)===l$3};reactIs_production_min$1.isConcurrentMode=A$1;reactIs_production_min$1.isContextConsumer=function($){return z$1($)===k$3};reactIs_production_min$1.isContextProvider=function($){return z$1($)===h$2};reactIs_production_min$1.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===c$2};reactIs_production_min$1.isForwardRef=function($){return z$1($)===n$3};reactIs_production_min$1.isFragment=function($){return z$1($)===e$1};reactIs_production_min$1.isLazy=function($){return z$1($)===t$2};reactIs_production_min$1.isMemo=function($){return z$1($)===r$1};reactIs_production_min$1.isPortal=function($){return z$1($)===d$2};reactIs_production_min$1.isProfiler=function($){return z$1($)===g$2};reactIs_production_min$1.isStrictMode=function($){return z$1($)===f$3};reactIs_production_min$1.isSuspense=function($){return z$1($)===p$3};reactIs_production_min$1.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===e$1||$===m$3||$===g$2||$===f$3||$===p$3||$===q$3||typeof $=="object"&&$!==null&&($.$$typeof===t$2||$.$$typeof===r$1||$.$$typeof===h$2||$.$$typeof===k$3||$.$$typeof===n$3||$.$$typeof===w$1||$.$$typeof===x$1||$.$$typeof===y$1||$.$$typeof===v$2)};reactIs_production_min$1.typeOf=z$1;reactIs$1.exports=reactIs_production_min$1;var reactIs=reactIs$1.exports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f$2=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$2=Symbol.for("react.server_context"),l$2=Symbol.for("react.forward_ref"),m$2=Symbol.for("react.suspense"),n$2=Symbol.for("react.suspense_list"),p$2=Symbol.for("react.memo"),q$2=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u$1;u$1=Symbol.for("react.module.reference");function v$1($){if(typeof $=="object"&&$!==null){var _e=$.$$typeof;switch(_e){case b$1:switch($=$.type,$){case d$1:case f$2:case e:case m$2:case n$2:return $;default:switch($=$&&$.$$typeof,$){case k$2:case h$1:case l$2:case q$2:case p$2:case g$1:return $;default:return _e}}case c$1:return _e}}}reactIs_production_min.ContextConsumer=h$1;reactIs_production_min.ContextProvider=g$1;reactIs_production_min.Element=b$1;reactIs_production_min.ForwardRef=l$2;reactIs_production_min.Fragment=d$1;reactIs_production_min.Lazy=q$2;reactIs_production_min.Memo=p$2;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f$2;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m$2;reactIs_production_min.SuspenseList=n$2;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function($){return v$1($)===h$1};reactIs_production_min.isContextProvider=function($){return v$1($)===g$1};reactIs_production_min.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===b$1};reactIs_production_min.isForwardRef=function($){return v$1($)===l$2};reactIs_production_min.isFragment=function($){return v$1($)===d$1};reactIs_production_min.isLazy=function($){return v$1($)===q$2};reactIs_production_min.isMemo=function($){return v$1($)===p$2};reactIs_production_min.isPortal=function($){return v$1($)===c$1};reactIs_production_min.isProfiler=function($){return v$1($)===f$2};reactIs_production_min.isStrictMode=function($){return v$1($)===e};reactIs_production_min.isSuspense=function($){return v$1($)===m$2};reactIs_production_min.isSuspenseList=function($){return v$1($)===n$2};reactIs_production_min.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===d$1||$===f$2||$===e||$===m$2||$===n$2||$===t$1||typeof $=="object"&&$!==null&&($.$$typeof===q$2||$.$$typeof===p$2||$.$$typeof===g$1||$.$$typeof===h$1||$.$$typeof===l$2||$.$$typeof===u$1||$.getModuleId!==void 0)};reactIs_production_min.typeOf=v$1;function createListenerCollection(){const $=getBatch();let _e=null,et=null;return{clear(){_e=null,et=null},notify(){$(()=>{let tt=_e;for(;tt;)tt.callback(),tt=tt.next})},get(){let tt=[],ut=_e;for(;ut;)tt.push(ut),ut=ut.next;return tt},subscribe(tt){let ut=!0,pt=et={callback:tt,next:null,prev:et};return pt.prev?pt.prev.next=pt:_e=pt,function(){!ut||_e===null||(ut=!1,pt.next?pt.next.prev=pt.prev:et=pt.prev,pt.prev?pt.prev.next=pt.next:_e=pt.next)}}}}const nullListeners={notify(){},get:()=>[]};function createSubscription($,_e){let et,tt=nullListeners;function ut(it){return rt(),tt.subscribe(it)}function pt(){tt.notify()}function yt(){ft.onStateChange&&ft.onStateChange()}function ct(){return Boolean(et)}function rt(){et||(et=_e?_e.addNestedSub(yt):$.subscribe(yt),tt=createListenerCollection())}function lt(){et&&(et(),et=void 0,tt.clear(),tt=nullListeners)}const ft={addNestedSub:ut,notifyNestedSubs:pt,handleChangeWrapper:yt,isSubscribed:ct,trySubscribe:rt,tryUnsubscribe:lt,getListeners:()=>tt};return ft}const canUseDOM=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",useIsomorphicLayoutEffect=canUseDOM?react.exports.useLayoutEffect:react.exports.useEffect;var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=react.exports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$1($,_e,et){var tt,ut={},pt=null,yt=null;et!==void 0&&(pt=""+et),_e.key!==void 0&&(pt=""+_e.key),_e.ref!==void 0&&(yt=_e.ref);for(tt in _e)m$1.call(_e,tt)&&!p$1.hasOwnProperty(tt)&&(ut[tt]=_e[tt]);if($&&$.defaultProps)for(tt in _e=$.defaultProps,_e)ut[tt]===void 0&&(ut[tt]=_e[tt]);return{$$typeof:k$1,type:$,key:pt,ref:yt,props:ut,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;function Provider({store:$,context:_e,children:et,serverState:tt}){const ut=react.exports.useMemo(()=>{const ct=createSubscription($);return{store:$,subscription:ct,getServerState:tt?()=>tt:void 0}},[$,tt]),pt=react.exports.useMemo(()=>$.getState(),[$]);return useIsomorphicLayoutEffect(()=>{const{subscription:ct}=ut;return ct.onStateChange=ct.notifyNestedSubs,ct.trySubscribe(),pt!==$.getState()&&ct.notifyNestedSubs(),()=>{ct.tryUnsubscribe(),ct.onStateChange=void 0}},[ut,pt]),jsx((_e||ReactReduxContext).Provider,{value:ut,children:et})}function createStoreHook($=ReactReduxContext){const _e=$===ReactReduxContext?useReduxContext:()=>react.exports.useContext($);return function(){const{store:tt}=_e();return tt}}const useStore=createStoreHook();function createDispatchHook($=ReactReduxContext){const _e=$===ReactReduxContext?useStore:createStoreHook($);return function(){return _e().dispatch}}const useDispatch=createDispatchHook();initializeUseSelector(withSelector.exports.useSyncExternalStoreWithSelector);setBatch(reactDom.exports.unstable_batchedUpdates);function n($){for(var _e=arguments.length,et=Array(_e>1?_e-1:0),tt=1;tt<_e;tt++)et[tt-1]=arguments[tt];throw Error("[Immer] minified error nr: "+$+(et.length?" "+et.map(function(ut){return"'"+ut+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r($){return!!$&&!!$[Q]}function t($){var _e;return!!$&&(function(et){if(!et||typeof et!="object")return!1;var tt=Object.getPrototypeOf(et);if(tt===null)return!0;var ut=Object.hasOwnProperty.call(tt,"constructor")&&tt.constructor;return ut===Object||typeof ut=="function"&&Function.toString.call(ut)===Z}($)||Array.isArray($)||!!$[L]||!!(!((_e=$.constructor)===null||_e===void 0)&&_e[L])||s($)||v($))}function i($,_e,et){et===void 0&&(et=!1),o($)===0?(et?Object.keys:nn)($).forEach(function(tt){et&&typeof tt=="symbol"||_e(tt,$[tt],$)}):$.forEach(function(tt,ut){return _e(ut,tt,$)})}function o($){var _e=$[Q];return _e?_e.i>3?_e.i-4:_e.i:Array.isArray($)?1:s($)?2:v($)?3:0}function u($,_e){return o($)===2?$.has(_e):Object.prototype.hasOwnProperty.call($,_e)}function a($,_e){return o($)===2?$.get(_e):$[_e]}function f($,_e,et){var tt=o($);tt===2?$.set(_e,et):tt===3?($.delete(_e),$.add(et)):$[_e]=et}function c($,_e){return $===_e?$!==0||1/$==1/_e:$!=$&&_e!=_e}function s($){return X&&$ instanceof Map}function v($){return q&&$ instanceof Set}function p($){return $.o||$.t}function l($){if(Array.isArray($))return Array.prototype.slice.call($);var _e=rn($);delete _e[Q];for(var et=nn(_e),tt=0;tt<et.length;tt++){var ut=et[tt],pt=_e[ut];pt.writable===!1&&(pt.writable=!0,pt.configurable=!0),(pt.get||pt.set)&&(_e[ut]={configurable:!0,writable:!0,enumerable:pt.enumerable,value:$[ut]})}return Object.create(Object.getPrototypeOf($),_e)}function d($,_e){return _e===void 0&&(_e=!1),y($)||r($)||!t($)||(o($)>1&&($.set=$.add=$.clear=$.delete=h),Object.freeze($),_e&&i($,function(et,tt){return d(tt,!0)},!0)),$}function h(){n(2)}function y($){return $==null||typeof $!="object"||Object.isFrozen($)}function b($){var _e=tn[$];return _e||n(18,$),_e}function m($,_e){tn[$]||(tn[$]=_e)}function _(){return U}function j($,_e){_e&&(b("Patches"),$.u=[],$.s=[],$.v=_e)}function O($){g($),$.p.forEach(S),$.p=null}function g($){$===U&&(U=$.l)}function w($){return U={p:[],l:U,h:$,m:!0,_:0}}function S($){var _e=$[Q];_e.i===0||_e.i===1?_e.j():_e.O=!0}function P($,_e){_e._=_e.p.length;var et=_e.p[0],tt=$!==void 0&&$!==et;return _e.h.g||b("ES5").S(_e,$,tt),tt?(et[Q].P&&(O(_e),n(4)),t($)&&($=M(_e,$),_e.l||x(_e,$)),_e.u&&b("Patches").M(et[Q].t,$,_e.u,_e.s)):$=M(_e,et,[]),O(_e),_e.u&&_e.v(_e.u,_e.s),$!==H?$:void 0}function M($,_e,et){if(y(_e))return _e;var tt=_e[Q];if(!tt)return i(_e,function(pt,yt){return A($,tt,_e,pt,yt,et)},!0),_e;if(tt.A!==$)return _e;if(!tt.P)return x($,tt.t,!0),tt.t;if(!tt.I){tt.I=!0,tt.A._--;var ut=tt.i===4||tt.i===5?tt.o=l(tt.k):tt.o;i(tt.i===3?new Set(ut):ut,function(pt,yt){return A($,tt,ut,pt,yt,et)}),x($,ut,!1),et&&$.u&&b("Patches").R(tt,et,$.u,$.s)}return tt.o}function A($,_e,et,tt,ut,pt){if(r(ut)){var yt=M($,ut,pt&&_e&&_e.i!==3&&!u(_e.D,tt)?pt.concat(tt):void 0);if(f(et,tt,yt),!r(yt))return;$.m=!1}if(t(ut)&&!y(ut)){if(!$.h.F&&$._<1)return;M($,ut),_e&&_e.A.l||x($,ut)}}function x($,_e,et){et===void 0&&(et=!1),$.h.F&&$.m&&d(_e,et)}function z($,_e){var et=$[Q];return(et?p(et):$)[_e]}function I($,_e){if(_e in $)for(var et=Object.getPrototypeOf($);et;){var tt=Object.getOwnPropertyDescriptor(et,_e);if(tt)return tt;et=Object.getPrototypeOf(et)}}function k($){$.P||($.P=!0,$.l&&k($.l))}function E($){$.o||($.o=l($.t))}function R($,_e,et){var tt=s(_e)?b("MapSet").N(_e,et):v(_e)?b("MapSet").T(_e,et):$.g?function(ut,pt){var yt=Array.isArray(ut),ct={i:yt?1:0,A:pt?pt.A:_(),P:!1,I:!1,D:{},l:pt,t:ut,k:null,o:null,j:null,C:!1},rt=ct,lt=en;yt&&(rt=[ct],lt=on);var ft=Proxy.revocable(rt,lt),it=ft.revoke,at=ft.proxy;return ct.k=at,ct.j=it,at}(_e,et):b("ES5").J(_e,et);return(et?et.A:_()).p.push(tt),tt}function D($){return r($)||n(22,$),function _e(et){if(!t(et))return et;var tt,ut=et[Q],pt=o(et);if(ut){if(!ut.P&&(ut.i<4||!b("ES5").K(ut)))return ut.t;ut.I=!0,tt=F(et,pt),ut.I=!1}else tt=F(et,pt);return i(tt,function(yt,ct){ut&&a(ut.t,yt)===ct||f(tt,yt,_e(ct))}),pt===3?new Set(tt):tt}($)}function F($,_e){switch(_e){case 2:return new Map($);case 3:return Array.from($)}return l($)}function N(){function $(pt,yt){var ct=ut[pt];return ct?ct.enumerable=yt:ut[pt]=ct={configurable:!0,enumerable:yt,get:function(){var rt=this[Q];return en.get(rt,pt)},set:function(rt){var lt=this[Q];en.set(lt,pt,rt)}},ct}function _e(pt){for(var yt=pt.length-1;yt>=0;yt--){var ct=pt[yt][Q];if(!ct.P)switch(ct.i){case 5:tt(ct)&&k(ct);break;case 4:et(ct)&&k(ct)}}}function et(pt){for(var yt=pt.t,ct=pt.k,rt=nn(ct),lt=rt.length-1;lt>=0;lt--){var ft=rt[lt];if(ft!==Q){var it=yt[ft];if(it===void 0&&!u(yt,ft))return!0;var at=ct[ft],nt=at&&at[Q];if(nt?nt.t!==it:!c(at,it))return!0}}var ot=!!yt[Q];return rt.length!==nn(yt).length+(ot?0:1)}function tt(pt){var yt=pt.k;if(yt.length!==pt.t.length)return!0;var ct=Object.getOwnPropertyDescriptor(yt,yt.length-1);if(ct&&!ct.get)return!0;for(var rt=0;rt<yt.length;rt++)if(!yt.hasOwnProperty(rt))return!0;return!1}var ut={};m("ES5",{J:function(pt,yt){var ct=Array.isArray(pt),rt=function(ft,it){if(ft){for(var at=Array(it.length),nt=0;nt<it.length;nt++)Object.defineProperty(at,""+nt,$(nt,!0));return at}var ot=rn(it);delete ot[Q];for(var ht=nn(ot),st=0;st<ht.length;st++){var dt=ht[st];ot[dt]=$(dt,ft||!!ot[dt].enumerable)}return Object.create(Object.getPrototypeOf(it),ot)}(ct,pt),lt={i:ct?5:4,A:yt?yt.A:_(),P:!1,I:!1,D:{},l:yt,t:pt,k:rt,o:null,O:!1,C:!1};return Object.defineProperty(rt,Q,{value:lt,writable:!0}),rt},S:function(pt,yt,ct){ct?r(yt)&&yt[Q].A===pt&&_e(pt.p):(pt.u&&function rt(lt){if(lt&&typeof lt=="object"){var ft=lt[Q];if(ft){var it=ft.t,at=ft.k,nt=ft.D,ot=ft.i;if(ot===4)i(at,function(mt){mt!==Q&&(it[mt]!==void 0||u(it,mt)?nt[mt]||rt(at[mt]):(nt[mt]=!0,k(ft)))}),i(it,function(mt){at[mt]!==void 0||u(at,mt)||(nt[mt]=!1,k(ft))});else if(ot===5){if(tt(ft)&&(k(ft),nt.length=!0),at.length<it.length)for(var ht=at.length;ht<it.length;ht++)nt[ht]=!1;else for(var st=it.length;st<at.length;st++)nt[st]=!0;for(var dt=Math.min(at.length,it.length),vt=0;vt<dt;vt++)at.hasOwnProperty(vt)||(nt[vt]=!0),nt[vt]===void 0&&rt(at[vt])}}}}(pt.p[0]),_e(pt.p))},K:function(pt){return pt.i===4?et(pt):tt(pt)}})}var G,U,W=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",X=typeof Map!="undefined",q=typeof Set!="undefined",B=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",H=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Z=""+Object.prototype.constructor,nn=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function($){var _e={};return nn($).forEach(function(et){_e[et]=Object.getOwnPropertyDescriptor($,et)}),_e},tn={},en={get:function($,_e){if(_e===Q)return $;var et=p($);if(!u(et,_e))return function(ut,pt,yt){var ct,rt=I(pt,yt);return rt?"value"in rt?rt.value:(ct=rt.get)===null||ct===void 0?void 0:ct.call(ut.k):void 0}($,et,_e);var tt=et[_e];return $.I||!t(tt)?tt:tt===z($.t,_e)?(E($),$.o[_e]=R($.A.h,tt,$)):tt},has:function($,_e){return _e in p($)},ownKeys:function($){return Reflect.ownKeys(p($))},set:function($,_e,et){var tt=I(p($),_e);if(tt!=null&&tt.set)return tt.set.call($.k,et),!0;if(!$.P){var ut=z(p($),_e),pt=ut==null?void 0:ut[Q];if(pt&&pt.t===et)return $.o[_e]=et,$.D[_e]=!1,!0;if(c(et,ut)&&(et!==void 0||u($.t,_e)))return!0;E($),k($)}return $.o[_e]===et&&typeof et!="number"&&(et!==void 0||_e in $.o)||($.o[_e]=et,$.D[_e]=!0,!0)},deleteProperty:function($,_e){return z($.t,_e)!==void 0||_e in $.t?($.D[_e]=!1,E($),k($)):delete $.D[_e],$.o&&delete $.o[_e],!0},getOwnPropertyDescriptor:function($,_e){var et=p($),tt=Reflect.getOwnPropertyDescriptor(et,_e);return tt&&{writable:!0,configurable:$.i!==1||_e!=="length",enumerable:tt.enumerable,value:et[_e]}},defineProperty:function(){n(11)},getPrototypeOf:function($){return Object.getPrototypeOf($.t)},setPrototypeOf:function(){n(12)}},on={};i(en,function($,_e){on[$]=function(){return arguments[0]=arguments[0][0],_e.apply(this,arguments)}}),on.deleteProperty=function($,_e){return on.set.call(this,$,_e,void 0)},on.set=function($,_e,et){return en.set.call(this,$[0],_e,et,$[0])};var un=function(){function $(et){var tt=this;this.g=B,this.F=!0,this.produce=function(ut,pt,yt){if(typeof ut=="function"&&typeof pt!="function"){var ct=pt;pt=ut;var rt=tt;return function(ht){var st=this;ht===void 0&&(ht=ct);for(var dt=arguments.length,vt=Array(dt>1?dt-1:0),mt=1;mt<dt;mt++)vt[mt-1]=arguments[mt];return rt.produce(ht,function(gt){var bt;return(bt=pt).call.apply(bt,[st,gt].concat(vt))})}}var lt;if(typeof pt!="function"&&n(6),yt!==void 0&&typeof yt!="function"&&n(7),t(ut)){var ft=w(tt),it=R(tt,ut,void 0),at=!0;try{lt=pt(it),at=!1}finally{at?O(ft):g(ft)}return typeof Promise!="undefined"&&lt instanceof Promise?lt.then(function(ht){return j(ft,yt),P(ht,ft)},function(ht){throw O(ft),ht}):(j(ft,yt),P(lt,ft))}if(!ut||typeof ut!="object"){if((lt=pt(ut))===void 0&&(lt=ut),lt===H&&(lt=void 0),tt.F&&d(lt,!0),yt){var nt=[],ot=[];b("Patches").M(ut,lt,nt,ot),yt(nt,ot)}return lt}n(21,ut)},this.produceWithPatches=function(ut,pt){if(typeof ut=="function")return function(lt){for(var ft=arguments.length,it=Array(ft>1?ft-1:0),at=1;at<ft;at++)it[at-1]=arguments[at];return tt.produceWithPatches(lt,function(nt){return ut.apply(void 0,[nt].concat(it))})};var yt,ct,rt=tt.produce(ut,pt,function(lt,ft){yt=lt,ct=ft});return typeof Promise!="undefined"&&rt instanceof Promise?rt.then(function(lt){return[lt,yt,ct]}):[rt,yt,ct]},typeof(et==null?void 0:et.useProxies)=="boolean"&&this.setUseProxies(et.useProxies),typeof(et==null?void 0:et.autoFreeze)=="boolean"&&this.setAutoFreeze(et.autoFreeze)}var _e=$.prototype;return _e.createDraft=function(et){t(et)||n(8),r(et)&&(et=D(et));var tt=w(this),ut=R(this,et,void 0);return ut[Q].C=!0,g(tt),ut},_e.finishDraft=function(et,tt){var ut=et&&et[Q],pt=ut.A;return j(pt,tt),P(void 0,pt)},_e.setAutoFreeze=function(et){this.F=et},_e.setUseProxies=function(et){et&&!B&&n(20),this.g=et},_e.applyPatches=function(et,tt){var ut;for(ut=tt.length-1;ut>=0;ut--){var pt=tt[ut];if(pt.path.length===0&&pt.op==="replace"){et=pt.value;break}}ut>-1&&(tt=tt.slice(ut+1));var yt=b("Patches").$;return r(et)?yt(et,tt):this.produce(et,function(ct){return yt(ct,tt)})},$}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);function _defineProperty($,_e,et){return _e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function ownKeys$3($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor($,ut).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread2($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$3(Object(et),!0).forEach(function(tt){_defineProperty($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$3(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function formatProdErrorMessage($){return"Minified Redux error #"+$+"; visit https://redux.js.org/Errors?code="+$+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$1($){if(typeof $!="object"||$===null)return!1;for(var _e=$;Object.getPrototypeOf(_e)!==null;)_e=Object.getPrototypeOf(_e);return Object.getPrototypeOf($)===_e}function createStore($,_e,et){var tt;if(typeof _e=="function"&&typeof et=="function"||typeof et=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof _e=="function"&&typeof et=="undefined"&&(et=_e,_e=void 0),typeof et!="undefined"){if(typeof et!="function")throw new Error(formatProdErrorMessage(1));return et(createStore)($,_e)}if(typeof $!="function")throw new Error(formatProdErrorMessage(2));var ut=$,pt=_e,yt=[],ct=yt,rt=!1;function lt(){ct===yt&&(ct=yt.slice())}function ft(){if(rt)throw new Error(formatProdErrorMessage(3));return pt}function it(ht){if(typeof ht!="function")throw new Error(formatProdErrorMessage(4));if(rt)throw new Error(formatProdErrorMessage(5));var st=!0;return lt(),ct.push(ht),function(){if(!!st){if(rt)throw new Error(formatProdErrorMessage(6));st=!1,lt();var vt=ct.indexOf(ht);ct.splice(vt,1),yt=null}}}function at(ht){if(!isPlainObject$1(ht))throw new Error(formatProdErrorMessage(7));if(typeof ht.type=="undefined")throw new Error(formatProdErrorMessage(8));if(rt)throw new Error(formatProdErrorMessage(9));try{rt=!0,pt=ut(pt,ht)}finally{rt=!1}for(var st=yt=ct,dt=0;dt<st.length;dt++){var vt=st[dt];vt()}return ht}function nt(ht){if(typeof ht!="function")throw new Error(formatProdErrorMessage(10));ut=ht,at({type:ActionTypes.REPLACE})}function ot(){var ht,st=it;return ht={subscribe:function(vt){if(typeof vt!="object"||vt===null)throw new Error(formatProdErrorMessage(11));function mt(){vt.next&&vt.next(ft())}mt();var gt=st(mt);return{unsubscribe:gt}}},ht[$$observable]=function(){return this},ht}return at({type:ActionTypes.INIT}),tt={dispatch:at,subscribe:it,getState:ft,replaceReducer:nt},tt[$$observable]=ot,tt}function assertReducerShape($){Object.keys($).forEach(function(_e){var et=$[_e],tt=et(void 0,{type:ActionTypes.INIT});if(typeof tt=="undefined")throw new Error(formatProdErrorMessage(12));if(typeof et(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(formatProdErrorMessage(13))})}function combineReducers($){for(var _e=Object.keys($),et={},tt=0;tt<_e.length;tt++){var ut=_e[tt];typeof $[ut]=="function"&&(et[ut]=$[ut])}var pt=Object.keys(et),yt;try{assertReducerShape(et)}catch(ct){yt=ct}return function(rt,lt){if(rt===void 0&&(rt={}),yt)throw yt;for(var ft=!1,it={},at=0;at<pt.length;at++){var nt=pt[at],ot=et[nt],ht=rt[nt],st=ot(ht,lt);if(typeof st=="undefined")throw lt&&lt.type,new Error(formatProdErrorMessage(14));it[nt]=st,ft=ft||st!==ht}return ft=ft||pt.length!==Object.keys(rt).length,ft?it:rt}}function compose(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return _e.length===0?function(tt){return tt}:_e.length===1?_e[0]:_e.reduce(function(tt,ut){return function(){return tt(ut.apply(void 0,arguments))}})}function applyMiddleware(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return function(tt){return function(){var ut=tt.apply(void 0,arguments),pt=function(){throw new Error(formatProdErrorMessage(15))},yt={getState:ut.getState,dispatch:function(){return pt.apply(void 0,arguments)}},ct=_e.map(function(rt){return rt(yt)});return pt=compose.apply(void 0,ct)(ut.dispatch),_objectSpread2(_objectSpread2({},ut),{},{dispatch:pt})}}}function createThunkMiddleware($){var _e=function(tt){var ut=tt.dispatch,pt=tt.getState;return function(yt){return function(ct){return typeof ct=="function"?ct(ut,pt,$):yt(ct)}}};return _e}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;var thunkMiddleware=thunk,__extends=globalThis&&globalThis.__extends||function(){var $=function(_e,et){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,ut){tt.__proto__=ut}||function(tt,ut){for(var pt in ut)Object.prototype.hasOwnProperty.call(ut,pt)&&(tt[pt]=ut[pt])},$(_e,et)};return function(_e,et){if(typeof et!="function"&&et!==null)throw new TypeError("Class extends value "+String(et)+" is not a constructor or null");$(_e,et);function tt(){this.constructor=_e}_e.prototype=et===null?Object.create(et):(tt.prototype=et.prototype,new tt)}}(),__generator=globalThis&&globalThis.__generator||function($,_e){var et={label:0,sent:function(){if(pt[0]&1)throw pt[1];return pt[1]},trys:[],ops:[]},tt,ut,pt,yt;return yt={next:ct(0),throw:ct(1),return:ct(2)},typeof Symbol=="function"&&(yt[Symbol.iterator]=function(){return this}),yt;function ct(lt){return function(ft){return rt([lt,ft])}}function rt(lt){if(tt)throw new TypeError("Generator is already executing.");for(;et;)try{if(tt=1,ut&&(pt=lt[0]&2?ut.return:lt[0]?ut.throw||((pt=ut.return)&&pt.call(ut),0):ut.next)&&!(pt=pt.call(ut,lt[1])).done)return pt;switch(ut=0,pt&&(lt=[lt[0]&2,pt.value]),lt[0]){case 0:case 1:pt=lt;break;case 4:return et.label++,{value:lt[1],done:!1};case 5:et.label++,ut=lt[1],lt=[0];continue;case 7:lt=et.ops.pop(),et.trys.pop();continue;default:if(pt=et.trys,!(pt=pt.length>0&&pt[pt.length-1])&&(lt[0]===6||lt[0]===2)){et=0;continue}if(lt[0]===3&&(!pt||lt[1]>pt[0]&&lt[1]<pt[3])){et.label=lt[1];break}if(lt[0]===6&&et.label<pt[1]){et.label=pt[1],pt=lt;break}if(pt&&et.label<pt[2]){et.label=pt[2],et.ops.push(lt);break}pt[2]&&et.ops.pop(),et.trys.pop();continue}lt=_e.call($,et)}catch(ft){lt=[6,ft],ut=0}finally{tt=pt=0}if(lt[0]&5)throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}},__spreadArray=globalThis&&globalThis.__spreadArray||function($,_e){for(var et=0,tt=_e.length,ut=$.length;et<tt;et++,ut++)$[ut]=_e[et];return $},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function($,_e,et){return _e in $?__defProp($,_e,{enumerable:!0,configurable:!0,writable:!0,value:et}):$[_e]=et},__spreadValues=function($,_e){for(var et in _e||(_e={}))__hasOwnProp.call(_e,et)&&__defNormalProp($,et,_e[et]);if(__getOwnPropSymbols)for(var tt=0,ut=__getOwnPropSymbols(_e);tt<ut.length;tt++){var et=ut[tt];__propIsEnum.call(_e,et)&&__defNormalProp($,et,_e[et])}return $},__spreadProps=function($,_e){return __defProps($,__getOwnPropDescs(_e))},__async=function($,_e,et){return new Promise(function(tt,ut){var pt=function(rt){try{ct(et.next(rt))}catch(lt){ut(lt)}},yt=function(rt){try{ct(et.throw(rt))}catch(lt){ut(lt)}},ct=function(rt){return rt.done?tt(rt.value):Promise.resolve(rt.value).then(pt,yt)};ct((et=et.apply($,_e)).next())})},composeWithDevTools=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function isPlainObject($){if(typeof $!="object"||$===null)return!1;var _e=Object.getPrototypeOf($);if(_e===null)return!0;for(var et=_e;Object.getPrototypeOf(et)!==null;)et=Object.getPrototypeOf(et);return _e===et}var MiddlewareArray=function($){__extends(_e,$);function _e(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var ut=$.apply(this,et)||this;return Object.setPrototypeOf(ut,_e.prototype),ut}return Object.defineProperty(_e,Symbol.species,{get:function(){return _e},enumerable:!1,configurable:!0}),_e.prototype.concat=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return $.prototype.concat.apply(this,et)},_e.prototype.prepend=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return et.length===1&&Array.isArray(et[0])?new(_e.bind.apply(_e,__spreadArray([void 0],et[0].concat(this)))):new(_e.bind.apply(_e,__spreadArray([void 0],et.concat(this))))},_e}(Array);function freezeDraftable($){return t($)?fn($,function(){}):$}function isBoolean($){return typeof $=="boolean"}function curryGetDefaultMiddleware(){return function(_e){return getDefaultMiddleware(_e)}}function getDefaultMiddleware($){$===void 0&&($={});var _e=$.thunk,et=_e===void 0?!0:_e;$.immutableCheck,$.serializableCheck;var tt=new MiddlewareArray;return et&&(isBoolean(et)?tt.push(thunkMiddleware):tt.push(thunkMiddleware.withExtraArgument(et.extraArgument))),tt}var IS_PRODUCTION=!0;function configureStore($){var _e=curryGetDefaultMiddleware(),et=$||{},tt=et.reducer,ut=tt===void 0?void 0:tt,pt=et.middleware,yt=pt===void 0?_e():pt,ct=et.devTools,rt=ct===void 0?!0:ct,lt=et.preloadedState,ft=lt===void 0?void 0:lt,it=et.enhancers,at=it===void 0?void 0:it,nt;if(typeof ut=="function")nt=ut;else if(isPlainObject(ut))nt=combineReducers(ut);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var ot=yt;typeof ot=="function"&&(ot=ot(_e));var ht=applyMiddleware.apply(void 0,ot),st=compose;rt&&(st=composeWithDevTools(__spreadValues({trace:!IS_PRODUCTION},typeof rt=="object"&&rt)));var dt=[ht];Array.isArray(at)?dt=__spreadArray([ht],at):typeof at=="function"&&(dt=at(dt));var vt=st.apply(void 0,dt);return createStore(nt,ft,vt)}function createAction($,_e){function et(){for(var tt=[],ut=0;ut<arguments.length;ut++)tt[ut]=arguments[ut];if(_e){var pt=_e.apply(void 0,tt);if(!pt)throw new Error("prepareAction did not return an object");return __spreadValues(__spreadValues({type:$,payload:pt.payload},"meta"in pt&&{meta:pt.meta}),"error"in pt&&{error:pt.error})}return{type:$,payload:tt[0]}}return et.toString=function(){return""+$},et.type=$,et.match=function(tt){return tt.type===$},et}function executeReducerBuilderCallback($){var _e={},et=[],tt,ut={addCase:function(pt,yt){var ct=typeof pt=="string"?pt:pt.type;if(ct in _e)throw new Error("addCase cannot be called with two reducers for the same action type");return _e[ct]=yt,ut},addMatcher:function(pt,yt){return et.push({matcher:pt,reducer:yt}),ut},addDefaultCase:function(pt){return tt=pt,ut}};return $(ut),[_e,et,tt]}function isStateFunction($){return typeof $=="function"}function createReducer($,_e,et,tt){et===void 0&&(et=[]);var ut=typeof _e=="function"?executeReducerBuilderCallback(_e):[_e,et,tt],pt=ut[0],yt=ut[1],ct=ut[2],rt;if(isStateFunction($))rt=function(){return freezeDraftable($())};else{var lt=freezeDraftable($);rt=function(){return lt}}function ft(it,at){it===void 0&&(it=rt());var nt=__spreadArray([pt[at.type]],yt.filter(function(ot){var ht=ot.matcher;return ht(at)}).map(function(ot){var ht=ot.reducer;return ht}));return nt.filter(function(ot){return!!ot}).length===0&&(nt=[ct]),nt.reduce(function(ot,ht){if(ht)if(r(ot)){var st=ot,dt=ht(st,at);return dt===void 0?ot:dt}else{if(t(ot))return fn(ot,function(vt){return ht(vt,at)});var dt=ht(ot,at);if(dt===void 0){if(ot===null)return ot;throw Error("A case reducer on a non-draftable value must not return undefined")}return dt}return ot},it)}return ft.getInitialState=rt,ft}function getType2($,_e){return $+"/"+_e}function createSlice($){var _e=$.name;if(!_e)throw new Error("`name` is a required option for createSlice");var et=typeof $.initialState=="function"?$.initialState:freezeDraftable($.initialState),tt=$.reducers||{},ut=Object.keys(tt),pt={},yt={},ct={};ut.forEach(function(ft){var it=tt[ft],at=getType2(_e,ft),nt,ot;"reducer"in it?(nt=it.reducer,ot=it.prepare):nt=it,pt[ft]=nt,yt[at]=nt,ct[ft]=ot?createAction(at,ot):createAction(at)});function rt(){var ft=typeof $.extraReducers=="function"?executeReducerBuilderCallback($.extraReducers):[$.extraReducers],it=ft[0],at=it===void 0?{}:it,nt=ft[1],ot=nt===void 0?[]:nt,ht=ft[2],st=ht===void 0?void 0:ht,dt=__spreadValues(__spreadValues({},at),yt);return createReducer(et,function(vt){for(var mt in dt)vt.addCase(mt,dt[mt]);for(var gt=0,bt=ot;gt<bt.length;gt++){var _t=bt[gt];vt.addMatcher(_t.matcher,_t.reducer)}st&&vt.addDefaultCase(st)})}var lt;return{name:_e,reducer:function(ft,it){return lt||(lt=rt()),lt(ft,it)},actions:ct,caseReducers:pt,getInitialState:function(){return lt||(lt=rt()),lt.getInitialState()}}}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=function($){$===void 0&&($=21);for(var _e="",et=$;et--;)_e+=urlAlphabet[Math.random()*64|0];return _e},commonProperties=["name","message","stack","code"],RejectWithValue=function(){function $(_e,et){this.payload=_e,this.meta=et}return $}(),FulfillWithMeta=function(){function $(_e,et){this.payload=_e,this.meta=et}return $}(),miniSerializeError=function($){if(typeof $=="object"&&$!==null){for(var _e={},et=0,tt=commonProperties;et<tt.length;et++){var ut=tt[et];typeof $[ut]=="string"&&(_e[ut]=$[ut])}return _e}return{message:String($)}};(function(){function $(_e,et,tt){var ut=createAction(_e+"/fulfilled",function(lt,ft,it,at){return{payload:lt,meta:__spreadProps(__spreadValues({},at||{}),{arg:it,requestId:ft,requestStatus:"fulfilled"})}}),pt=createAction(_e+"/pending",function(lt,ft,it){return{payload:void 0,meta:__spreadProps(__spreadValues({},it||{}),{arg:ft,requestId:lt,requestStatus:"pending"})}}),yt=createAction(_e+"/rejected",function(lt,ft,it,at,nt){return{payload:at,error:(tt&&tt.serializeError||miniSerializeError)(lt||"Rejected"),meta:__spreadProps(__spreadValues({},nt||{}),{arg:it,requestId:ft,rejectedWithValue:!!at,requestStatus:"rejected",aborted:(lt==null?void 0:lt.name)==="AbortError",condition:(lt==null?void 0:lt.name)==="ConditionError"})}}),ct=typeof AbortController!="undefined"?AbortController:function(){function lt(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return lt.prototype.abort=function(){},lt}();function rt(lt){return function(ft,it,at){var nt=tt!=null&&tt.idGenerator?tt.idGenerator(lt):nanoid(),ot=new ct,ht,st=new Promise(function(gt,bt){return ot.signal.addEventListener("abort",function(){return bt({name:"AbortError",message:ht||"Aborted"})})}),dt=!1;function vt(gt){dt&&(ht=gt,ot.abort())}var mt=function(){return __async(this,null,function(){var gt,bt,_t,Ct,xt,Tt;return __generator(this,function(Mt){switch(Mt.label){case 0:return Mt.trys.push([0,4,,5]),Ct=(gt=tt==null?void 0:tt.condition)==null?void 0:gt.call(tt,lt,{getState:it,extra:at}),isThenable(Ct)?[4,Ct]:[3,2];case 1:Ct=Mt.sent(),Mt.label=2;case 2:if(Ct===!1)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return dt=!0,ft(pt(nt,lt,(bt=tt==null?void 0:tt.getPendingMeta)==null?void 0:bt.call(tt,{requestId:nt,arg:lt},{getState:it,extra:at}))),[4,Promise.race([st,Promise.resolve(et(lt,{dispatch:ft,getState:it,extra:at,requestId:nt,signal:ot.signal,abort:vt,rejectWithValue:function(jt,Gt){return new RejectWithValue(jt,Gt)},fulfillWithValue:function(jt,Gt){return new FulfillWithMeta(jt,Gt)}})).then(function(jt){if(jt instanceof RejectWithValue)throw jt;return jt instanceof FulfillWithMeta?ut(jt.payload,nt,lt,jt.meta):ut(jt,nt,lt)})])];case 3:return _t=Mt.sent(),[3,5];case 4:return xt=Mt.sent(),_t=xt instanceof RejectWithValue?yt(null,nt,lt,xt.payload,xt.meta):yt(xt,nt,lt),[3,5];case 5:return Tt=tt&&!tt.dispatchConditionRejection&&yt.match(_t)&&_t.meta.condition,Tt||ft(_t),[2,_t]}})})}();return Object.assign(mt,{abort:vt,requestId:nt,arg:lt,unwrap:function(){return mt.then(unwrapResult)}})}}return Object.assign(rt,{pending:pt,rejected:yt,fulfilled:ut,typePrefix:_e})}return $.withTypes=$,$})();function unwrapResult($){if($.meta&&$.meta.rejectedWithValue)throw $.payload;if($.error)throw $.error;return $.payload}function isThenable($){return $!==null&&typeof $=="object"&&typeof $.then=="function"}var alm="listenerMiddleware";createAction(alm+"/add");createAction(alm+"/removeAll");createAction(alm+"/remove");var promise;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window!="undefined"?window:global);N();const initialState$5={isMobel:!1},slice$3=createSlice({name:"mainStore",initialState:initialState$5,reducers:{setIsMobel:($,_e)=>{console.log("\u662F\u4E0D\u662F\u624B\u6A5F",$.isMobel),$.isMobel=_e.payload}}});var mainStore=slice$3.reducer;const initialState$4={currentStep:1,maxStep:3,stepIndecatorDataArray:[{step:1,title:"\u4E0A\u50B3\u6587\u4EF6",active:!1,done:!1},{step:2,title:"\u9032\u884C\u7C3D\u7F72",active:!1,done:!1},{step:3,title:"\u5408\u4F75\u8F38\u51FA",active:!1,done:!1}]},signSlice=createSlice({name:"sign",initialState:initialState$4,reducers:{setCurrentStepIndecator:($,_e)=>{$.currentStep=_e.payload},setStepIndecatorDon:($,_e)=>{$.stepIndecatorDataArray[_e.payload].done=!0,console.log("\u8A2D\u7F6E",_e.payload,"\u70BA",$.stepIndecatorDataArray[_e.payload].done)},updateStepIndecatorActive:$=>{$.stepIndecatorDataArray.forEach(_e=>{_e.active=$.currentStep===_e.step})}}}),{setCurrentStepIndecator,setStepIndecatorDon,updateStepIndecatorActive}=signSlice.actions;var sign=signSlice.reducer;const initialState$3={BGImg:"",handMadeSignImg:"",handSignArray:[],showHandSignModal:!1,userOwnSignImg:""},createSignSlice=createSlice({name:"createSign",initialState:initialState$3,reducers:{loadBGImg:($,_e)=>{$.BGImg=_e.payload},loadHandMadeSignImg:($,_e)=>{$.handMadeSignImg=_e.payload},pushHandsignImg:($,_e)=>{$.handSignArray.push(_e.payload)},setShowHandSignModal:($,_e)=>{$.showHandSignModal=_e.payload},setUserSelectSigImg:($,_e)=>{$.userOwnSignImg=$.handSignArray[_e.payload]},deleteHandSign:($,_e)=>{$.handSignArray.splice(_e.payload,1)}}}),{loadBGImg,loadHandMadeSignImg,pushHandsignImg,setShowHandSignModal,setUserSelectSigImg,deleteHandSign}=createSignSlice.actions;var createSign=createSignSlice.reducer,ColorMode=($=>($[$.DARK=0]="DARK",$[$.NORMAL=1]="NORMAL",$))(ColorMode||{}),Status=($=>($[$.SUCCESS=0]="SUCCESS",$[$.ALERT=1]="ALERT",$[$.ERROR=2]="ERROR",$))(Status||{}),BtnType=($=>($[$.PRIMARY=0]="PRIMARY",$[$.SECONDARY=1]="SECONDARY",$[$.COLOR=2]="COLOR",$[$.CLOSE=3]="CLOSE",$))(BtnType||{}),InputType=($=>($[$.NUMBER=0]="NUMBER",$[$.TEXT=1]="TEXT",$[$.COLOR=2]="COLOR",$[$.FILE=3]="FILE",$))(InputType||{}),PromptType=($=>($[$.NOINPUT=0]="NOINPUT",$[$.INPUT=1]="INPUT",$))(PromptType||{});const initialState$2={msgBoxObj:{type:Status.SUCCESS,title:"\u63D0\u793A\u8A0A\u606F",message:"\u5C1A\u672A\u63D0\u4F9B\u8A0A\u606F",show:!1,duration:3e3}},slice$2=createSlice({name:"msgBox",initialState:initialState$2,reducers:{setMsgBox:($,_e)=>{$.msgBoxObj=_e.payload},setMsgBoxShow:($,_e)=>{$.msgBoxObj.show=_e.payload}}}),{setMsgBox,setMsgBoxShow}=slice$2.actions;var msgBox=slice$2.reducer;const initialState$1={promptObj:{title:"\u63D0\u793A\u8A0A\u606F",message:"\u57F7\u884C\u6B64\u64CD\u4F5C\uFF0C\u5C07\u9020\u6210\u7121\u6CD5\u6062\u5FA9\u7684\u7D50\u679C\uFF0C\u78BA\u5B9A\u57F7\u884C\u55CE?",show:!1,promptValue:0,confirmCallback:()=>{}}},slice$1=createSlice({name:"msgBox",initialState:initialState$1,reducers:{setPrompt:($,_e)=>{$.promptObj=_e.payload,console.log("\u8A2D\u7F6EPrompt\u7269\u4EF6\u7684\u78BA\u8A8Dcallback\u70BA : ",$.promptObj.confirmCallback)},setPromptShow:($,_e)=>{$.promptObj.show=_e.payload},setPromptValue:($,_e)=>{$.promptObj.promptValue=_e.payload,console.log("Redux\u8A2D\u7F6E\u6578\u503C",$.promptObj.promptValue)}}}),{setPrompt,setPromptShow,setPromptValue}=slice$1.actions;var prompt=slice$1.reducer;const initialState={documentHistoryArray:[]},slice=createSlice({name:"documentHistory",initialState,reducers:{pushDocument:($,_e)=>{$.documentHistoryArray.push(_e.payload)},deleteDocument:($,_e)=>{$.documentHistoryArray.splice(_e.payload,1)}}}),{pushDocument,deleteDocument}=slice.actions;var documentHistory=slice.reducer;const store=configureStore({reducer:{mainStore,sign,createSign,msgBox,prompt,documentHistory},middleware:$=>$({serializableCheck:!1})});var index="";const scriptRel="modulepreload",seen={},base="/f2e-react-sign-system/",__vitePreload=function(_e,et){return!et||et.length===0?_e():Promise.all(et.map(tt=>{if(tt=`${base}${tt}`,tt in seen)return;seen[tt]=!0;const ut=tt.endsWith(".css"),pt=ut?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${tt}"]${pt}`))return;const yt=document.createElement("link");if(yt.rel=ut?"stylesheet":scriptRel,ut||(yt.as="script",yt.crossOrigin=""),yt.href=tt,document.head.appendChild(yt),ut)return new Promise((ct,rt)=>{yt.addEventListener("load",ct),yt.addEventListener("error",()=>rt(new Error(`Unable to preload CSS for ${tt}`)))})})).then(()=>_e())};var __glob_2_0="/f2e-react-sign-system/assets/favicon.3dd24c72.svg",__glob_2_1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAhJSURBVHgB7Z1NbBNHFIDfm107P6Z/SeMYCQ4BCYQIAk4EemukHnNrpVRNDhX33MOdO+eitgpqc+gtx0o59NCWqIdSBSq1FY7UUshPU6iIE7B353XeJk7877W9O95x9pOQf2LHZr/MvJm3s/MQIs76+kJqyE6MS3JGBUCaUKRR3QJCilx5gm/L3kCQQ0vsIMlN7yHBmgTYRIuyz/OwlsnM5iDCIEQMWl9Iv7ZwQhCMgSXGScpRCBAlaBOFyEqHVqBfZgfenl2DCBEJIa//XRhHFydAiGtBC2gGC1Itb5VsWu4bmn0IXaZrQrgresfCKUQlgeQZiAAshyQuOiBX38jMbkIX0C5EdUljBQsn1X9+sqr/jxBIsPxa0qJuMdqEvFSxIWlbc0DyEhiEbjGhC/FGSRZOE8AUGIwuMaEKebX15RSSNR3lrqkVijFmIPPJMoREKEJM7Z78IhBWXzl0J4zWEriQXmsVDcipbnixf2RmCQIkMCG9EitaRR3ApeTIzF0IiECEcBeVEOIWIo3BMYRjS0HSfBBdWMdC9mXgbUSVXzrGBCWlIyF7apInlIxjEC/8kpMJmu8kP9a2kFhGXTqS0paQWEZT2pbSshBvjiHwTiyjKbm8S3OtxhTRyouLATyW4YsUHys+Zq28qSUh8WiqNfhY9dnWPM/R/L7Ht5D81r2bsYzW4XM9PGH2+3pfQjgdctxm4EHCx+7V1j1fx6+pEO4DvdxUTEeo0dO0n3jSVIiXtY2DeBCk+m2ca/aihkIK/3z9fq+m0LuBJLjUrOuqK4SblyvdjyEmULjrajTqqitEDXGn41FVKKQajbpqCvECOcIkxIQCj7rqBfiaQrh1QEyo1AvwVULi1qEHDvB7LxaqTuhVCYlbhz4sF6v+8MuExK1DLyRhsnLEZZc+6LftcUku6IJ2NwacX7+5SjvPhnFw+D97fOYnHBzZA4042W/P0JMfz/F9MXp1zTo/9Rvow1vfrG4Xi0+UtRDd8w7nwRc3WAbfp93tt5wHd2/Q7tYAaEL+sXRO/vndRZL5BP9zn62ck1uPhkEjvNi89PGhEO+SAM3zDsq/HCx/vDOoSwrLcP5eOV/5PD1/rFUIZ4P52BcfHwohB7XHDjxxcrvyOR1S6snwvtM7Z7dBM0g4Ubxf2mVpz1nZFz58gIkTVTEjTCkNZZy89rsYuahdiHShXAgvWuhGmgRTo7v2lU9/0CWlmYyE3oB+9Nnq2NPBzN0TYtt211Yc6pISVRlF+LpKvvWEOI5zHbpI2FKiLoPxLnKFAyEosOtrcsOSYoIMRh7EcKH6rlRU0uxBSzFFBsMOeNYu8kmI1Ir1oKSYJKMIb5AgyI3GJcmldCrFRBmMt1uFACuSZwXblWKqDEbJSAuVS4nsRTatSjFZBoOkhEDE8SvFdBkMgUhjfvurz3TvL9IOlNtQB//zG1TYqeqmUCQLnK2t9T5TZDDeviveFkcG0LCl9IAMRg19U8KkVYmNpFS91jAZB6QiH0MqKUoBkXTqvcZKX84aKMPDOCEMPV05BTJv1/u5fPE4o/PMY5AYJ6TRaKqIzjOPQSN4j0IwBD8yihgqJSd4w0gwgEYyrNHLWd1nHsNADXtzQrq0CxGn2aTPuvDRI51nHsPCErAh1KSwK3sL+sXvDFz36eCwEJaFGxBRWk2HmC6FENaEBDeSLaTd3JTJUqRUqRPp2pET0mmi0FQpvPu2GAC5ChEiqKytiVJ4K3SBmdkcChGJOBJ0Ct0kKZzp5X3p92fqruz6Ftthnc8wRYoa8mb51hMi0e3qhvRhn1wyQYrj4ArfekL6XHEfuoSuM31Rl9LfL49aiIojm92II7pPu/qRAoVcAjTjldA42OzsKNsr5Qpoxnn289laz4d5cqmZFPnk+1OgGS6XUXL/4MtY1LVuqxQdZ/paOfOoA65dUrx/KISLmSCKLGhEnL5envrQeNq1lhRMpPYwfUVr183dVWkhGbv8h163pW0loz32QdbtH9qFl0/fxKGz2+JdvRfLFKW4G79kvO9z+r2/IJEqgEZ4c//Sx2WbYPLC67zAu/F2TPpIunQTSzbKLDuF683aEUIrxRBTDtckwYpdS6t3cnApFqKJhKTFyueqhChjKsElIpVw7EVqtQ6m5qoT23HvQEyo1GodTE0h3swdINBCJTFH1GsdTP0d5Vxl0KAlQqbA8456rYOpK4RHXCSh7htj2oPnHdhgP/iGKxf7MzNLcYAPEHUsm1V4a7qU1AvwcdfVOeoYJn0MlpoK4eYVd12dQwgNu6oivhZbc9cVj7raBwUs+S2v53v1O4+6VFpFaza4F+BRVXLYf1k930J41JVw6DZCNFaomICXWpc038p7Wi55xNsI5eOSR83hIC5pDsMsecTwByTZejzyqs++jHlso6Zh22XzuFB9Pq5HVc2RDH1l8w4/O5ZSTocymI6uMeQP9vrJONDvj6b2Y0ZHiw47vuiT+8mE6946zlJ4cUhfmzGj6ndBgHAlt2NXvltN+hIF4ll4IIOc4Avcr9+bUl+y9wvcq3jB6ZDIFrgvhecqjm3NyV6tX6WytpwoDKKLqvrVECJcVIyIpgmiv9uQL0JqFaWEKoTh1lIQOE2Gl8EIOlbU/RzQhLFiQuyean4caMYIMapr4gWDboKW2y1U3y7ahRTZD/z2eJRiDM8neH1z0qWlsLumut8BIoBXu4TLZaAY1y3Hu1BJyhW+HKN0FXq3iISQUjg/5njFAdwJIjEWtCBPgCsfSoS1Ppfu64oNfomckEq8FflJGCMXz6g8T7q4rS1xiQfeL7JyAsr9P+9wxLcgNznHJAE2BdJGwoGH3eqK/PI/2OFz5y+nVcMAAAAASUVORK5CYII=",__glob_2_2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAIT0lEQVR4nO2be2xT1x3HP+faju3EeUJGy4DwyJIWNrYMusEEglYrqF0p6SQ0WhC0DKVTIWyo3VSQtmWrtEmo0Ipsrco22kBZNVUte2mDshUk1i3j0Yw3MYECC4TE2EmM4+e99+wP48R24sQJdmK6fKXI8j3n3vw+3/M7v3NOdAOjGtWo/p8lRjqAVGnZjJqsXLV9ClK3SJ3rbzbVOpK57643YNV968qEbvghyErAFtXUIBCvTLYX7amhRk90/11twNNlG5Yj5JtSYhFCYC00o5gUfO1+tGCEWfzZa1KffPfMa56+npHRBixjmSG7fNw3kMxB0GGQYv9Oe+0JgFVlG9YK5BuAMv5LxUxbMBFLfhYAuiZpPePE/sFlgl4VBH+a0jimsq9MyFgDVpRW5xkFf0CwMOqyRPIjKcSNCHzZwyWUzL231/2qquFz+fl417mICSvrGmv3xPczpJFhyFpRWp1nNLAPmJ+Vk8WU+ePJLrLiafUKCQ8JWAIoZYti4aWUdLZ34XK4cbd34Q8GUcwGPP/1ApSccB7ZEf+7Mi4DVpRW5xkV9gNzrAVmZq+ejiXfDEDrWSen329C1yVli0oomdMDr6k6N1vbCQbUmOdJTXLh3avoqi6NJuPY35x5xRXdbkw/0uBkFOymD3iAwml5lFdORgvpTJw5rvu6qmo4rrejqlqv5wmDwGQzEugIipCqTwBiDFDSRjIErZz2XCmCx40WI7NWxcLf6vTSes2FzAYlX+FGs5NgQO0XPiJd1W9/hrzxbRmVAQajMh0JhZNysRbEwnc4b8X01TQdx412FEX0Cx/yqIQ8KoA7u0C9Et+eURkgMVwGcLd4utdxj9vXCz4iXdNRQ4nhAW6eaAdAIPfuOL4jFN+eUQZMbSw8DTQEboVoeOc8QZ+aED4Zuc520vmJBwReqYuX+uqTcavAmrKNUzXUY0Bh/gQb4+aNRTEOPkzXuU7ajrsAdIl8apf9F7/rq19GZQCARmgpUAjQ2eyh+cOW7iKWrNrPuyPwEsH6RPCQYQasLqt+HsQ2oQi++exDFBbn4m0L0HywDV2VST3D0+yl9ZgTQEpEVV1j7ev99c8YA8LwvCwUwZrNS3l8zQJefP2ZsAmtPpoPtiZlgmISiPCMEULKewbqnxFb4Xj4+UsqALDlZ1Mxr5zjB89wy+HF5wiQW5KDUBLXBJPNhLkgC8/VLoAHZ4356u8bnEdaE/UfcQMSwQOgS2xGScXcaRz/hz1pE8z5Wag+Hb8rIKSQn5xwHvkoUd8RnQIDweP1gpSM+2whL25dTuFYW9LTwZTdjZbXX78RMyBZ+IgGY4LapeKyh/cPUpf1/cUxIgYMFj6iZExQu1SuHGhB82lI+HDqheK/9BfLsNeAocJHZMuzEvSrnPvPVUJdargmTMpBGAQhj8rVv7WE9/6Cf2k6S2pdW/z9xTOsO8E7hQc4vO8UO7ftR+oSoAMoMFoNWMaY8d7wRTKiXtVZvKep1j1QTMM2BSLwACuffzQV8C8YMM5C8LHq0/A0e9FViYT3k4WHYToOR8MDHP37WeY9VoHZYhoyfJ29ditADTUPXLzfNV2o2mTFYDpdd/7Vy4OJLe1ToBteEWQvX4x//z/RnW7u+/IUNm59CrMeGjJ8KpTWIri6bP1GEFsRAtuzT2CtXIB57kwC/z6No6kF+/FLPLCgHKMpcRix8GJznb12SypjTJsBt+G3ReAtj3wNAJFjxTznC/jrz+C83Ib9VHNCE3rDb/95quNMiwGJ4CPqNOSiz/oiHDuZ0IThgIc0GDAQfIffiKorkGOF2TP7NGG44CHFBtw+z29FEeSuX4Zl8ZyY9m74iHKsUDEDjp7AecVB09kWAv4QddsPRBe8lM75eKVsFUh65PuSwwUvbQ9/9oSW1pGPKCUZMOiRj1eOFXwBOHshciXtIx/RHe8EwyPPywiBreoJzF//Skx7DLyuw2u74bs/AU9XT6dD9fBe5MwiNqdynR9Id7QTHHTaN16Ew0fDI67f3vwcqodfvXP7+/CkfbSGPAWGNOcLC8BqgW89Bp8ZM+LwMMQiOCh4XYe69yCkQtWTPZ0yAB6GUAMGDV9bBx8chmMnMybtozWoGhB9sMldtyyJgvc21DdAthV+8B1QRBw8L9TZtw9bwetLSU+BVeUblgop9yKEiB95SRhei4f/6FgYftNzUFqSUSMfUVIGfHvGxiJV066gS1vO2qVYl8zvbhsafGqPtHeipKaAqobWIoUtq6I8Bh6gMxoe4Ld/DMPnWGHTOpg2KWPhIdkaIMXDAJZH5kZdg/ZAHDyALTu8xG14JuPhIUkDJHxOAIZJPS8l3Qr2AQ9QuSj8AxkPD0kugwLC+1Y1/AaWKiGgDXBrr4KXefCQhAErSqsnAEUAWlv4dZNAaIANZO+lbsSrfSL1a8CK0uoJRoWDwD3G0omYPj8VgJDez+JxF6R9tBLWgCj4UmPpRPJ/WoUwh9/FTYi/7xDs3nvXwEMCA1be/717DZoWC59j7W5XQkE4eRGKi8BggOYbcOAwnGqE8Nbg+3cDPCQwwKBrb5EA3u/2E/jxDrh0tdd9Ugg3kqd32bfvTVvEKVavbK6aWpUfMJrbhcUsit7YhCjo+R8Ev9uPpwe+DXAAZgSX0MUBEVJ+/dblVzuGLfoUqFcG+AzZ4xU0oRTn9wffpOo8uKeptnkYY02Leq0C1jxvkxD4tWsOgg12AIIuz6cSHhIU9NVl638GYhOKwDC+GM3RAYEgfMrgIcGfxMqcJYeyxtiMIGZLd5cJTdMl8q+KSa/c3fjL68MdZDrV73F44cIa4+TrN0sVkX1tZ+OWob+0O6pRjWpUGar/AUfBnpqF8pATAAAAAElFTkSuQmCC",__glob_2_3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQdSURBVHgB7d2/TxtnGAfw53kNTfHZUYfKJioI2V2dZujGmOwMIAZ3yFDlr2j2/ANdkSp1sVQJD4yVWDowdYnMWkji/jp3i30Qau598r4mZ4XgmINw9oP8/Qxg+86yfN973ufufQczXVO3uVyTU6rm2NTIUMVaW2DmgGaQiESc45Bj7gjbQzHUKq639+ka+Co7//tzOSjkF9ZE4rVZPfjpSccQt2Jz0iiuh52070oViA+iGHxed2fCGsGVGaLdtMFcGsjrX5ZdNVAdFfGppEPCjcLmq91xe40NJNpeeYKquFnuxN4JNl5ufXT7qBffDVE/uDDuE9w8Qwe93snTxcdhdHHTCEH+zjOEkSFLVX/Cj9p0IRA/TLmyqRBkyp/w/lh/+Pq5QI6bKw/RMybHH+vX25Vzx3sYSLdZLsXWfkcwUUy27nt28nwYSM7eqbvNJYKJYpHBPV7yfBCIrw5L9IhgKvzQlVTJIJCz6oBpKuQ/G/SSQSCWcIk7bcLmLBA/a4veMX2+l/gsDFtCdSghQlUfSJVAB2tqRlgwXCnhqqNqBP1DDdfYA4N1Dj18YzcEqiAQZRCIMghEGQSiDAJRBoEog0CUQSDKIBBlEIgyczQJ84V5/mp12cwvTObzbpjtH5/Kf8//oSg8poxlf4CC8sLcN9+vulDydEvl/J9731ZOf//xN+r3+pShzIcs/vLBvdscxpD7Drml1SXKGHqIMpkHIn/vteWkm/nYmzX/HeLweUgZy76HuDE3bv20x6UHi7e6qf+11866f3iTOUBH4ZG8+PUgJrgMeogyCEQZBKIMAlEGgSiDQJRBIMogEGUQiDJYD0kB6yHKYD1EI6yHzCash6SE9RBFsB4yw9BDlEEgyiAQZRCIMghEGQSiDAJRBoEog0CUwXpIClgPUQbrIRphPWQ2YT0kJayHKIL1kBmGHqIMAlEGgSiDQJRBIMogEGUQiDIIRBkEogwCUQaBKGP8j7MTqCDMkTGGewQqMEtoKJYXBCrYmDvGTYm3CFQwbA8Nz9EBgQpiqGWK6+19NHYNpOOzGFz2MtMOwZTxoHUMAgmO/kcgUyZmvuH/n1XI4zBitghlenaL6390/IPhnXo+6jfQS6ZBOkl1eMNAfJW4Lt8gmKhT4UZSHd65uay7G+0dDF2TY4V3vth8tfv+axcmF4ONP7eYGTeLWTN0cHfz5dbFl0fIR2+euQ24YcyIm7Nq9XonT0duG/fGaHvpiYhZI7gxfpgaVRmJsYF43ebKQzdHXxehMsG1+StYf9Hk+/S4/S4NxOs2vy6x7dfdw0cEV+ar4uj4TWPRXcletm+qQBJJMG6qpYaKGc9XhJ+S6rlZkDRBJK4UyPu6zeUaW7rvPrTCIqVYuDyrv83uD/7ZQp8cxjHt+xl0P1FI1/AW7qncQEFmvmUAAAAASUVORK5CYII=",__glob_2_4="/f2e-react-sign-system/assets/icon.6984125f.png",__glob_2_5="/f2e-react-sign-system/assets/logo.ecc203fb.svg",__glob_2_6="/f2e-react-sign-system/assets/plusSign.236dbc5a.png",__glob_2_7="/f2e-react-sign-system/assets/sign.04cc3204.png";const useAppDispatch=()=>useDispatch(),useAppSelector=useSelector;function useMsgBox(){const $=useAppDispatch();function _e(et){et.duration||(et.duration=3e3),et.show||(et.show=!0),$(setMsgBox(et)),setTimeout(()=>{$(setMsgBoxShow(!1))},et.duration)}return{showMsg:_e}}function useImageUtil(){const{showMsg:$}=useMsgBox();function _e(yt){let ct=1024,rt=5,lt=yt/ct<rt*ct;return lt||$({type:Status.ERROR,title:"\u683C\u5F0F\u932F\u8AA4",message:`\u8ACB\u52FF\u4E0A\u50B3\u8D85\u904E${rt}MB\u7684\u5716\u6A94`}),lt}function et(yt){return new URL({"../assets/images/acent.svg":__glob_2_0,"../assets/images/close.png":__glob_2_1,"../assets/images/drop.png":__glob_2_2,"../assets/images/hambger.png":__glob_2_3,"../assets/images/icon.png":__glob_2_4,"../assets/images/logo.svg":__glob_2_5,"../assets/images/plusSign.png":__glob_2_6,"../assets/images/sign.png":__glob_2_7}[`../assets/${yt}`],self.location).href}function tt(yt,ct){var lt;const rt=document.createElement("a");rt.download=ct||"my-sign",rt.href=yt,rt.target="_blank",document.body.appendChild(rt),rt.click(),(lt=rt.parentNode)==null||lt.removeChild(rt)}function ut(yt){return yt.toDataURL()}function pt(yt){let[ct,rt]=yt.split(","),lt=ct.match(/:(.*?);/);if(!lt)return;let ft=lt[1],it=atob(rt),at=it.length,nt=new Uint8Array(at);for(;at--;)nt[at]=it.charCodeAt(at);return new Blob([nt],{type:ft})}return{checkImageSize:_e,getAssetsFileURL:et,converCanvasToImage:ut,downloadImg:tt,converBase64ToBlob:pt}}function useSignStep(){const $=useNavigate(),_e=useAppDispatch();function et(tt,ut){_e(setCurrentStepIndecator(ut)),$(tt)}return{toStep:et}}function LandingPage(){const{getAssetsFileURL:$}=useImageUtil(),{toStep:_e}=useSignStep(),et=useNavigate();return jsxs("main",{className:"text-white flex flex-col justify-center items-center lg:flex-row lg:h-[600px]",children:[jsxs("section",{className:"landingPage-card",onClick:()=>_e("/SignPage/Step1",1),children:[jsx("img",{src:$("images/sign.png"),alt:"\u958B\u59CB\u7C3D\u540D"}),jsx("h2",{children:"\u958B\u59CB\u7C3D\u540D"})]}),jsxs("section",{className:"landingPage-card",onClick:()=>et("/CreateSign"),children:[jsx("img",{src:$("images/plusSign.png"),alt:"\u5EFA\u7ACB\u7C3D\u540D\u6A94\u6848"}),jsx("h2",{children:"\u5EFA\u7ACB\u7C3D\u540D\u6A94\u6848"})]})]})}function Loading($){let{loading:_e=!1,strokColor:et="text-gray-200",strokfillerColor:tt="fill-blue-600",width:ut="w-8",height:pt="h-8"}=$.loadingObj;return jsxs("div",{role:"status",className:_e?"":"hidden",children:[jsxs("svg",{className:`loading ${ut} ${pt} ${et} ${tt}`,viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),jsx("span",{className:"sr-only",children:"Loading..."})]})}function UploadFile($){const{handleOnchange:_e,title:et="\u9078\u64C7\u6A94\u6848"}=$;return jsxs("label",{className:"secndary-btn flex items-center justify-center cursor-pointer",children:[jsx("input",{className:"hidden",type:"file",onChange:_e}),et]})}function ColorPicker($){const{handleOnchange:_e,handleClick:et,active:tt}=$,{getAssetsFileURL:ut}=useImageUtil();return jsxs("label",{className:"",children:[jsx("img",{className:[tt?"animate-bounce":"","w-full cursor-pointer"].join(" "),src:ut("images/drop.png"),width:"64",height:"64",alt:"color picker"}),jsx("input",{className:"hidden",type:"color",onChange:_e,onClick:et})]})}function TextInput($){const{handleOnchange:_e}=$;return jsx("input",{className:"w-full text-black",type:"text",onChange:_e})}function Input($){const{type:_e,handleOnchange:et,handleClick:tt,active:ut,title:pt}=$.inputObj;return jsx(react.exports.Fragment,{children:(()=>{switch(_e){case InputType.FILE:return jsx(UploadFile,{title:pt,handleOnchange:et});case InputType.COLOR:return jsx(ColorPicker,{handleOnchange:et,handleClick:tt,active:ut});case InputType.TEXT:return jsx(TextInput,{handleOnchange:et})}})()})}function PrimaryBtn($){let{title:_e,clickHandler:et}=$.btnData;return jsx("button",{className:"brimary-btn",onClick:et,children:_e})}function SecondaryBtn($){let{title:_e,clickHandler:et}=$.btnData;return jsx("button",{className:"secndary-btn",onClick:et,children:_e})}function ColorBtn($){let{clickHandler:_e,color:et,active:tt}=$.btnData;return jsx("button",{className:[tt?"border-4 border-acent opacity-100":"border-primary-100 border-2 opacity-50","circle-btn"].join(" "),style:{background:`${et}`},onClick:_e})}function CloseBtn($){let{clickHandler:_e}=$.btnData;return jsx("button",{className:"close-btn",onClick:_e,children:"X"})}function Btn($){const{type:_e=BtnType.PRIMARY,title:et,clickHandler:tt,color:ut,active:pt}=$.btnObj;return jsx("div",{className:"",children:(()=>{switch(_e){case BtnType.PRIMARY:return jsx(PrimaryBtn,{btnData:{title:et,clickHandler:tt}});case BtnType.SECONDARY:return jsx(SecondaryBtn,{btnData:{title:et,clickHandler:tt}});case BtnType.COLOR:return jsx(ColorBtn,{btnData:{color:ut,clickHandler:tt,active:pt}});case BtnType.CLOSE:return jsx(CloseBtn,{btnData:{clickHandler:tt}})}})()})}var pdf={exports:{}},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(_e,et){module.exports=et()})(commonjsGlobal,function(){return(()=>{var __webpack_modules__=[,($,_e,et)=>{function tt(Bt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tt=function(At){return typeof At}:tt=function(At){return At&&typeof Symbol=="function"&&At.constructor===Symbol&&At!==Symbol.prototype?"symbol":typeof At},tt(Bt)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.StatTimer=_e.RenderingCancelledException=_e.PixelsPerInch=_e.PageViewport=_e.PDFDateString=_e.LinkTarget=_e.DOMStandardFontDataFactory=_e.DOMSVGFactory=_e.DOMCanvasFactory=_e.DOMCMapReaderFactory=void 0,_e.addLinkAttributes=Ot,_e.deprecated=Jt,_e.getFilenameFromUrl=Pt,_e.getPdfFilenameFromUrl=Lt,_e.getXfaPageViewport=Ht,_e.isDataScheme=Et,_e.isPdfFile=wt,_e.isValidFetchUrl=It,_e.loadScript=Nt;var ut=ct(et(2)),pt=et(4),yt=et(135);function ct(Bt){return Bt&&Bt.__esModule?Bt:{default:Bt}}function rt(Bt,Ft){var At=typeof Symbol!="undefined"&&Bt[Symbol.iterator]||Bt["@@iterator"];if(!At){if(Array.isArray(Bt)||(At=lt(Bt))||Ft&&Bt&&typeof Bt.length=="number"){At&&(Bt=At);var Rt=0,$t=function(){};return{s:$t,n:function(){return Rt>=Bt.length?{done:!0}:{done:!1,value:Bt[Rt++]}},e:function(vr){throw vr},f:$t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wt=!0,Vt=!1,Zt;return{s:function(){At=At.call(Bt)},n:function(){var vr=At.next();return Wt=vr.done,vr},e:function(vr){Vt=!0,Zt=vr},f:function(){try{!Wt&&At.return!=null&&At.return()}finally{if(Vt)throw Zt}}}}function lt(Bt,Ft){if(!!Bt){if(typeof Bt=="string")return ft(Bt,Ft);var At=Object.prototype.toString.call(Bt).slice(8,-1);if(At==="Object"&&Bt.constructor&&(At=Bt.constructor.name),At==="Map"||At==="Set")return Array.from(Bt);if(At==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(At))return ft(Bt,Ft)}}function ft(Bt,Ft){(Ft==null||Ft>Bt.length)&&(Ft=Bt.length);for(var At=0,Rt=new Array(Ft);At<Ft;At++)Rt[At]=Bt[At];return Rt}function it(Bt,Ft,At,Rt,$t,Wt,Vt){try{var Zt=Bt[Wt](Vt),ir=Zt.value}catch(vr){At(vr);return}Zt.done?Ft(ir):Promise.resolve(ir).then(Rt,$t)}function at(Bt){return function(){var Ft=this,At=arguments;return new Promise(function(Rt,$t){var Wt=Bt.apply(Ft,At);function Vt(ir){it(Wt,Rt,$t,Vt,Zt,"next",ir)}function Zt(ir){it(Wt,Rt,$t,Vt,Zt,"throw",ir)}Vt(void 0)})}}function nt(Bt,Ft){if(!(Bt instanceof Ft))throw new TypeError("Cannot call a class as a function")}function ot(Bt,Ft){for(var At=0;At<Ft.length;At++){var Rt=Ft[At];Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty(Bt,Rt.key,Rt)}}function ht(Bt,Ft,At){return Ft&&ot(Bt.prototype,Ft),At&&ot(Bt,At),Bt}function st(Bt,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function");Bt.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:Bt,writable:!0,configurable:!0}}),Ft&&dt(Bt,Ft)}function dt(Bt,Ft){return dt=Object.setPrototypeOf||function(Rt,$t){return Rt.__proto__=$t,Rt},dt(Bt,Ft)}function vt(Bt){var Ft=bt();return function(){var Rt=_t(Bt),$t;if(Ft){var Wt=_t(this).constructor;$t=Reflect.construct(Rt,arguments,Wt)}else $t=Rt.apply(this,arguments);return mt(this,$t)}}function mt(Bt,Ft){if(Ft&&(tt(Ft)==="object"||typeof Ft=="function"))return Ft;if(Ft!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gt(Bt)}function gt(Bt){if(Bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt}function bt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _t(Bt){return _t=Object.setPrototypeOf?Object.getPrototypeOf:function(At){return At.__proto__||Object.getPrototypeOf(At)},_t(Bt)}var Ct="noopener noreferrer nofollow",xt="http://www.w3.org/2000/svg",Tt={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,pt.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}};_e.PixelsPerInch=Tt;var Mt=function(Bt){st(At,Bt);var Ft=vt(At);function At(){var Rt,$t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Wt=$t.ownerDocument,Vt=Wt===void 0?globalThis.document:Wt;return nt(this,At),Rt=Ft.call(this),Rt._document=Vt,Rt}return ht(At,[{key:"_createCanvas",value:function($t,Wt){var Vt=this._document.createElement("canvas");return Vt.width=$t,Vt.height=Wt,Vt}}]),At}(yt.BaseCanvasFactory);_e.DOMCanvasFactory=Mt;function jt(Bt){return Gt.apply(this,arguments)}function Gt(){return Gt=at(ut.default.mark(function Bt(Ft){var At,Rt,$t=arguments;return ut.default.wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:if(At=$t.length>1&&$t[1]!==void 0?$t[1]:!1,!It(Ft,document.baseURI)){Vt.next=21;break}return Vt.next=4,fetch(Ft);case 4:if(Rt=Vt.sent,Rt.ok){Vt.next=7;break}throw new Error(Rt.statusText);case 7:if(!At){Vt.next=15;break}return Vt.t1=Uint8Array,Vt.next=11,Rt.arrayBuffer();case 11:Vt.t2=Vt.sent,Vt.t0=new Vt.t1(Vt.t2),Vt.next=20;break;case 15:return Vt.t3=pt.stringToBytes,Vt.next=18,Rt.text();case 18:Vt.t4=Vt.sent,Vt.t0=(0,Vt.t3)(Vt.t4);case 20:return Vt.abrupt("return",Vt.t0);case 21:return Vt.abrupt("return",new Promise(function(Zt,ir){var vr=new XMLHttpRequest;vr.open("GET",Ft,!0),At&&(vr.responseType="arraybuffer"),vr.onreadystatechange=function(){if(vr.readyState===XMLHttpRequest.DONE){if(vr.status===200||vr.status===0){var cr;if(At&&vr.response?cr=new Uint8Array(vr.response):!At&&vr.responseText&&(cr=(0,pt.stringToBytes)(vr.responseText)),cr){Zt(cr);return}}ir(new Error(vr.statusText))}},vr.send(null)}));case 22:case"end":return Vt.stop()}},Bt)})),Gt.apply(this,arguments)}var zt=function(Bt){st(At,Bt);var Ft=vt(At);function At(){return nt(this,At),Ft.apply(this,arguments)}return ht(At,[{key:"_fetchData",value:function($t,Wt){return jt($t,this.isCompressed).then(function(Vt){return{cMapData:Vt,compressionType:Wt}})}}]),At}(yt.BaseCMapReaderFactory);_e.DOMCMapReaderFactory=zt;var Xt=function(Bt){st(At,Bt);var Ft=vt(At);function At(){return nt(this,At),Ft.apply(this,arguments)}return ht(At,[{key:"_fetchData",value:function($t){return jt($t,!0)}}]),At}(yt.BaseStandardFontDataFactory);_e.DOMStandardFontDataFactory=Xt;var Kt=function(Bt){st(At,Bt);var Ft=vt(At);function At(){return nt(this,At),Ft.apply(this,arguments)}return ht(At,[{key:"_createSVG",value:function($t){return document.createElementNS(xt,$t)}}]),At}(yt.BaseSVGFactory);_e.DOMSVGFactory=Kt;var qt=function(){function Bt(Ft){var At=Ft.viewBox,Rt=Ft.scale,$t=Ft.rotation,Wt=Ft.offsetX,Vt=Wt===void 0?0:Wt,Zt=Ft.offsetY,ir=Zt===void 0?0:Zt,vr=Ft.dontFlip,cr=vr===void 0?!1:vr;nt(this,Bt),this.viewBox=At,this.scale=Rt,this.rotation=$t,this.offsetX=Vt,this.offsetY=ir;var or=(At[2]+At[0])/2,br=(At[3]+At[1])/2,Cr,Ar,kr,Or;switch($t%=360,$t<0&&($t+=360),$t){case 180:Cr=-1,Ar=0,kr=0,Or=1;break;case 90:Cr=0,Ar=1,kr=1,Or=0;break;case 270:Cr=0,Ar=-1,kr=-1,Or=0;break;case 0:Cr=1,Ar=0,kr=0,Or=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}cr&&(kr=-kr,Or=-Or);var Lr,dr,mr,Qt;Cr===0?(Lr=Math.abs(br-At[1])*Rt+Vt,dr=Math.abs(or-At[0])*Rt+ir,mr=Math.abs(At[3]-At[1])*Rt,Qt=Math.abs(At[2]-At[0])*Rt):(Lr=Math.abs(or-At[0])*Rt+Vt,dr=Math.abs(br-At[1])*Rt+ir,mr=Math.abs(At[2]-At[0])*Rt,Qt=Math.abs(At[3]-At[1])*Rt),this.transform=[Cr*Rt,Ar*Rt,kr*Rt,Or*Rt,Lr-Cr*Rt*or-kr*Rt*br,dr-Ar*Rt*or-Or*Rt*br],this.width=mr,this.height=Qt}return ht(Bt,[{key:"clone",value:function(){var At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Rt=At.scale,$t=Rt===void 0?this.scale:Rt,Wt=At.rotation,Vt=Wt===void 0?this.rotation:Wt,Zt=At.offsetX,ir=Zt===void 0?this.offsetX:Zt,vr=At.offsetY,cr=vr===void 0?this.offsetY:vr,or=At.dontFlip,br=or===void 0?!1:or;return new Bt({viewBox:this.viewBox.slice(),scale:$t,rotation:Vt,offsetX:ir,offsetY:cr,dontFlip:br})}},{key:"convertToViewportPoint",value:function(At,Rt){return pt.Util.applyTransform([At,Rt],this.transform)}},{key:"convertToViewportRectangle",value:function(At){var Rt=pt.Util.applyTransform([At[0],At[1]],this.transform),$t=pt.Util.applyTransform([At[2],At[3]],this.transform);return[Rt[0],Rt[1],$t[0],$t[1]]}},{key:"convertToPdfPoint",value:function(At,Rt){return pt.Util.applyInverseTransform([At,Rt],this.transform)}}]),Bt}();_e.PageViewport=qt;var er=function(Bt){st(At,Bt);var Ft=vt(At);function At(Rt,$t){var Wt;return nt(this,At),Wt=Ft.call(this,Rt,"RenderingCancelledException"),Wt.type=$t,Wt}return At}(pt.BaseException);_e.RenderingCancelledException=er;var Ut={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};_e.LinkTarget=Ut;function Ot(Bt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},At=Ft.url,Rt=Ft.target,$t=Ft.rel,Wt=Ft.enabled,Vt=Wt===void 0?!0:Wt;(0,pt.assert)(At&&typeof At=="string",'addLinkAttributes: A valid "url" parameter must provided.');var Zt=(0,pt.removeNullCharacters)(At);Vt?Bt.href=Bt.title=Zt:(Bt.href="",Bt.title="Disabled: ".concat(Zt),Bt.onclick=function(){return!1});var ir="";switch(Rt){case Ut.NONE:break;case Ut.SELF:ir="_self";break;case Ut.BLANK:ir="_blank";break;case Ut.PARENT:ir="_parent";break;case Ut.TOP:ir="_top";break}Bt.target=ir,Bt.rel=typeof $t=="string"?$t:Ct}function Et(Bt){for(var Ft=Bt.length,At=0;At<Ft&&Bt[At].trim()==="";)At++;return Bt.substring(At,At+5).toLowerCase()==="data:"}function wt(Bt){return typeof Bt=="string"&&/\.pdf$/i.test(Bt)}function Pt(Bt){var Ft=Bt.indexOf("#"),At=Bt.indexOf("?"),Rt=Math.min(Ft>0?Ft:Bt.length,At>0?At:Bt.length);return Bt.substring(Bt.lastIndexOf("/",Rt)+1,Rt)}function Lt(Bt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof Bt!="string")return Ft;if(Et(Bt))return(0,pt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ft;var At=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Rt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,$t=At.exec(Bt),Wt=Rt.exec($t[1])||Rt.exec($t[2])||Rt.exec($t[3]);if(Wt&&(Wt=Wt[0],Wt.includes("%")))try{Wt=Rt.exec(decodeURIComponent(Wt))[0]}catch{}return Wt||Ft}var Dt=function(){function Bt(){nt(this,Bt),this.started=Object.create(null),this.times=[]}return ht(Bt,[{key:"time",value:function(At){At in this.started&&(0,pt.warn)("Timer is already running for ".concat(At)),this.started[At]=Date.now()}},{key:"timeEnd",value:function(At){At in this.started||(0,pt.warn)("Timer has not been started for ".concat(At)),this.times.push({name:At,start:this.started[At],end:Date.now()}),delete this.started[At]}},{key:"toString",value:function(){var At=[],Rt=0,$t=rt(this.times),Wt;try{for($t.s();!(Wt=$t.n()).done;){var Vt=Wt.value,Zt=Vt.name;Zt.length>Rt&&(Rt=Zt.length)}}catch(br){$t.e(br)}finally{$t.f()}var ir=rt(this.times),vr;try{for(ir.s();!(vr=ir.n()).done;){var cr=vr.value,or=cr.end-cr.start;At.push("".concat(cr.name.padEnd(Rt)," ").concat(or,`ms
`))}}catch(br){ir.e(br)}finally{ir.f()}return At.join("")}}]),Bt}();_e.StatTimer=Dt;function It(Bt,Ft){try{var At=Ft?new URL(Bt,Ft):new URL(Bt),Rt=At.protocol;return Rt==="http:"||Rt==="https:"}catch{return!1}}function Nt(Bt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise(function(At,Rt){var $t=document.createElement("script");$t.src=Bt,$t.onload=function(Wt){Ft&&$t.remove(),At(Wt)},$t.onerror=function(){Rt(new Error("Cannot load script at: ".concat($t.src)))},(document.head||document.documentElement).appendChild($t)})}function Jt(Bt){console.log("Deprecated API usage: "+Bt)}var sr,lr=function(){function Bt(){nt(this,Bt)}return ht(Bt,null,[{key:"toDateObject",value:function(At){if(!At||!(0,pt.isString)(At))return null;sr||(sr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var Rt=sr.exec(At);if(!Rt)return null;var $t=parseInt(Rt[1],10),Wt=parseInt(Rt[2],10);Wt=Wt>=1&&Wt<=12?Wt-1:0;var Vt=parseInt(Rt[3],10);Vt=Vt>=1&&Vt<=31?Vt:1;var Zt=parseInt(Rt[4],10);Zt=Zt>=0&&Zt<=23?Zt:0;var ir=parseInt(Rt[5],10);ir=ir>=0&&ir<=59?ir:0;var vr=parseInt(Rt[6],10);vr=vr>=0&&vr<=59?vr:0;var cr=Rt[7]||"Z",or=parseInt(Rt[8],10);or=or>=0&&or<=23?or:0;var br=parseInt(Rt[9],10)||0;return br=br>=0&&br<=59?br:0,cr==="-"?(Zt+=or,ir+=br):cr==="+"&&(Zt-=or,ir-=br),new Date(Date.UTC($t,Wt,Vt,Zt,ir,vr))}}]),Bt}();_e.PDFDateString=lr;function Ht(Bt,Ft){var At=Ft.scale,Rt=At===void 0?1:At,$t=Ft.rotation,Wt=$t===void 0?0:$t,Vt=Bt.attributes.style,Zt=Vt.width,ir=Vt.height,vr=[0,0,parseInt(Zt),parseInt(ir)];return new qt({viewBox:vr,scale:Rt,rotation:Wt})}},($,_e,et)=>{$.exports=et(3)},($,_e,et)=>{$=et.nmd($);function tt(pt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tt=function(ct){return typeof ct}:tt=function(ct){return ct&&typeof Symbol=="function"&&ct.constructor===Symbol&&ct!==Symbol.prototype?"symbol":typeof ct},tt(pt)}var ut=function(pt){var yt=Object.prototype,ct=yt.hasOwnProperty,rt,lt=typeof Symbol=="function"?Symbol:{},ft=lt.iterator||"@@iterator",it=lt.asyncIterator||"@@asyncIterator",at=lt.toStringTag||"@@toStringTag";function nt(wt,Pt,Lt){return Object.defineProperty(wt,Pt,{value:Lt,enumerable:!0,configurable:!0,writable:!0}),wt[Pt]}try{nt({},"")}catch{nt=function(Lt,Dt,It){return Lt[Dt]=It}}function ot(wt,Pt,Lt,Dt){var It=Pt&&Pt.prototype instanceof bt?Pt:bt,Nt=Object.create(It.prototype),Jt=new Ut(Dt||[]);return Nt._invoke=Xt(wt,Lt,Jt),Nt}pt.wrap=ot;function ht(wt,Pt,Lt){try{return{type:"normal",arg:wt.call(Pt,Lt)}}catch(Dt){return{type:"throw",arg:Dt}}}var st="suspendedStart",dt="suspendedYield",vt="executing",mt="completed",gt={};function bt(){}function _t(){}function Ct(){}var xt={};nt(xt,ft,function(){return this});var Tt=Object.getPrototypeOf,Mt=Tt&&Tt(Tt(Ot([])));Mt&&Mt!==yt&&ct.call(Mt,ft)&&(xt=Mt);var jt=Ct.prototype=bt.prototype=Object.create(xt);_t.prototype=Ct,nt(jt,"constructor",Ct),nt(Ct,"constructor",_t),_t.displayName=nt(Ct,at,"GeneratorFunction");function Gt(wt){["next","throw","return"].forEach(function(Pt){nt(wt,Pt,function(Lt){return this._invoke(Pt,Lt)})})}pt.isGeneratorFunction=function(wt){var Pt=typeof wt=="function"&&wt.constructor;return Pt?Pt===_t||(Pt.displayName||Pt.name)==="GeneratorFunction":!1},pt.mark=function(wt){return Object.setPrototypeOf?Object.setPrototypeOf(wt,Ct):(wt.__proto__=Ct,nt(wt,at,"GeneratorFunction")),wt.prototype=Object.create(jt),wt},pt.awrap=function(wt){return{__await:wt}};function zt(wt,Pt){function Lt(Nt,Jt,sr,lr){var Ht=ht(wt[Nt],wt,Jt);if(Ht.type==="throw")lr(Ht.arg);else{var Bt=Ht.arg,Ft=Bt.value;return Ft&&tt(Ft)==="object"&&ct.call(Ft,"__await")?Pt.resolve(Ft.__await).then(function(At){Lt("next",At,sr,lr)},function(At){Lt("throw",At,sr,lr)}):Pt.resolve(Ft).then(function(At){Bt.value=At,sr(Bt)},function(At){return Lt("throw",At,sr,lr)})}}var Dt;function It(Nt,Jt){function sr(){return new Pt(function(lr,Ht){Lt(Nt,Jt,lr,Ht)})}return Dt=Dt?Dt.then(sr,sr):sr()}this._invoke=It}Gt(zt.prototype),nt(zt.prototype,it,function(){return this}),pt.AsyncIterator=zt,pt.async=function(wt,Pt,Lt,Dt,It){It===void 0&&(It=Promise);var Nt=new zt(ot(wt,Pt,Lt,Dt),It);return pt.isGeneratorFunction(Pt)?Nt:Nt.next().then(function(Jt){return Jt.done?Jt.value:Nt.next()})};function Xt(wt,Pt,Lt){var Dt=st;return function(Nt,Jt){if(Dt===vt)throw new Error("Generator is already running");if(Dt===mt){if(Nt==="throw")throw Jt;return Et()}for(Lt.method=Nt,Lt.arg=Jt;;){var sr=Lt.delegate;if(sr){var lr=Kt(sr,Lt);if(lr){if(lr===gt)continue;return lr}}if(Lt.method==="next")Lt.sent=Lt._sent=Lt.arg;else if(Lt.method==="throw"){if(Dt===st)throw Dt=mt,Lt.arg;Lt.dispatchException(Lt.arg)}else Lt.method==="return"&&Lt.abrupt("return",Lt.arg);Dt=vt;var Ht=ht(wt,Pt,Lt);if(Ht.type==="normal"){if(Dt=Lt.done?mt:dt,Ht.arg===gt)continue;return{value:Ht.arg,done:Lt.done}}else Ht.type==="throw"&&(Dt=mt,Lt.method="throw",Lt.arg=Ht.arg)}}}function Kt(wt,Pt){var Lt=wt.iterator[Pt.method];if(Lt===rt){if(Pt.delegate=null,Pt.method==="throw"){if(wt.iterator.return&&(Pt.method="return",Pt.arg=rt,Kt(wt,Pt),Pt.method==="throw"))return gt;Pt.method="throw",Pt.arg=new TypeError("The iterator does not provide a 'throw' method")}return gt}var Dt=ht(Lt,wt.iterator,Pt.arg);if(Dt.type==="throw")return Pt.method="throw",Pt.arg=Dt.arg,Pt.delegate=null,gt;var It=Dt.arg;if(!It)return Pt.method="throw",Pt.arg=new TypeError("iterator result is not an object"),Pt.delegate=null,gt;if(It.done)Pt[wt.resultName]=It.value,Pt.next=wt.nextLoc,Pt.method!=="return"&&(Pt.method="next",Pt.arg=rt);else return It;return Pt.delegate=null,gt}Gt(jt),nt(jt,at,"Generator"),nt(jt,ft,function(){return this}),nt(jt,"toString",function(){return"[object Generator]"});function qt(wt){var Pt={tryLoc:wt[0]};1 in wt&&(Pt.catchLoc=wt[1]),2 in wt&&(Pt.finallyLoc=wt[2],Pt.afterLoc=wt[3]),this.tryEntries.push(Pt)}function er(wt){var Pt=wt.completion||{};Pt.type="normal",delete Pt.arg,wt.completion=Pt}function Ut(wt){this.tryEntries=[{tryLoc:"root"}],wt.forEach(qt,this),this.reset(!0)}pt.keys=function(wt){var Pt=[];for(var Lt in wt)Pt.push(Lt);return Pt.reverse(),function Dt(){for(;Pt.length;){var It=Pt.pop();if(It in wt)return Dt.value=It,Dt.done=!1,Dt}return Dt.done=!0,Dt}};function Ot(wt){if(wt){var Pt=wt[ft];if(Pt)return Pt.call(wt);if(typeof wt.next=="function")return wt;if(!isNaN(wt.length)){var Lt=-1,Dt=function It(){for(;++Lt<wt.length;)if(ct.call(wt,Lt))return It.value=wt[Lt],It.done=!1,It;return It.value=rt,It.done=!0,It};return Dt.next=Dt}}return{next:Et}}pt.values=Ot;function Et(){return{value:rt,done:!0}}return Ut.prototype={constructor:Ut,reset:function(Pt){if(this.prev=0,this.next=0,this.sent=this._sent=rt,this.done=!1,this.delegate=null,this.method="next",this.arg=rt,this.tryEntries.forEach(er),!Pt)for(var Lt in this)Lt.charAt(0)==="t"&&ct.call(this,Lt)&&!isNaN(+Lt.slice(1))&&(this[Lt]=rt)},stop:function(){this.done=!0;var Pt=this.tryEntries[0],Lt=Pt.completion;if(Lt.type==="throw")throw Lt.arg;return this.rval},dispatchException:function(Pt){if(this.done)throw Pt;var Lt=this;function Dt(Ht,Bt){return Jt.type="throw",Jt.arg=Pt,Lt.next=Ht,Bt&&(Lt.method="next",Lt.arg=rt),!!Bt}for(var It=this.tryEntries.length-1;It>=0;--It){var Nt=this.tryEntries[It],Jt=Nt.completion;if(Nt.tryLoc==="root")return Dt("end");if(Nt.tryLoc<=this.prev){var sr=ct.call(Nt,"catchLoc"),lr=ct.call(Nt,"finallyLoc");if(sr&&lr){if(this.prev<Nt.catchLoc)return Dt(Nt.catchLoc,!0);if(this.prev<Nt.finallyLoc)return Dt(Nt.finallyLoc)}else if(sr){if(this.prev<Nt.catchLoc)return Dt(Nt.catchLoc,!0)}else if(lr){if(this.prev<Nt.finallyLoc)return Dt(Nt.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Pt,Lt){for(var Dt=this.tryEntries.length-1;Dt>=0;--Dt){var It=this.tryEntries[Dt];if(It.tryLoc<=this.prev&&ct.call(It,"finallyLoc")&&this.prev<It.finallyLoc){var Nt=It;break}}Nt&&(Pt==="break"||Pt==="continue")&&Nt.tryLoc<=Lt&&Lt<=Nt.finallyLoc&&(Nt=null);var Jt=Nt?Nt.completion:{};return Jt.type=Pt,Jt.arg=Lt,Nt?(this.method="next",this.next=Nt.finallyLoc,gt):this.complete(Jt)},complete:function(Pt,Lt){if(Pt.type==="throw")throw Pt.arg;return Pt.type==="break"||Pt.type==="continue"?this.next=Pt.arg:Pt.type==="return"?(this.rval=this.arg=Pt.arg,this.method="return",this.next="end"):Pt.type==="normal"&&Lt&&(this.next=Lt),gt},finish:function(Pt){for(var Lt=this.tryEntries.length-1;Lt>=0;--Lt){var Dt=this.tryEntries[Lt];if(Dt.finallyLoc===Pt)return this.complete(Dt.completion,Dt.afterLoc),er(Dt),gt}},catch:function(Pt){for(var Lt=this.tryEntries.length-1;Lt>=0;--Lt){var Dt=this.tryEntries[Lt];if(Dt.tryLoc===Pt){var It=Dt.completion;if(It.type==="throw"){var Nt=It.arg;er(Dt)}return Nt}}throw new Error("illegal catch attempt")},delegateYield:function(Pt,Lt,Dt){return this.delegate={iterator:Ot(Pt),resultName:Lt,nextLoc:Dt},this.method==="next"&&(this.arg=rt),gt}},pt}(tt($)==="object"?$.exports:{});try{regeneratorRuntime=ut}catch{(typeof globalThis=="undefined"?"undefined":tt(globalThis))==="object"?globalThis.regeneratorRuntime=ut:Function("r","regeneratorRuntime = r")(ut)}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.VerbosityLevel=_e.Util=_e.UnknownErrorException=_e.UnexpectedResponseException=_e.UNSUPPORTED_FEATURES=_e.TextRenderingMode=_e.StreamType=_e.RenderingIntentFlag=_e.PermissionFlag=_e.PasswordResponses=_e.PasswordException=_e.PageActionEventType=_e.OPS=_e.MissingPDFException=_e.IsLittleEndianCached=_e.IsEvalSupportedCached=_e.InvalidPDFException=_e.ImageKind=_e.IDENTITY_MATRIX=_e.FormatError=_e.FontType=_e.FONT_IDENTITY_MATRIX=_e.DocumentActionEventType=_e.CMapCompressionType=_e.BaseException=_e.AnnotationType=_e.AnnotationStateModelType=_e.AnnotationReviewState=_e.AnnotationReplyType=_e.AnnotationMode=_e.AnnotationMarkedState=_e.AnnotationFlag=_e.AnnotationFieldFlag=_e.AnnotationBorderStyleType=_e.AnnotationActionEventType=_e.AbortException=void 0,_e.arrayByteLength=gr,_e.arraysToBytes=wr,_e.assert=vr,_e.bytesToString=rr,_e.createObjectURL=Dn,_e.createPromiseCapability=Pn,_e.createValidAbsoluteUrl=br,_e.escapeString=qr,_e.getModificationDate=na,_e.getVerbosityLevel=Wt,_e.info=Vt,_e.isArrayBuffer=Nn,_e.isArrayEqual=Bn,_e.isAscii=sn,_e.isBool=In,_e.isNum=_i,_e.isSameOrigin=cr,_e.isString=jn,_e.objectFromMap=Dr,_e.objectSize=Ir,_e.removeNullCharacters=ar,_e.setVerbosityLevel=$t,_e.shadow=Cr,_e.string32=Er,_e.stringToBytes=yr,_e.stringToPDFString=Gr,_e.stringToUTF16BEString=hn,_e.stringToUTF8String=wn,_e.unreachable=ir,_e.utf8StringToString=Sn,_e.warn=Zt,et(5);function tt(pr,Tr){for(var hr=0;hr<Tr.length;hr++){var Sr=Tr[hr];Sr.enumerable=Sr.enumerable||!1,Sr.configurable=!0,"value"in Sr&&(Sr.writable=!0),Object.defineProperty(pr,Sr.key,Sr)}}function ut(pr,Tr,hr){return Tr&&tt(pr.prototype,Tr),hr&&tt(pr,hr),pr}function pt(pr){return rt(pr)||ct(pr)||ot(pr)||yt()}function yt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ct(pr){if(typeof Symbol!="undefined"&&pr[Symbol.iterator]!=null||pr["@@iterator"]!=null)return Array.from(pr)}function rt(pr){if(Array.isArray(pr))return ht(pr)}function lt(pr,Tr){return at(pr)||it(pr,Tr)||ot(pr,Tr)||ft()}function ft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(pr,Tr){var hr=pr==null?null:typeof Symbol!="undefined"&&pr[Symbol.iterator]||pr["@@iterator"];if(hr!=null){var Sr=[],Br=!0,Wr=!1,Hr,Yr;try{for(hr=hr.call(pr);!(Br=(Hr=hr.next()).done)&&(Sr.push(Hr.value),!(Tr&&Sr.length===Tr));Br=!0);}catch(ln){Wr=!0,Yr=ln}finally{try{!Br&&hr.return!=null&&hr.return()}finally{if(Wr)throw Yr}}return Sr}}function at(pr){if(Array.isArray(pr))return pr}function nt(pr,Tr){var hr=typeof Symbol!="undefined"&&pr[Symbol.iterator]||pr["@@iterator"];if(!hr){if(Array.isArray(pr)||(hr=ot(pr))||Tr&&pr&&typeof pr.length=="number"){hr&&(pr=hr);var Sr=0,Br=function(){};return{s:Br,n:function(){return Sr>=pr.length?{done:!0}:{done:!1,value:pr[Sr++]}},e:function(dn){throw dn},f:Br}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wr=!0,Hr=!1,Yr;return{s:function(){hr=hr.call(pr)},n:function(){var dn=hr.next();return Wr=dn.done,dn},e:function(dn){Hr=!0,Yr=dn},f:function(){try{!Wr&&hr.return!=null&&hr.return()}finally{if(Hr)throw Yr}}}}function ot(pr,Tr){if(!!pr){if(typeof pr=="string")return ht(pr,Tr);var hr=Object.prototype.toString.call(pr).slice(8,-1);if(hr==="Object"&&pr.constructor&&(hr=pr.constructor.name),hr==="Map"||hr==="Set")return Array.from(pr);if(hr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(hr))return ht(pr,Tr)}}function ht(pr,Tr){(Tr==null||Tr>pr.length)&&(Tr=pr.length);for(var hr=0,Sr=new Array(Tr);hr<Tr;hr++)Sr[hr]=pr[hr];return Sr}function st(pr){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?st=function(hr){return typeof hr}:st=function(hr){return hr&&typeof Symbol=="function"&&hr.constructor===Symbol&&hr!==Symbol.prototype?"symbol":typeof hr},st(pr)}function dt(pr,Tr){if(!(pr instanceof Tr))throw new TypeError("Cannot call a class as a function")}function vt(pr,Tr){if(typeof Tr!="function"&&Tr!==null)throw new TypeError("Super expression must either be null or a function");pr.prototype=Object.create(Tr&&Tr.prototype,{constructor:{value:pr,writable:!0,configurable:!0}}),Tr&&mt(pr,Tr)}function mt(pr,Tr){return mt=Object.setPrototypeOf||function(Sr,Br){return Sr.__proto__=Br,Sr},mt(pr,Tr)}function gt(pr){var Tr=Ct();return function(){var Sr=xt(pr),Br;if(Tr){var Wr=xt(this).constructor;Br=Reflect.construct(Sr,arguments,Wr)}else Br=Sr.apply(this,arguments);return bt(this,Br)}}function bt(pr,Tr){if(Tr&&(st(Tr)==="object"||typeof Tr=="function"))return Tr;if(Tr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _t(pr)}function _t(pr){if(pr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pr}function Ct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xt(pr){return xt=Object.setPrototypeOf?Object.getPrototypeOf:function(hr){return hr.__proto__||Object.getPrototypeOf(hr)},xt(pr)}var Tt=[1,0,0,1,0,0];_e.IDENTITY_MATRIX=Tt;var Mt=[.001,0,0,.001,0,0];_e.FONT_IDENTITY_MATRIX=Mt;var jt={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};_e.RenderingIntentFlag=jt;var Gt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};_e.AnnotationMode=Gt;var zt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};_e.PermissionFlag=zt;var Xt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};_e.TextRenderingMode=Xt;var Kt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};_e.ImageKind=Kt;var qt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};_e.AnnotationType=qt;var er={MARKED:"Marked",REVIEW:"Review"};_e.AnnotationStateModelType=er;var Ut={MARKED:"Marked",UNMARKED:"Unmarked"};_e.AnnotationMarkedState=Ut;var Ot={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};_e.AnnotationReviewState=Ot;var Et={GROUP:"Group",REPLY:"R"};_e.AnnotationReplyType=Et;var wt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};_e.AnnotationFlag=wt;var Pt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};_e.AnnotationFieldFlag=Pt;var Lt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};_e.AnnotationBorderStyleType=Lt;var Dt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};_e.AnnotationActionEventType=Dt;var It={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};_e.DocumentActionEventType=It;var Nt={O:"PageOpen",C:"PageClose"};_e.PageActionEventType=Nt;var Jt={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};_e.StreamType=Jt;var sr={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};_e.FontType=sr;var lr={ERRORS:0,WARNINGS:1,INFOS:5};_e.VerbosityLevel=lr;var Ht={NONE:0,BINARY:1,STREAM:2};_e.CMapCompressionType=Ht;var Bt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};_e.OPS=Bt;var Ft={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};_e.UNSUPPORTED_FEATURES=Ft;var At={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};_e.PasswordResponses=At;var Rt=lr.WARNINGS;function $t(pr){Number.isInteger(pr)&&(Rt=pr)}function Wt(){return Rt}function Vt(pr){Rt>=lr.INFOS&&console.log("Info: ".concat(pr))}function Zt(pr){Rt>=lr.WARNINGS&&console.log("Warning: ".concat(pr))}function ir(pr){throw new Error(pr)}function vr(pr,Tr){pr||ir(Tr)}function cr(pr,Tr){var hr;try{if(hr=new URL(pr),!hr.origin||hr.origin==="null")return!1}catch{return!1}var Sr=new URL(Tr,hr);return hr.origin===Sr.origin}function or(pr){if(!pr)return!1;switch(pr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function br(pr){var Tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,hr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!pr)return null;try{if(hr&&typeof pr=="string"){if(hr.addDefaultProtocol&&pr.startsWith("www.")){var Sr=pr.match(/\./g);Sr&&Sr.length>=2&&(pr="http://".concat(pr))}if(hr.tryConvertEncoding)try{pr=wn(pr)}catch{}}var Br=Tr?new URL(pr,Tr):new URL(pr);if(or(Br))return Br}catch{}return null}function Cr(pr,Tr,hr){return Object.defineProperty(pr,Tr,{value:hr,enumerable:!0,configurable:!0,writable:!1}),hr}var Ar=function(){function Tr(hr,Sr){this.constructor===Tr&&ir("Cannot initialize BaseException."),this.message=hr,this.name=Sr}return Tr.prototype=new Error,Tr.constructor=Tr,Tr}();_e.BaseException=Ar;var kr=function(pr){vt(hr,pr);var Tr=gt(hr);function hr(Sr,Br){var Wr;return dt(this,hr),Wr=Tr.call(this,Sr,"PasswordException"),Wr.code=Br,Wr}return hr}(Ar);_e.PasswordException=kr;var Or=function(pr){vt(hr,pr);var Tr=gt(hr);function hr(Sr,Br){var Wr;return dt(this,hr),Wr=Tr.call(this,Sr,"UnknownErrorException"),Wr.details=Br,Wr}return hr}(Ar);_e.UnknownErrorException=Or;var Lr=function(pr){vt(hr,pr);var Tr=gt(hr);function hr(Sr){return dt(this,hr),Tr.call(this,Sr,"InvalidPDFException")}return hr}(Ar);_e.InvalidPDFException=Lr;var dr=function(pr){vt(hr,pr);var Tr=gt(hr);function hr(Sr){return dt(this,hr),Tr.call(this,Sr,"MissingPDFException")}return hr}(Ar);_e.MissingPDFException=dr;var mr=function(pr){vt(hr,pr);var Tr=gt(hr);function hr(Sr,Br){var Wr;return dt(this,hr),Wr=Tr.call(this,Sr,"UnexpectedResponseException"),Wr.status=Br,Wr}return hr}(Ar);_e.UnexpectedResponseException=mr;var Qt=function(pr){vt(hr,pr);var Tr=gt(hr);function hr(Sr){return dt(this,hr),Tr.call(this,Sr,"FormatError")}return hr}(Ar);_e.FormatError=Qt;var nr=function(pr){vt(hr,pr);var Tr=gt(hr);function hr(Sr){return dt(this,hr),Tr.call(this,Sr,"AbortException")}return hr}(Ar);_e.AbortException=nr;var tr=/\x00+/g,fr=/[\x01-\x1F]/g;function ar(pr){var Tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof pr!="string"?(Zt("The argument for removeNullCharacters must be a string."),pr):(Tr&&(pr=pr.replace(fr," ")),pr.replace(tr,""))}function rr(pr){vr(pr!==null&&st(pr)==="object"&&pr.length!==void 0,"Invalid argument for bytesToString");var Tr=pr.length,hr=8192;if(Tr<hr)return String.fromCharCode.apply(null,pr);for(var Sr=[],Br=0;Br<Tr;Br+=hr){var Wr=Math.min(Br+hr,Tr),Hr=pr.subarray(Br,Wr);Sr.push(String.fromCharCode.apply(null,Hr))}return Sr.join("")}function yr(pr){vr(typeof pr=="string","Invalid argument for stringToBytes");for(var Tr=pr.length,hr=new Uint8Array(Tr),Sr=0;Sr<Tr;++Sr)hr[Sr]=pr.charCodeAt(Sr)&255;return hr}function gr(pr){return pr.length!==void 0?pr.length:(vr(pr.byteLength!==void 0,"arrayByteLength - invalid argument."),pr.byteLength)}function wr(pr){var Tr=pr.length;if(Tr===1&&pr[0]instanceof Uint8Array)return pr[0];for(var hr=0,Sr=0;Sr<Tr;Sr++)hr+=gr(pr[Sr]);for(var Br=0,Wr=new Uint8Array(hr),Hr=0;Hr<Tr;Hr++){var Yr=pr[Hr];Yr instanceof Uint8Array||(typeof Yr=="string"?Yr=yr(Yr):Yr=new Uint8Array(Yr));var ln=Yr.byteLength;Wr.set(Yr,Br),Br+=ln}return Wr}function Er(pr){return String.fromCharCode(pr>>24&255,pr>>16&255,pr>>8&255,pr&255)}function Ir(pr){return Object.keys(pr).length}function Dr(pr){var Tr=Object.create(null),hr=nt(pr),Sr;try{for(hr.s();!(Sr=hr.n()).done;){var Br=lt(Sr.value,2),Wr=Br[0],Hr=Br[1];Tr[Wr]=Hr}}catch(Yr){hr.e(Yr)}finally{hr.f()}return Tr}function xr(){var pr=new Uint8Array(4);pr[0]=1;var Tr=new Uint32Array(pr.buffer,0,1);return Tr[0]===1}var $r={get value(){return Cr(this,"value",xr())}};_e.IsLittleEndianCached=$r;function Rr(){try{return new Function(""),!0}catch{return!1}}var Fr={get value(){return Cr(this,"value",Rr())}};_e.IsEvalSupportedCached=Fr;var Nr=pt(Array(256).keys()).map(function(pr){return pr.toString(16).padStart(2,"0")}),jr=function(){function pr(){dt(this,pr)}return ut(pr,null,[{key:"makeHexColor",value:function(hr,Sr,Br){return"#".concat(Nr[hr]).concat(Nr[Sr]).concat(Nr[Br])}},{key:"transform",value:function(hr,Sr){return[hr[0]*Sr[0]+hr[2]*Sr[1],hr[1]*Sr[0]+hr[3]*Sr[1],hr[0]*Sr[2]+hr[2]*Sr[3],hr[1]*Sr[2]+hr[3]*Sr[3],hr[0]*Sr[4]+hr[2]*Sr[5]+hr[4],hr[1]*Sr[4]+hr[3]*Sr[5]+hr[5]]}},{key:"applyTransform",value:function(hr,Sr){var Br=hr[0]*Sr[0]+hr[1]*Sr[2]+Sr[4],Wr=hr[0]*Sr[1]+hr[1]*Sr[3]+Sr[5];return[Br,Wr]}},{key:"applyInverseTransform",value:function(hr,Sr){var Br=Sr[0]*Sr[3]-Sr[1]*Sr[2],Wr=(hr[0]*Sr[3]-hr[1]*Sr[2]+Sr[2]*Sr[5]-Sr[4]*Sr[3])/Br,Hr=(-hr[0]*Sr[1]+hr[1]*Sr[0]+Sr[4]*Sr[1]-Sr[5]*Sr[0])/Br;return[Wr,Hr]}},{key:"getAxialAlignedBoundingBox",value:function(hr,Sr){var Br=pr.applyTransform(hr,Sr),Wr=pr.applyTransform(hr.slice(2,4),Sr),Hr=pr.applyTransform([hr[0],hr[3]],Sr),Yr=pr.applyTransform([hr[2],hr[1]],Sr);return[Math.min(Br[0],Wr[0],Hr[0],Yr[0]),Math.min(Br[1],Wr[1],Hr[1],Yr[1]),Math.max(Br[0],Wr[0],Hr[0],Yr[0]),Math.max(Br[1],Wr[1],Hr[1],Yr[1])]}},{key:"inverseTransform",value:function(hr){var Sr=hr[0]*hr[3]-hr[1]*hr[2];return[hr[3]/Sr,-hr[1]/Sr,-hr[2]/Sr,hr[0]/Sr,(hr[2]*hr[5]-hr[4]*hr[3])/Sr,(hr[4]*hr[1]-hr[5]*hr[0])/Sr]}},{key:"apply3dTransform",value:function(hr,Sr){return[hr[0]*Sr[0]+hr[1]*Sr[1]+hr[2]*Sr[2],hr[3]*Sr[0]+hr[4]*Sr[1]+hr[5]*Sr[2],hr[6]*Sr[0]+hr[7]*Sr[1]+hr[8]*Sr[2]]}},{key:"singularValueDecompose2dScale",value:function(hr){var Sr=[hr[0],hr[2],hr[1],hr[3]],Br=hr[0]*Sr[0]+hr[1]*Sr[2],Wr=hr[0]*Sr[1]+hr[1]*Sr[3],Hr=hr[2]*Sr[0]+hr[3]*Sr[2],Yr=hr[2]*Sr[1]+hr[3]*Sr[3],ln=(Br+Yr)/2,dn=Math.sqrt(Math.pow(Br+Yr,2)-4*(Br*Yr-Hr*Wr))/2,_n=ln+dn||1,yn=ln-dn||1;return[Math.sqrt(_n),Math.sqrt(yn)]}},{key:"normalizeRect",value:function(hr){var Sr=hr.slice(0);return hr[0]>hr[2]&&(Sr[0]=hr[2],Sr[2]=hr[0]),hr[1]>hr[3]&&(Sr[1]=hr[3],Sr[3]=hr[1]),Sr}},{key:"intersect",value:function(hr,Sr){function Br(ln,dn){return ln-dn}var Wr=[hr[0],hr[2],Sr[0],Sr[2]].sort(Br),Hr=[hr[1],hr[3],Sr[1],Sr[3]].sort(Br),Yr=[];if(hr=pr.normalizeRect(hr),Sr=pr.normalizeRect(Sr),Wr[0]===hr[0]&&Wr[1]===Sr[0]||Wr[0]===Sr[0]&&Wr[1]===hr[0])Yr[0]=Wr[1],Yr[2]=Wr[2];else return null;if(Hr[0]===hr[1]&&Hr[1]===Sr[1]||Hr[0]===Sr[1]&&Hr[1]===hr[1])Yr[1]=Hr[1],Yr[3]=Hr[2];else return null;return Yr}},{key:"bezierBoundingBox",value:function(hr,Sr,Br,Wr,Hr,Yr,ln,dn){for(var _n=[],yn=[[],[]],En,xn,$n,cn,Xn,Kn,no,ga,qn=0;qn<2;++qn){if(qn===0?(xn=6*hr-12*Br+6*Hr,En=-3*hr+9*Br-9*Hr+3*ln,$n=3*Br-3*hr):(xn=6*Sr-12*Wr+6*Yr,En=-3*Sr+9*Wr-9*Yr+3*dn,$n=3*Wr-3*Sr),Math.abs(En)<1e-12){if(Math.abs(xn)<1e-12)continue;cn=-$n/xn,0<cn&&cn<1&&_n.push(cn);continue}no=xn*xn-4*$n*En,ga=Math.sqrt(no),!(no<0)&&(Xn=(-xn+ga)/(2*En),0<Xn&&Xn<1&&_n.push(Xn),Kn=(-xn-ga)/(2*En),0<Kn&&Kn<1&&_n.push(Kn))}for(var An=_n.length,gn,Wn=An;An--;)cn=_n[An],gn=1-cn,yn[0][An]=gn*gn*gn*hr+3*gn*gn*cn*Br+3*gn*cn*cn*Hr+cn*cn*cn*ln,yn[1][An]=gn*gn*gn*Sr+3*gn*gn*cn*Wr+3*gn*cn*cn*Yr+cn*cn*cn*dn;return yn[0][Wn]=hr,yn[1][Wn]=Sr,yn[0][Wn+1]=ln,yn[1][Wn+1]=dn,yn[0].length=yn[1].length=Wn+2,[Math.min.apply(Math,pt(yn[0])),Math.min.apply(Math,pt(yn[1])),Math.max.apply(Math,pt(yn[0])),Math.max.apply(Math,pt(yn[1]))]}}]),pr}();_e.Util=jr;var zr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Gr(pr){var Tr=pr.length,hr=[];if(pr[0]==="\xFE"&&pr[1]==="\xFF")for(var Sr=2;Sr<Tr;Sr+=2)hr.push(String.fromCharCode(pr.charCodeAt(Sr)<<8|pr.charCodeAt(Sr+1)));else if(pr[0]==="\xFF"&&pr[1]==="\xFE")for(var Br=2;Br<Tr;Br+=2)hr.push(String.fromCharCode(pr.charCodeAt(Br+1)<<8|pr.charCodeAt(Br)));else for(var Wr=0;Wr<Tr;++Wr){var Hr=zr[pr.charCodeAt(Wr)];hr.push(Hr?String.fromCharCode(Hr):pr.charAt(Wr))}return hr.join("")}function qr(pr){return pr.replace(/([()\\\n\r])/g,function(Tr){return Tr===`
`?"\\n":Tr==="\r"?"\\r":"\\".concat(Tr)})}function sn(pr){return/^[\x00-\x7F]*$/.test(pr)}function hn(pr){for(var Tr=["\xFE\xFF"],hr=0,Sr=pr.length;hr<Sr;hr++){var Br=pr.charCodeAt(hr);Tr.push(String.fromCharCode(Br>>8&255),String.fromCharCode(Br&255))}return Tr.join("")}function wn(pr){return decodeURIComponent(escape(pr))}function Sn(pr){return unescape(encodeURIComponent(pr))}function In(pr){return typeof pr=="boolean"}function _i(pr){return typeof pr=="number"}function jn(pr){return typeof pr=="string"}function Nn(pr){return st(pr)==="object"&&pr!==null&&pr.byteLength!==void 0}function Bn(pr,Tr){if(pr.length!==Tr.length)return!1;for(var hr=0,Sr=pr.length;hr<Sr;hr++)if(pr[hr]!==Tr[hr])return!1;return!0}function na(){var pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date,Tr=[pr.getUTCFullYear().toString(),(pr.getUTCMonth()+1).toString().padStart(2,"0"),pr.getUTCDate().toString().padStart(2,"0"),pr.getUTCHours().toString().padStart(2,"0"),pr.getUTCMinutes().toString().padStart(2,"0"),pr.getUTCSeconds().toString().padStart(2,"0")];return Tr.join("")}function Pn(){var pr=Object.create(null),Tr=!1;return Object.defineProperty(pr,"settled",{get:function(){return Tr}}),pr.promise=new Promise(function(hr,Sr){pr.resolve=function(Br){Tr=!0,hr(Br)},pr.reject=function(Br){Tr=!0,Sr(Br)}}),pr}function Dn(pr){var Tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",hr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob!="undefined"&&!hr)return URL.createObjectURL(new Blob([pr],{type:Tr}));for(var Sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Br="data:".concat(Tr,";base64,"),Wr=0,Hr=pr.length;Wr<Hr;Wr+=3){var Yr=pr[Wr]&255,ln=pr[Wr+1]&255,dn=pr[Wr+2]&255,_n=Yr>>2,yn=(Yr&3)<<4|ln>>4,En=Wr+1<Hr?(ln&15)<<2|dn>>6:64,xn=Wr+2<Hr?dn&63:64;Br+=Sr[_n]+Sr[yn]+Sr[En]+Sr[xn]}return Br}},($,_e,et)=>{var tt=et(6);(typeof globalThis=="undefined"||!globalThis._pdfjsCompatibilityChecked)&&((typeof globalThis=="undefined"||globalThis.Math!==Math)&&(globalThis=et(7)),globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!tt.isNodeJS||(globalThis.btoa=function(pt){return Buffer.from(pt,"binary").toString("base64")})}(),function(){globalThis.atob||!tt.isNodeJS||(globalThis.atob=function(pt){return Buffer.from(pt,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!tt.isNodeJS||(globalThis.DOMMatrix=et(69))}(),function(){Object.fromEntries||et(70)}(),function(){globalThis.Promise.allSettled||(globalThis.Promise=et(97))}(),function(){globalThis.ReadableStream||!tt.isNodeJS||(globalThis.ReadableStream=et(134).ReadableStream)}())},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.isNodeJS=void 0;function et(ut){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?et=function(yt){return typeof yt}:et=function(yt){return yt&&typeof Symbol=="function"&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt},et(ut)}var tt=(typeof process=="undefined"?"undefined":et(process))==="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");_e.isNodeJS=tt},($,_e,et)=>{et(8),$.exports=et(10)},($,_e,et)=>{var tt=et(9),ut=et(10);tt({global:!0},{globalThis:ut})},($,_e,et)=>{var tt=et(10),ut=et(11).f,pt=et(47),yt=et(50),ct=et(41),rt=et(57),lt=et(68);$.exports=function(ft,it){var at=ft.target,nt=ft.global,ot=ft.stat,ht,st,dt,vt,mt,gt;if(nt?st=tt:ot?st=tt[at]||ct(at,{}):st=(tt[at]||{}).prototype,st)for(dt in it){if(mt=it[dt],ft.noTargetGet?(gt=ut(st,dt),vt=gt&&gt.value):vt=st[dt],ht=lt(nt?dt:at+(ot?".":"#")+dt,ft.forced),!ht&&vt!==void 0){if(typeof mt==typeof vt)continue;rt(mt,vt)}(ft.sham||vt&&vt.sham)&&pt(mt,"sham",!0),yt(st,dt,mt,ft)}}},$=>{var _e=function(et){return et&&et.Math==Math&&et};$.exports=_e(typeof globalThis=="object"&&globalThis)||_e(typeof window=="object"&&window)||_e(typeof self=="object"&&self)||_e(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")()},($,_e,et)=>{var tt=et(12),ut=et(14),pt=et(15),yt=et(16),ct=et(17),rt=et(22),lt=et(42),ft=et(45),it=Object.getOwnPropertyDescriptor;_e.f=tt?it:function(nt,ot){if(nt=ct(nt),ot=rt(ot),ft)try{return it(nt,ot)}catch{}if(lt(nt,ot))return yt(!ut(pt.f,nt,ot),nt[ot])}},($,_e,et)=>{var tt=et(13);$.exports=!tt(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},$=>{$.exports=function(_e){try{return!!_e()}catch{return!0}}},$=>{var _e=Function.prototype.call;$.exports=_e.bind?_e.bind(_e):function(){return _e.apply(_e,arguments)}},($,_e)=>{var et={}.propertyIsEnumerable,tt=Object.getOwnPropertyDescriptor,ut=tt&&!et.call({1:2},1);_e.f=ut?function(yt){var ct=tt(this,yt);return!!ct&&ct.enumerable}:et},$=>{$.exports=function(_e,et){return{enumerable:!(_e&1),configurable:!(_e&2),writable:!(_e&4),value:et}}},($,_e,et)=>{var tt=et(18),ut=et(21);$.exports=function(pt){return tt(ut(pt))}},($,_e,et)=>{var tt=et(10),ut=et(19),pt=et(13),yt=et(20),ct=tt.Object,rt=ut("".split);$.exports=pt(function(){return!ct("z").propertyIsEnumerable(0)})?function(lt){return yt(lt)=="String"?rt(lt,""):ct(lt)}:ct},$=>{var _e=Function.prototype,et=_e.bind,tt=_e.call,ut=et&&et.bind(tt);$.exports=et?function(pt){return pt&&ut(tt,pt)}:function(pt){return pt&&function(){return tt.apply(pt,arguments)}}},($,_e,et)=>{var tt=et(19),ut=tt({}.toString),pt=tt("".slice);$.exports=function(yt){return pt(ut(yt),8,-1)}},($,_e,et)=>{var tt=et(10),ut=tt.TypeError;$.exports=function(pt){if(pt==null)throw ut("Can't call method on "+pt);return pt}},($,_e,et)=>{var tt=et(23),ut=et(26);$.exports=function(pt){var yt=tt(pt,"string");return ut(yt)?yt:yt+""}},($,_e,et)=>{var tt=et(10),ut=et(14),pt=et(24),yt=et(26),ct=et(33),rt=et(36),lt=et(37),ft=tt.TypeError,it=lt("toPrimitive");$.exports=function(at,nt){if(!pt(at)||yt(at))return at;var ot=ct(at,it),ht;if(ot){if(nt===void 0&&(nt="default"),ht=ut(ot,at,nt),!pt(ht)||yt(ht))return ht;throw ft("Can't convert object to primitive value")}return nt===void 0&&(nt="number"),rt(at,nt)}},($,_e,et)=>{var tt=et(25);$.exports=function(ut){return typeof ut=="object"?ut!==null:tt(ut)}},$=>{$.exports=function(_e){return typeof _e=="function"}},($,_e,et)=>{var tt=et(10),ut=et(27),pt=et(25),yt=et(28),ct=et(29),rt=tt.Object;$.exports=ct?function(lt){return typeof lt=="symbol"}:function(lt){var ft=ut("Symbol");return pt(ft)&&yt(ft.prototype,rt(lt))}},($,_e,et)=>{var tt=et(10),ut=et(25),pt=function(yt){return ut(yt)?yt:void 0};$.exports=function(yt,ct){return arguments.length<2?pt(tt[yt]):tt[yt]&&tt[yt][ct]}},($,_e,et)=>{var tt=et(19);$.exports=tt({}.isPrototypeOf)},($,_e,et)=>{var tt=et(30);$.exports=tt&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},($,_e,et)=>{var tt=et(31),ut=et(13);$.exports=!!Object.getOwnPropertySymbols&&!ut(function(){var pt=Symbol();return!String(pt)||!(Object(pt)instanceof Symbol)||!Symbol.sham&&tt&&tt<41})},($,_e,et)=>{var tt=et(10),ut=et(32),pt=tt.process,yt=tt.Deno,ct=pt&&pt.versions||yt&&yt.version,rt=ct&&ct.v8,lt,ft;rt&&(lt=rt.split("."),ft=lt[0]>0&&lt[0]<4?1:+(lt[0]+lt[1])),!ft&&ut&&(lt=ut.match(/Edge\/(\d+)/),(!lt||lt[1]>=74)&&(lt=ut.match(/Chrome\/(\d+)/),lt&&(ft=+lt[1]))),$.exports=ft},($,_e,et)=>{var tt=et(27);$.exports=tt("navigator","userAgent")||""},($,_e,et)=>{var tt=et(34);$.exports=function(ut,pt){var yt=ut[pt];return yt==null?void 0:tt(yt)}},($,_e,et)=>{var tt=et(10),ut=et(25),pt=et(35),yt=tt.TypeError;$.exports=function(ct){if(ut(ct))return ct;throw yt(pt(ct)+" is not a function")}},($,_e,et)=>{var tt=et(10),ut=tt.String;$.exports=function(pt){try{return ut(pt)}catch{return"Object"}}},($,_e,et)=>{var tt=et(10),ut=et(14),pt=et(25),yt=et(24),ct=tt.TypeError;$.exports=function(rt,lt){var ft,it;if(lt==="string"&&pt(ft=rt.toString)&&!yt(it=ut(ft,rt))||pt(ft=rt.valueOf)&&!yt(it=ut(ft,rt))||lt!=="string"&&pt(ft=rt.toString)&&!yt(it=ut(ft,rt)))return it;throw ct("Can't convert object to primitive value")}},($,_e,et)=>{var tt=et(10),ut=et(38),pt=et(42),yt=et(44),ct=et(30),rt=et(29),lt=ut("wks"),ft=tt.Symbol,it=ft&&ft.for,at=rt?ft:ft&&ft.withoutSetter||yt;$.exports=function(nt){if(!pt(lt,nt)||!(ct||typeof lt[nt]=="string")){var ot="Symbol."+nt;ct&&pt(ft,nt)?lt[nt]=ft[nt]:rt&&it?lt[nt]=it(ot):lt[nt]=at(ot)}return lt[nt]}},($,_e,et)=>{var tt=et(39),ut=et(40);($.exports=function(pt,yt){return ut[pt]||(ut[pt]=yt!==void 0?yt:{})})("versions",[]).push({version:"3.19.3",mode:tt?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},$=>{$.exports=!1},($,_e,et)=>{var tt=et(10),ut=et(41),pt="__core-js_shared__",yt=tt[pt]||ut(pt,{});$.exports=yt},($,_e,et)=>{var tt=et(10),ut=Object.defineProperty;$.exports=function(pt,yt){try{ut(tt,pt,{value:yt,configurable:!0,writable:!0})}catch{tt[pt]=yt}return yt}},($,_e,et)=>{var tt=et(19),ut=et(43),pt=tt({}.hasOwnProperty);$.exports=Object.hasOwn||function(ct,rt){return pt(ut(ct),rt)}},($,_e,et)=>{var tt=et(10),ut=et(21),pt=tt.Object;$.exports=function(yt){return pt(ut(yt))}},($,_e,et)=>{var tt=et(19),ut=0,pt=Math.random(),yt=tt(1 .toString);$.exports=function(ct){return"Symbol("+(ct===void 0?"":ct)+")_"+yt(++ut+pt,36)}},($,_e,et)=>{var tt=et(12),ut=et(13),pt=et(46);$.exports=!tt&&!ut(function(){return Object.defineProperty(pt("div"),"a",{get:function(){return 7}}).a!=7})},($,_e,et)=>{var tt=et(10),ut=et(24),pt=tt.document,yt=ut(pt)&&ut(pt.createElement);$.exports=function(ct){return yt?pt.createElement(ct):{}}},($,_e,et)=>{var tt=et(12),ut=et(48),pt=et(16);$.exports=tt?function(yt,ct,rt){return ut.f(yt,ct,pt(1,rt))}:function(yt,ct,rt){return yt[ct]=rt,yt}},($,_e,et)=>{var tt=et(10),ut=et(12),pt=et(45),yt=et(49),ct=et(22),rt=tt.TypeError,lt=Object.defineProperty;_e.f=ut?lt:function(it,at,nt){if(yt(it),at=ct(at),yt(nt),pt)try{return lt(it,at,nt)}catch{}if("get"in nt||"set"in nt)throw rt("Accessors not supported");return"value"in nt&&(it[at]=nt.value),it}},($,_e,et)=>{var tt=et(10),ut=et(24),pt=tt.String,yt=tt.TypeError;$.exports=function(ct){if(ut(ct))return ct;throw yt(pt(ct)+" is not an object")}},($,_e,et)=>{var tt=et(10),ut=et(25),pt=et(42),yt=et(47),ct=et(41),rt=et(51),lt=et(52),ft=et(56).CONFIGURABLE,it=lt.get,at=lt.enforce,nt=String(String).split("String");($.exports=function(ot,ht,st,dt){var vt=dt?!!dt.unsafe:!1,mt=dt?!!dt.enumerable:!1,gt=dt?!!dt.noTargetGet:!1,bt=dt&&dt.name!==void 0?dt.name:ht,_t;if(ut(st)&&(String(bt).slice(0,7)==="Symbol("&&(bt="["+String(bt).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!pt(st,"name")||ft&&st.name!==bt)&&yt(st,"name",bt),_t=at(st),_t.source||(_t.source=nt.join(typeof bt=="string"?bt:""))),ot===tt){mt?ot[ht]=st:ct(ht,st);return}else vt?!gt&&ot[ht]&&(mt=!0):delete ot[ht];mt?ot[ht]=st:yt(ot,ht,st)})(Function.prototype,"toString",function(){return ut(this)&&it(this).source||rt(this)})},($,_e,et)=>{var tt=et(19),ut=et(25),pt=et(40),yt=tt(Function.toString);ut(pt.inspectSource)||(pt.inspectSource=function(ct){return yt(ct)}),$.exports=pt.inspectSource},($,_e,et)=>{var tt=et(53),ut=et(10),pt=et(19),yt=et(24),ct=et(47),rt=et(42),lt=et(40),ft=et(54),it=et(55),at="Object already initialized",nt=ut.TypeError,ot=ut.WeakMap,ht,st,dt,vt=function(Tt){return dt(Tt)?st(Tt):ht(Tt,{})},mt=function(Tt){return function(Mt){var jt;if(!yt(Mt)||(jt=st(Mt)).type!==Tt)throw nt("Incompatible receiver, "+Tt+" required");return jt}};if(tt||lt.state){var gt=lt.state||(lt.state=new ot),bt=pt(gt.get),_t=pt(gt.has),Ct=pt(gt.set);ht=function(Tt,Mt){if(_t(gt,Tt))throw new nt(at);return Mt.facade=Tt,Ct(gt,Tt,Mt),Mt},st=function(Tt){return bt(gt,Tt)||{}},dt=function(Tt){return _t(gt,Tt)}}else{var xt=ft("state");it[xt]=!0,ht=function(Tt,Mt){if(rt(Tt,xt))throw new nt(at);return Mt.facade=Tt,ct(Tt,xt,Mt),Mt},st=function(Tt){return rt(Tt,xt)?Tt[xt]:{}},dt=function(Tt){return rt(Tt,xt)}}$.exports={set:ht,get:st,has:dt,enforce:vt,getterFor:mt}},($,_e,et)=>{var tt=et(10),ut=et(25),pt=et(51),yt=tt.WeakMap;$.exports=ut(yt)&&/native code/.test(pt(yt))},($,_e,et)=>{var tt=et(38),ut=et(44),pt=tt("keys");$.exports=function(yt){return pt[yt]||(pt[yt]=ut(yt))}},$=>{$.exports={}},($,_e,et)=>{var tt=et(12),ut=et(42),pt=Function.prototype,yt=tt&&Object.getOwnPropertyDescriptor,ct=ut(pt,"name"),rt=ct&&function(){}.name==="something",lt=ct&&(!tt||tt&&yt(pt,"name").configurable);$.exports={EXISTS:ct,PROPER:rt,CONFIGURABLE:lt}},($,_e,et)=>{var tt=et(42),ut=et(58),pt=et(11),yt=et(48);$.exports=function(ct,rt){for(var lt=ut(rt),ft=yt.f,it=pt.f,at=0;at<lt.length;at++){var nt=lt[at];tt(ct,nt)||ft(ct,nt,it(rt,nt))}}},($,_e,et)=>{var tt=et(27),ut=et(19),pt=et(59),yt=et(67),ct=et(49),rt=ut([].concat);$.exports=tt("Reflect","ownKeys")||function(ft){var it=pt.f(ct(ft)),at=yt.f;return at?rt(it,at(ft)):it}},($,_e,et)=>{var tt=et(60),ut=et(66),pt=ut.concat("length","prototype");_e.f=Object.getOwnPropertyNames||function(ct){return tt(ct,pt)}},($,_e,et)=>{var tt=et(19),ut=et(42),pt=et(17),yt=et(61).indexOf,ct=et(55),rt=tt([].push);$.exports=function(lt,ft){var it=pt(lt),at=0,nt=[],ot;for(ot in it)!ut(ct,ot)&&ut(it,ot)&&rt(nt,ot);for(;ft.length>at;)ut(it,ot=ft[at++])&&(~yt(nt,ot)||rt(nt,ot));return nt}},($,_e,et)=>{var tt=et(17),ut=et(62),pt=et(64),yt=function(ct){return function(rt,lt,ft){var it=tt(rt),at=pt(it),nt=ut(ft,at),ot;if(ct&&lt!=lt){for(;at>nt;)if(ot=it[nt++],ot!=ot)return!0}else for(;at>nt;nt++)if((ct||nt in it)&&it[nt]===lt)return ct||nt||0;return!ct&&-1}};$.exports={includes:yt(!0),indexOf:yt(!1)}},($,_e,et)=>{var tt=et(63),ut=Math.max,pt=Math.min;$.exports=function(yt,ct){var rt=tt(yt);return rt<0?ut(rt+ct,0):pt(rt,ct)}},$=>{var _e=Math.ceil,et=Math.floor;$.exports=function(tt){var ut=+tt;return ut!==ut||ut===0?0:(ut>0?et:_e)(ut)}},($,_e,et)=>{var tt=et(65);$.exports=function(ut){return tt(ut.length)}},($,_e,et)=>{var tt=et(63),ut=Math.min;$.exports=function(pt){return pt>0?ut(tt(pt),9007199254740991):0}},$=>{$.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},($,_e)=>{_e.f=Object.getOwnPropertySymbols},($,_e,et)=>{var tt=et(13),ut=et(25),pt=/#|\.prototype\./,yt=function(it,at){var nt=rt[ct(it)];return nt==ft?!0:nt==lt?!1:ut(at)?tt(at):!!at},ct=yt.normalize=function(it){return String(it).replace(pt,".").toLowerCase()},rt=yt.data={},lt=yt.NATIVE="N",ft=yt.POLYFILL="P";$.exports=yt},($,_e,et)=>{var tt,ut;function pt(yt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pt=function(rt){return typeof rt}:pt=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},pt(yt)}(function(yt,ct){pt(_e)==="object"?$.exports=ct():(tt=ct,ut=typeof tt=="function"?tt.call(_e,et,_e,$):tt,ut!==void 0&&($.exports=ut))})(void 0,function(){function yt(gt){var bt=new st,_t=Array.from(gt);if(!_t.every(function(lr){return!Number.isNaN(lr)}))throw TypeError('CSSMatrix: "'+gt+'" must only have numbers.');if(_t.length===16){var Ct=_t[0],xt=_t[1],Tt=_t[2],Mt=_t[3],jt=_t[4],Gt=_t[5],zt=_t[6],Xt=_t[7],Kt=_t[8],qt=_t[9],er=_t[10],Ut=_t[11],Ot=_t[12],Et=_t[13],wt=_t[14],Pt=_t[15];bt.m11=Ct,bt.a=Ct,bt.m21=jt,bt.c=jt,bt.m31=Kt,bt.m41=Ot,bt.e=Ot,bt.m12=xt,bt.b=xt,bt.m22=Gt,bt.d=Gt,bt.m32=qt,bt.m42=Et,bt.f=Et,bt.m13=Tt,bt.m23=zt,bt.m33=er,bt.m43=wt,bt.m14=Mt,bt.m24=Xt,bt.m34=Ut,bt.m44=Pt}else if(_t.length===6){var Lt=_t[0],Dt=_t[1],It=_t[2],Nt=_t[3],Jt=_t[4],sr=_t[5];bt.m11=Lt,bt.a=Lt,bt.m12=Dt,bt.b=Dt,bt.m21=It,bt.c=It,bt.m22=Nt,bt.d=Nt,bt.m41=Jt,bt.e=Jt,bt.m42=sr,bt.f=sr}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return bt}function ct(gt){var bt=Object.keys(new st);if(pt(gt)==="object"&&bt.every(function(_t){return _t in gt}))return yt([gt.m11,gt.m12,gt.m13,gt.m14,gt.m21,gt.m22,gt.m23,gt.m24,gt.m31,gt.m32,gt.m33,gt.m34,gt.m41,gt.m42,gt.m43,gt.m44]);throw TypeError('CSSMatrix: "'+gt+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function rt(gt){if(typeof gt!="string")throw TypeError('CSSMatrix: "'+gt+'" is not a string.');var bt=String(gt).replace(/\s/g,""),_t=new st,Ct='CSSMatrix: invalid transform string "'+gt+'"';return bt.split(")").filter(function(xt){return xt}).forEach(function(xt){var Tt=xt.split("("),Mt=Tt[0],jt=Tt[1];if(!jt)throw TypeError(Ct);var Gt=jt.split(",").map(function(Nt){return Nt.includes("rad")?parseFloat(Nt)*(180/Math.PI):parseFloat(Nt)}),zt=Gt[0],Xt=Gt[1],Kt=Gt[2],qt=Gt[3],er=[zt,Xt,Kt],Ut=[zt,Xt,Kt,qt];if(Mt==="perspective"&&zt&&[Xt,Kt].every(function(Nt){return Nt===void 0}))_t.m34=-1/zt;else if(Mt.includes("matrix")&&[6,16].includes(Gt.length)&&Gt.every(function(Nt){return!Number.isNaN(+Nt)})){var Ot=Gt.map(function(Nt){return Math.abs(Nt)<1e-6?0:Nt});_t=_t.multiply(yt(Ot))}else if(Mt==="translate3d"&&er.every(function(Nt){return!Number.isNaN(+Nt)}))_t=_t.translate(zt,Xt,Kt);else if(Mt==="translate"&&zt&&Kt===void 0)_t=_t.translate(zt,Xt||0,0);else if(Mt==="rotate3d"&&Ut.every(function(Nt){return!Number.isNaN(+Nt)})&&qt)_t=_t.rotateAxisAngle(zt,Xt,Kt,qt);else if(Mt==="rotate"&&zt&&[Xt,Kt].every(function(Nt){return Nt===void 0}))_t=_t.rotate(0,0,zt);else if(Mt==="scale3d"&&er.every(function(Nt){return!Number.isNaN(+Nt)})&&er.some(function(Nt){return Nt!==1}))_t=_t.scale(zt,Xt,Kt);else if(Mt==="scale"&&!Number.isNaN(zt)&&zt!==1&&Kt===void 0){var Et=Number.isNaN(+Xt),wt=Et?zt:Xt;_t=_t.scale(zt,wt,1)}else if(Mt==="skew"&&zt&&Kt===void 0)_t=_t.skewX(zt),_t=Xt?_t.skewY(Xt):_t;else if(/[XYZ]/.test(Mt)&&zt&&[Xt,Kt].every(function(Nt){return Nt===void 0})&&["translate","rotate","scale","skew"].some(function(Nt){return Mt.includes(Nt)}))if(["skewX","skewY"].includes(Mt))_t=_t[Mt](zt);else{var Pt=Mt.replace(/[XYZ]/,""),Lt=Mt.replace(Pt,""),Dt=["X","Y","Z"].indexOf(Lt),It=[Dt===0?zt:0,Dt===1?zt:0,Dt===2?zt:0];_t=_t[Pt].apply(_t,It)}else throw TypeError(Ct)}),_t}function lt(gt,bt,_t){var Ct=new st;return Ct.m41=gt,Ct.e=gt,Ct.m42=bt,Ct.f=bt,Ct.m43=_t,Ct}function ft(gt,bt,_t){var Ct=new st,xt=Math.PI/180,Tt=gt*xt,Mt=bt*xt,jt=_t*xt,Gt=Math.cos(Tt),zt=-Math.sin(Tt),Xt=Math.cos(Mt),Kt=-Math.sin(Mt),qt=Math.cos(jt),er=-Math.sin(jt),Ut=Xt*qt,Ot=-Xt*er;Ct.m11=Ut,Ct.a=Ut,Ct.m12=Ot,Ct.b=Ot,Ct.m13=Kt;var Et=zt*Kt*qt+Gt*er;Ct.m21=Et,Ct.c=Et;var wt=Gt*qt-zt*Kt*er;return Ct.m22=wt,Ct.d=wt,Ct.m23=-zt*Xt,Ct.m31=zt*er-Gt*Kt*qt,Ct.m32=zt*qt+Gt*Kt*er,Ct.m33=Gt*Xt,Ct}function it(gt,bt,_t,Ct){var xt=new st,Tt=Ct*(Math.PI/360),Mt=Math.sin(Tt),jt=Math.cos(Tt),Gt=Mt*Mt,zt=Math.sqrt(gt*gt+bt*bt+_t*_t),Xt=gt,Kt=bt,qt=_t;zt===0?(Xt=0,Kt=0,qt=1):(Xt/=zt,Kt/=zt,qt/=zt);var er=Xt*Xt,Ut=Kt*Kt,Ot=qt*qt,Et=1-2*(Ut+Ot)*Gt;xt.m11=Et,xt.a=Et;var wt=2*(Xt*Kt*Gt+qt*Mt*jt);xt.m12=wt,xt.b=wt,xt.m13=2*(Xt*qt*Gt-Kt*Mt*jt);var Pt=2*(Kt*Xt*Gt-qt*Mt*jt);xt.m21=Pt,xt.c=Pt;var Lt=1-2*(Ot+er)*Gt;return xt.m22=Lt,xt.d=Lt,xt.m23=2*(Kt*qt*Gt+Xt*Mt*jt),xt.m31=2*(qt*Xt*Gt+Kt*Mt*jt),xt.m32=2*(qt*Kt*Gt-Xt*Mt*jt),xt.m33=1-2*(er+Ut)*Gt,xt}function at(gt,bt,_t){var Ct=new st;return Ct.m11=gt,Ct.a=gt,Ct.m22=bt,Ct.d=bt,Ct.m33=_t,Ct}function nt(gt){var bt=new st,_t=gt*Math.PI/180,Ct=Math.tan(_t);return bt.m21=Ct,bt.c=Ct,bt}function ot(gt){var bt=new st,_t=gt*Math.PI/180,Ct=Math.tan(_t);return bt.m12=Ct,bt.b=Ct,bt}function ht(gt,bt){var _t=bt.m11*gt.m11+bt.m12*gt.m21+bt.m13*gt.m31+bt.m14*gt.m41,Ct=bt.m11*gt.m12+bt.m12*gt.m22+bt.m13*gt.m32+bt.m14*gt.m42,xt=bt.m11*gt.m13+bt.m12*gt.m23+bt.m13*gt.m33+bt.m14*gt.m43,Tt=bt.m11*gt.m14+bt.m12*gt.m24+bt.m13*gt.m34+bt.m14*gt.m44,Mt=bt.m21*gt.m11+bt.m22*gt.m21+bt.m23*gt.m31+bt.m24*gt.m41,jt=bt.m21*gt.m12+bt.m22*gt.m22+bt.m23*gt.m32+bt.m24*gt.m42,Gt=bt.m21*gt.m13+bt.m22*gt.m23+bt.m23*gt.m33+bt.m24*gt.m43,zt=bt.m21*gt.m14+bt.m22*gt.m24+bt.m23*gt.m34+bt.m24*gt.m44,Xt=bt.m31*gt.m11+bt.m32*gt.m21+bt.m33*gt.m31+bt.m34*gt.m41,Kt=bt.m31*gt.m12+bt.m32*gt.m22+bt.m33*gt.m32+bt.m34*gt.m42,qt=bt.m31*gt.m13+bt.m32*gt.m23+bt.m33*gt.m33+bt.m34*gt.m43,er=bt.m31*gt.m14+bt.m32*gt.m24+bt.m33*gt.m34+bt.m34*gt.m44,Ut=bt.m41*gt.m11+bt.m42*gt.m21+bt.m43*gt.m31+bt.m44*gt.m41,Ot=bt.m41*gt.m12+bt.m42*gt.m22+bt.m43*gt.m32+bt.m44*gt.m42,Et=bt.m41*gt.m13+bt.m42*gt.m23+bt.m43*gt.m33+bt.m44*gt.m43,wt=bt.m41*gt.m14+bt.m42*gt.m24+bt.m43*gt.m34+bt.m44*gt.m44;return yt([_t,Ct,xt,Tt,Mt,jt,Gt,zt,Xt,Kt,qt,er,Ut,Ot,Et,wt])}var st=function(){for(var bt=[],_t=arguments.length;_t--;)bt[_t]=arguments[_t];var Ct=this;if(Ct.a=1,Ct.b=0,Ct.c=0,Ct.d=1,Ct.e=0,Ct.f=0,Ct.m11=1,Ct.m12=0,Ct.m13=0,Ct.m14=0,Ct.m21=0,Ct.m22=1,Ct.m23=0,Ct.m24=0,Ct.m31=0,Ct.m32=0,Ct.m33=1,Ct.m34=0,Ct.m41=0,Ct.m42=0,Ct.m43=0,Ct.m44=1,bt&&bt.length){var xt=[16,6].some(function(Tt){return Tt===bt.length})?bt:bt[0];return Ct.setMatrixValue(xt)}return Ct},dt={isIdentity:{configurable:!0},is2D:{configurable:!0}};dt.isIdentity.set=function(gt){this.isIdentity=gt},dt.isIdentity.get=function(){var gt=this;return gt.m11===1&&gt.m12===0&&gt.m13===0&&gt.m14===0&&gt.m21===0&&gt.m22===1&&gt.m23===0&&gt.m24===0&&gt.m31===0&&gt.m32===0&&gt.m33===1&&gt.m34===0&&gt.m41===0&&gt.m42===0&&gt.m43===0&&gt.m44===1},dt.is2D.get=function(){var gt=this;return gt.m31===0&&gt.m32===0&&gt.m33===1&&gt.m34===0&&gt.m43===0&&gt.m44===1},dt.is2D.set=function(gt){this.is2D=gt},st.prototype.setMatrixValue=function(bt){var _t=this;return[Array,Float64Array,Float32Array].some(function(Ct){return bt instanceof Ct})?yt(bt):typeof bt=="string"&&bt.length&&bt!=="none"?rt(bt):pt(bt)==="object"?ct(bt):_t},st.prototype.toArray=function(){var bt=this,_t=Math.pow(10,6),Ct;return bt.is2D?Ct=[bt.a,bt.b,bt.c,bt.d,bt.e,bt.f]:Ct=[bt.m11,bt.m12,bt.m13,bt.m14,bt.m21,bt.m22,bt.m23,bt.m24,bt.m31,bt.m32,bt.m33,bt.m34,bt.m41,bt.m42,bt.m43,bt.m44],Ct.map(function(xt){return Math.abs(xt)<1e-6?0:(xt*_t>>0)/_t})},st.prototype.toString=function(){var bt=this,_t=bt.toArray(),Ct=bt.is2D?"matrix":"matrix3d";return Ct+"("+_t+")"},st.prototype.toJSON=function(){var bt=this,_t=bt.is2D,Ct=bt.isIdentity;return Object.assign({},bt,{is2D:_t,isIdentity:Ct})},st.prototype.multiply=function(bt){return ht(this,bt)},st.prototype.translate=function(bt,_t,Ct){var xt=bt,Tt=_t,Mt=Ct;return Mt===void 0&&(Mt=0),Tt===void 0&&(Tt=0),ht(this,lt(xt,Tt,Mt))},st.prototype.scale=function(bt,_t,Ct){var xt=bt,Tt=_t,Mt=Ct;return Tt===void 0&&(Tt=bt),Mt===void 0&&(Mt=1),ht(this,at(xt,Tt,Mt))},st.prototype.rotate=function(bt,_t,Ct){var xt=bt,Tt=_t,Mt=Ct;return Tt===void 0&&(Tt=0),Mt===void 0&&(Mt=xt,xt=0),ht(this,ft(xt,Tt,Mt))},st.prototype.rotateAxisAngle=function(bt,_t,Ct,xt){if([bt,_t,Ct,xt].some(function(Tt){return Number.isNaN(Tt)}))throw new TypeError("CSSMatrix: expecting 4 values");return ht(this,it(bt,_t,Ct,xt))},st.prototype.skewX=function(bt){return ht(this,nt(bt))},st.prototype.skewY=function(bt){return ht(this,ot(bt))},st.prototype.transformPoint=function(bt){var _t=this,Ct=lt(bt.x,bt.y,bt.z);return Ct.m44=bt.w||1,Ct=_t.multiply(Ct),{x:Ct.m41,y:Ct.m42,z:Ct.m43,w:Ct.m44}},st.prototype.transform=function(bt){var _t=this,Ct=_t.m11*bt.x+_t.m12*bt.y+_t.m13*bt.z+_t.m14*bt.w,xt=_t.m21*bt.x+_t.m22*bt.y+_t.m23*bt.z+_t.m24*bt.w,Tt=_t.m31*bt.x+_t.m32*bt.y+_t.m33*bt.z+_t.m34*bt.w,Mt=_t.m41*bt.x+_t.m42*bt.y+_t.m43*bt.z+_t.m44*bt.w;return{x:Ct/Mt,y:xt/Mt,z:Tt/Mt,w:Mt}},Object.defineProperties(st.prototype,dt),Object.assign(st,{Translate:lt,Rotate:ft,RotateAxisAngle:it,Scale:at,SkewX:nt,SkewY:ot,Multiply:ht,fromArray:yt,fromMatrix:ct,fromString:rt});var vt="0.0.24",mt=vt;return Object.assign(st,{Version:mt}),st})},($,_e,et)=>{et(71),et(86);var tt=et(96);$.exports=tt.Object.fromEntries},($,_e,et)=>{var tt=et(17),ut=et(72),pt=et(77),yt=et(52),ct=et(78),rt="Array Iterator",lt=yt.set,ft=yt.getterFor(rt);$.exports=ct(Array,"Array",function(it,at){lt(this,{type:rt,target:tt(it),index:0,kind:at})},function(){var it=ft(this),at=it.target,nt=it.kind,ot=it.index++;return!at||ot>=at.length?(it.target=void 0,{value:void 0,done:!0}):nt=="keys"?{value:ot,done:!1}:nt=="values"?{value:at[ot],done:!1}:{value:[ot,at[ot]],done:!1}},"values"),pt.Arguments=pt.Array,ut("keys"),ut("values"),ut("entries")},($,_e,et)=>{var tt=et(37),ut=et(73),pt=et(48),yt=tt("unscopables"),ct=Array.prototype;ct[yt]==null&&pt.f(ct,yt,{configurable:!0,value:ut(null)}),$.exports=function(rt){ct[yt][rt]=!0}},($,_e,et)=>{var tt=et(49),ut=et(74),pt=et(66),yt=et(55),ct=et(76),rt=et(46),lt=et(54),ft=">",it="<",at="prototype",nt="script",ot=lt("IE_PROTO"),ht=function(){},st=function(bt){return it+nt+ft+bt+it+"/"+nt+ft},dt=function(bt){bt.write(st("")),bt.close();var _t=bt.parentWindow.Object;return bt=null,_t},vt=function(){var bt=rt("iframe"),_t="java"+nt+":",Ct;return bt.style.display="none",ct.appendChild(bt),bt.src=String(_t),Ct=bt.contentWindow.document,Ct.open(),Ct.write(st("document.F=Object")),Ct.close(),Ct.F},mt,gt=function(){try{mt=new ActiveXObject("htmlfile")}catch{}gt=typeof document!="undefined"?document.domain&&mt?dt(mt):vt():dt(mt);for(var bt=pt.length;bt--;)delete gt[at][pt[bt]];return gt()};yt[ot]=!0,$.exports=Object.create||function(_t,Ct){var xt;return _t!==null?(ht[at]=tt(_t),xt=new ht,ht[at]=null,xt[ot]=_t):xt=gt(),Ct===void 0?xt:ut(xt,Ct)}},($,_e,et)=>{var tt=et(12),ut=et(48),pt=et(49),yt=et(17),ct=et(75);$.exports=tt?Object.defineProperties:function(lt,ft){pt(lt);for(var it=yt(ft),at=ct(ft),nt=at.length,ot=0,ht;nt>ot;)ut.f(lt,ht=at[ot++],it[ht]);return lt}},($,_e,et)=>{var tt=et(60),ut=et(66);$.exports=Object.keys||function(yt){return tt(yt,ut)}},($,_e,et)=>{var tt=et(27);$.exports=tt("document","documentElement")},$=>{$.exports={}},($,_e,et)=>{var tt=et(9),ut=et(14),pt=et(39),yt=et(56),ct=et(25),rt=et(79),lt=et(81),ft=et(84),it=et(83),at=et(47),nt=et(50),ot=et(37),ht=et(77),st=et(80),dt=yt.PROPER,vt=yt.CONFIGURABLE,mt=st.IteratorPrototype,gt=st.BUGGY_SAFARI_ITERATORS,bt=ot("iterator"),_t="keys",Ct="values",xt="entries",Tt=function(){return this};$.exports=function(Mt,jt,Gt,zt,Xt,Kt,qt){rt(Gt,jt,zt);var er=function(Jt){if(Jt===Xt&&Pt)return Pt;if(!gt&&Jt in Et)return Et[Jt];switch(Jt){case _t:return function(){return new Gt(this,Jt)};case Ct:return function(){return new Gt(this,Jt)};case xt:return function(){return new Gt(this,Jt)}}return function(){return new Gt(this)}},Ut=jt+" Iterator",Ot=!1,Et=Mt.prototype,wt=Et[bt]||Et["@@iterator"]||Xt&&Et[Xt],Pt=!gt&&wt||er(Xt),Lt=jt=="Array"&&Et.entries||wt,Dt,It,Nt;if(Lt&&(Dt=lt(Lt.call(new Mt)),Dt!==Object.prototype&&Dt.next&&(!pt&&lt(Dt)!==mt&&(ft?ft(Dt,mt):ct(Dt[bt])||nt(Dt,bt,Tt)),it(Dt,Ut,!0,!0),pt&&(ht[Ut]=Tt))),dt&&Xt==Ct&&wt&&wt.name!==Ct&&(!pt&&vt?at(Et,"name",Ct):(Ot=!0,Pt=function(){return ut(wt,this)})),Xt)if(It={values:er(Ct),keys:Kt?Pt:er(_t),entries:er(xt)},qt)for(Nt in It)(gt||Ot||!(Nt in Et))&&nt(Et,Nt,It[Nt]);else tt({target:jt,proto:!0,forced:gt||Ot},It);return(!pt||qt)&&Et[bt]!==Pt&&nt(Et,bt,Pt,{name:Xt}),ht[jt]=Pt,It}},($,_e,et)=>{var tt=et(80).IteratorPrototype,ut=et(73),pt=et(16),yt=et(83),ct=et(77),rt=function(){return this};$.exports=function(lt,ft,it,at){var nt=ft+" Iterator";return lt.prototype=ut(tt,{next:pt(+!at,it)}),yt(lt,nt,!1,!0),ct[nt]=rt,lt}},($,_e,et)=>{var tt=et(13),ut=et(25),pt=et(73),yt=et(81),ct=et(50),rt=et(37),lt=et(39),ft=rt("iterator"),it=!1,at,nt,ot;[].keys&&(ot=[].keys(),"next"in ot?(nt=yt(yt(ot)),nt!==Object.prototype&&(at=nt)):it=!0);var ht=at==null||tt(function(){var st={};return at[ft].call(st)!==st});ht?at={}:lt&&(at=pt(at)),ut(at[ft])||ct(at,ft,function(){return this}),$.exports={IteratorPrototype:at,BUGGY_SAFARI_ITERATORS:it}},($,_e,et)=>{var tt=et(10),ut=et(42),pt=et(25),yt=et(43),ct=et(54),rt=et(82),lt=ct("IE_PROTO"),ft=tt.Object,it=ft.prototype;$.exports=rt?ft.getPrototypeOf:function(at){var nt=yt(at);if(ut(nt,lt))return nt[lt];var ot=nt.constructor;return pt(ot)&&nt instanceof ot?ot.prototype:nt instanceof ft?it:null}},($,_e,et)=>{var tt=et(13);$.exports=!tt(function(){function ut(){}return ut.prototype.constructor=null,Object.getPrototypeOf(new ut)!==ut.prototype})},($,_e,et)=>{var tt=et(48).f,ut=et(42),pt=et(37),yt=pt("toStringTag");$.exports=function(ct,rt,lt){ct&&!ut(ct=lt?ct:ct.prototype,yt)&&tt(ct,yt,{configurable:!0,value:rt})}},($,_e,et)=>{var tt=et(19),ut=et(49),pt=et(85);$.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var yt=!1,ct={},rt;try{rt=tt(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),rt(ct,[]),yt=ct instanceof Array}catch{}return function(ft,it){return ut(ft),pt(it),yt?rt(ft,it):ft.__proto__=it,ft}}():void 0)},($,_e,et)=>{var tt=et(10),ut=et(25),pt=tt.String,yt=tt.TypeError;$.exports=function(ct){if(typeof ct=="object"||ut(ct))return ct;throw yt("Can't set "+pt(ct)+" as a prototype")}},($,_e,et)=>{var tt=et(9),ut=et(87),pt=et(95);tt({target:"Object",stat:!0},{fromEntries:function(ct){var rt={};return ut(ct,function(lt,ft){pt(rt,lt,ft)},{AS_ENTRIES:!0}),rt}})},($,_e,et)=>{var tt=et(10),ut=et(88),pt=et(14),yt=et(49),ct=et(35),rt=et(89),lt=et(64),ft=et(28),it=et(90),at=et(91),nt=et(94),ot=tt.TypeError,ht=function(dt,vt){this.stopped=dt,this.result=vt},st=ht.prototype;$.exports=function(dt,vt,mt){var gt=mt&&mt.that,bt=!!(mt&&mt.AS_ENTRIES),_t=!!(mt&&mt.IS_ITERATOR),Ct=!!(mt&&mt.INTERRUPTED),xt=ut(vt,gt),Tt,Mt,jt,Gt,zt,Xt,Kt,qt=function(Ut){return Tt&&nt(Tt,"normal",Ut),new ht(!0,Ut)},er=function(Ut){return bt?(yt(Ut),Ct?xt(Ut[0],Ut[1],qt):xt(Ut[0],Ut[1])):Ct?xt(Ut,qt):xt(Ut)};if(_t)Tt=dt;else{if(Mt=at(dt),!Mt)throw ot(ct(dt)+" is not iterable");if(rt(Mt)){for(jt=0,Gt=lt(dt);Gt>jt;jt++)if(zt=er(dt[jt]),zt&&ft(st,zt))return zt;return new ht(!1)}Tt=it(dt,Mt)}for(Xt=Tt.next;!(Kt=pt(Xt,Tt)).done;){try{zt=er(Kt.value)}catch(Ut){nt(Tt,"throw",Ut)}if(typeof zt=="object"&&zt&&ft(st,zt))return zt}return new ht(!1)}},($,_e,et)=>{var tt=et(19),ut=et(34),pt=tt(tt.bind);$.exports=function(yt,ct){return ut(yt),ct===void 0?yt:pt?pt(yt,ct):function(){return yt.apply(ct,arguments)}}},($,_e,et)=>{var tt=et(37),ut=et(77),pt=tt("iterator"),yt=Array.prototype;$.exports=function(ct){return ct!==void 0&&(ut.Array===ct||yt[pt]===ct)}},($,_e,et)=>{var tt=et(10),ut=et(14),pt=et(34),yt=et(49),ct=et(35),rt=et(91),lt=tt.TypeError;$.exports=function(ft,it){var at=arguments.length<2?rt(ft):it;if(pt(at))return yt(ut(at,ft));throw lt(ct(ft)+" is not iterable")}},($,_e,et)=>{var tt=et(92),ut=et(33),pt=et(77),yt=et(37),ct=yt("iterator");$.exports=function(rt){if(rt!=null)return ut(rt,ct)||ut(rt,"@@iterator")||pt[tt(rt)]}},($,_e,et)=>{var tt=et(10),ut=et(93),pt=et(25),yt=et(20),ct=et(37),rt=ct("toStringTag"),lt=tt.Object,ft=yt(function(){return arguments}())=="Arguments",it=function(at,nt){try{return at[nt]}catch{}};$.exports=ut?yt:function(at){var nt,ot,ht;return at===void 0?"Undefined":at===null?"Null":typeof(ot=it(nt=lt(at),rt))=="string"?ot:ft?yt(nt):(ht=yt(nt))=="Object"&&pt(nt.callee)?"Arguments":ht}},($,_e,et)=>{var tt=et(37),ut=tt("toStringTag"),pt={};pt[ut]="z",$.exports=String(pt)==="[object z]"},($,_e,et)=>{var tt=et(14),ut=et(49),pt=et(33);$.exports=function(yt,ct,rt){var lt,ft;ut(yt);try{if(lt=pt(yt,"return"),!lt){if(ct==="throw")throw rt;return rt}lt=tt(lt,yt)}catch(it){ft=!0,lt=it}if(ct==="throw")throw rt;if(ft)throw lt;return ut(lt),rt}},($,_e,et)=>{var tt=et(22),ut=et(48),pt=et(16);$.exports=function(yt,ct,rt){var lt=tt(ct);lt in yt?ut.f(yt,lt,pt(0,rt)):yt[lt]=rt}},($,_e,et)=>{var tt=et(10);$.exports=tt},($,_e,et)=>{et(98),et(71),et(105),et(107),et(129),et(130),et(131),et(132);var tt=et(96);$.exports=tt.Promise},($,_e,et)=>{var tt=et(9),ut=et(10),pt=et(28),yt=et(81),ct=et(84),rt=et(57),lt=et(73),ft=et(47),it=et(16),at=et(99),nt=et(101),ot=et(87),ht=et(102),st=et(37),dt=et(104),vt=st("toStringTag"),mt=ut.Error,gt=[].push,bt=function(xt,Tt){var Mt=arguments.length>2?arguments[2]:void 0,jt=pt(_t,this),Gt;ct?Gt=ct(new mt(void 0),jt?yt(this):_t):(Gt=jt?this:lt(_t),ft(Gt,vt,"Error")),ft(Gt,"message",ht(Tt,"")),dt&&ft(Gt,"stack",at(Gt.stack,1)),nt(Gt,Mt);var zt=[];return ot(xt,gt,{that:zt}),ft(Gt,"errors",zt),Gt};ct?ct(bt,mt):rt(bt,mt);var _t=bt.prototype=lt(mt.prototype,{constructor:it(1,bt),message:it(1,""),name:it(1,"AggregateError")});tt({global:!0},{AggregateError:bt})},($,_e,et)=>{var tt=et(19),ut=et(100),pt=tt("".replace),yt=tt("".split),ct=tt([].join),rt=function(at){return String(Error(at).stack)}("zxcasd"),lt=/\n\s*at [^:]*:[^\n]*/,ft=lt.test(rt),it=/@[^\n]*\n/.test(rt)&&!/zxcasd/.test(rt);$.exports=function(at,nt){if(typeof at!="string")return at;if(ft)for(;nt--;)at=pt(at,lt,"");else if(it)return ct(ut(yt(at,`
`),nt),`
`);return at}},($,_e,et)=>{var tt=et(10),ut=et(62),pt=et(64),yt=et(95),ct=tt.Array,rt=Math.max;$.exports=function(lt,ft,it){for(var at=pt(lt),nt=ut(ft,at),ot=ut(it===void 0?at:it,at),ht=ct(rt(ot-nt,0)),st=0;nt<ot;nt++,st++)yt(ht,st,lt[nt]);return ht.length=st,ht}},($,_e,et)=>{var tt=et(24),ut=et(47);$.exports=function(pt,yt){tt(yt)&&"cause"in yt&&ut(pt,"cause",yt.cause)}},($,_e,et)=>{var tt=et(103);$.exports=function(ut,pt){return ut===void 0?arguments.length<2?"":pt:tt(ut)}},($,_e,et)=>{var tt=et(10),ut=et(92),pt=tt.String;$.exports=function(yt){if(ut(yt)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return pt(yt)}},($,_e,et)=>{var tt=et(13),ut=et(16);$.exports=!tt(function(){var pt=Error("a");return"stack"in pt?(Object.defineProperty(pt,"stack",ut(1,7)),pt.stack!==7):!0})},($,_e,et)=>{var tt=et(93),ut=et(50),pt=et(106);tt||ut(Object.prototype,"toString",pt,{unsafe:!0})},($,_e,et)=>{var tt=et(93),ut=et(92);$.exports=tt?{}.toString:function(){return"[object "+ut(this)+"]"}},($,_e,et)=>{var tt=et(9),ut=et(39),pt=et(10),yt=et(27),ct=et(14),rt=et(108),lt=et(50),ft=et(109),it=et(84),at=et(83),nt=et(110),ot=et(34),ht=et(25),st=et(24),dt=et(111),vt=et(51),mt=et(87),gt=et(112),bt=et(113),_t=et(116).set,Ct=et(121),xt=et(124),Tt=et(126),Mt=et(125),jt=et(127),Gt=et(52),zt=et(68),Xt=et(37),Kt=et(128),qt=et(120),er=et(31),Ut=Xt("species"),Ot="Promise",Et=Gt.getterFor(Ot),wt=Gt.set,Pt=Gt.getterFor(Ot),Lt=rt&&rt.prototype,Dt=rt,It=Lt,Nt=pt.TypeError,Jt=pt.document,sr=pt.process,lr=Mt.f,Ht=lr,Bt=!!(Jt&&Jt.createEvent&&pt.dispatchEvent),Ft=ht(pt.PromiseRejectionEvent),At="unhandledrejection",Rt="rejectionhandled",$t=0,Wt=1,Vt=2,Zt=1,ir=2,vr=!1,cr,or,br,Cr,Ar=zt(Ot,function(){var rr=vt(Dt),yr=rr!==String(Dt);if(!yr&&er===66||ut&&!It.finally)return!0;if(er>=51&&/native code/.test(rr))return!1;var gr=new Dt(function(Ir){Ir(1)}),wr=function(Ir){Ir(function(){},function(){})},Er=gr.constructor={};return Er[Ut]=wr,vr=gr.then(function(){})instanceof wr,vr?!yr&&Kt&&!Ft:!0}),kr=Ar||!gt(function(rr){Dt.all(rr).catch(function(){})}),Or=function(rr){var yr;return st(rr)&&ht(yr=rr.then)?yr:!1},Lr=function(rr,yr){if(!rr.notified){rr.notified=!0;var gr=rr.reactions;Ct(function(){for(var wr=rr.value,Er=rr.state==Wt,Ir=0;gr.length>Ir;){var Dr=gr[Ir++],xr=Er?Dr.ok:Dr.fail,$r=Dr.resolve,Rr=Dr.reject,Fr=Dr.domain,Nr,jr,zr;try{xr?(Er||(rr.rejection===ir&&nr(rr),rr.rejection=Zt),xr===!0?Nr=wr:(Fr&&Fr.enter(),Nr=xr(wr),Fr&&(Fr.exit(),zr=!0)),Nr===Dr.promise?Rr(Nt("Promise-chain cycle")):(jr=Or(Nr))?ct(jr,Nr,$r,Rr):$r(Nr)):Rr(wr)}catch(Gr){Fr&&!zr&&Fr.exit(),Rr(Gr)}}rr.reactions=[],rr.notified=!1,yr&&!rr.rejection&&mr(rr)})}},dr=function(rr,yr,gr){var wr,Er;Bt?(wr=Jt.createEvent("Event"),wr.promise=yr,wr.reason=gr,wr.initEvent(rr,!1,!0),pt.dispatchEvent(wr)):wr={promise:yr,reason:gr},!Ft&&(Er=pt["on"+rr])?Er(wr):rr===At&&Tt("Unhandled promise rejection",gr)},mr=function(rr){ct(_t,pt,function(){var yr=rr.facade,gr=rr.value,wr=Qt(rr),Er;if(wr&&(Er=jt(function(){qt?sr.emit("unhandledRejection",gr,yr):dr(At,yr,gr)}),rr.rejection=qt||Qt(rr)?ir:Zt,Er.error))throw Er.value})},Qt=function(rr){return rr.rejection!==Zt&&!rr.parent},nr=function(rr){ct(_t,pt,function(){var yr=rr.facade;qt?sr.emit("rejectionHandled",yr):dr(Rt,yr,rr.value)})},tr=function(rr,yr,gr){return function(wr){rr(yr,wr,gr)}},fr=function(rr,yr,gr){rr.done||(rr.done=!0,gr&&(rr=gr),rr.value=yr,rr.state=Vt,Lr(rr,!0))},ar=function(rr,yr,gr){if(!rr.done){rr.done=!0,gr&&(rr=gr);try{if(rr.facade===yr)throw Nt("Promise can't be resolved itself");var wr=Or(yr);wr?Ct(function(){var Er={done:!1};try{ct(wr,yr,tr(ar,Er,rr),tr(fr,Er,rr))}catch(Ir){fr(Er,Ir,rr)}}):(rr.value=yr,rr.state=Wt,Lr(rr,!1))}catch(Er){fr({done:!1},Er,rr)}}};if(Ar&&(Dt=function(yr){dt(this,It),ot(yr),ct(cr,this);var gr=Et(this);try{yr(tr(ar,gr),tr(fr,gr))}catch(wr){fr(gr,wr)}},It=Dt.prototype,cr=function(yr){wt(this,{type:Ot,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:$t,value:void 0})},cr.prototype=ft(It,{then:function(yr,gr){var wr=Pt(this),Er=wr.reactions,Ir=lr(bt(this,Dt));return Ir.ok=ht(yr)?yr:!0,Ir.fail=ht(gr)&&gr,Ir.domain=qt?sr.domain:void 0,wr.parent=!0,Er[Er.length]=Ir,wr.state!=$t&&Lr(wr,!1),Ir.promise},catch:function(rr){return this.then(void 0,rr)}}),or=function(){var rr=new cr,yr=Et(rr);this.promise=rr,this.resolve=tr(ar,yr),this.reject=tr(fr,yr)},Mt.f=lr=function(rr){return rr===Dt||rr===br?new or(rr):Ht(rr)},!ut&&ht(rt)&&Lt!==Object.prototype)){Cr=Lt.then,vr||(lt(Lt,"then",function(yr,gr){var wr=this;return new Dt(function(Er,Ir){ct(Cr,wr,Er,Ir)}).then(yr,gr)},{unsafe:!0}),lt(Lt,"catch",It.catch,{unsafe:!0}));try{delete Lt.constructor}catch{}it&&it(Lt,It)}tt({global:!0,wrap:!0,forced:Ar},{Promise:Dt}),at(Dt,Ot,!1,!0),nt(Ot),br=yt(Ot),tt({target:Ot,stat:!0,forced:Ar},{reject:function(yr){var gr=lr(this);return ct(gr.reject,void 0,yr),gr.promise}}),tt({target:Ot,stat:!0,forced:ut||Ar},{resolve:function(yr){return xt(ut&&this===br?Dt:this,yr)}}),tt({target:Ot,stat:!0,forced:kr},{all:function(yr){var gr=this,wr=lr(gr),Er=wr.resolve,Ir=wr.reject,Dr=jt(function(){var xr=ot(gr.resolve),$r=[],Rr=0,Fr=1;mt(yr,function(Nr){var jr=Rr++,zr=!1;Fr++,ct(xr,gr,Nr).then(function(Gr){zr||(zr=!0,$r[jr]=Gr,--Fr||Er($r))},Ir)}),--Fr||Er($r)});return Dr.error&&Ir(Dr.value),wr.promise},race:function(yr){var gr=this,wr=lr(gr),Er=wr.reject,Ir=jt(function(){var Dr=ot(gr.resolve);mt(yr,function(xr){ct(Dr,gr,xr).then(wr.resolve,Er)})});return Ir.error&&Er(Ir.value),wr.promise}})},($,_e,et)=>{var tt=et(10);$.exports=tt.Promise},($,_e,et)=>{var tt=et(50);$.exports=function(ut,pt,yt){for(var ct in pt)tt(ut,ct,pt[ct],yt);return ut}},($,_e,et)=>{var tt=et(27),ut=et(48),pt=et(37),yt=et(12),ct=pt("species");$.exports=function(rt){var lt=tt(rt),ft=ut.f;yt&&lt&&!lt[ct]&&ft(lt,ct,{configurable:!0,get:function(){return this}})}},($,_e,et)=>{var tt=et(10),ut=et(28),pt=tt.TypeError;$.exports=function(yt,ct){if(ut(ct,yt))return yt;throw pt("Incorrect invocation")}},($,_e,et)=>{var tt=et(37),ut=tt("iterator"),pt=!1;try{var yt=0,ct={next:function(){return{done:!!yt++}},return:function(){pt=!0}};ct[ut]=function(){return this},Array.from(ct,function(){throw 2})}catch{}$.exports=function(rt,lt){if(!lt&&!pt)return!1;var ft=!1;try{var it={};it[ut]=function(){return{next:function(){return{done:ft=!0}}}},rt(it)}catch{}return ft}},($,_e,et)=>{var tt=et(49),ut=et(114),pt=et(37),yt=pt("species");$.exports=function(ct,rt){var lt=tt(ct).constructor,ft;return lt===void 0||(ft=tt(lt)[yt])==null?rt:ut(ft)}},($,_e,et)=>{var tt=et(10),ut=et(115),pt=et(35),yt=tt.TypeError;$.exports=function(ct){if(ut(ct))return ct;throw yt(pt(ct)+" is not a constructor")}},($,_e,et)=>{var tt=et(19),ut=et(13),pt=et(25),yt=et(92),ct=et(27),rt=et(51),lt=function(){},ft=[],it=ct("Reflect","construct"),at=/^\s*(?:class|function)\b/,nt=tt(at.exec),ot=!at.exec(lt),ht=function(dt){if(!pt(dt))return!1;try{return it(lt,ft,dt),!0}catch{return!1}},st=function(dt){if(!pt(dt))return!1;switch(yt(dt)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return ot||!!nt(at,rt(dt))};$.exports=!it||ut(function(){var dt;return ht(ht.call)||!ht(Object)||!ht(function(){dt=!0})||dt})?st:ht},($,_e,et)=>{var tt=et(10),ut=et(117),pt=et(88),yt=et(25),ct=et(42),rt=et(13),lt=et(76),ft=et(118),it=et(46),at=et(119),nt=et(120),ot=tt.setImmediate,ht=tt.clearImmediate,st=tt.process,dt=tt.Dispatch,vt=tt.Function,mt=tt.MessageChannel,gt=tt.String,bt=0,_t={},Ct="onreadystatechange",xt,Tt,Mt,jt;try{xt=tt.location}catch{}var Gt=function(qt){if(ct(_t,qt)){var er=_t[qt];delete _t[qt],er()}},zt=function(qt){return function(){Gt(qt)}},Xt=function(qt){Gt(qt.data)},Kt=function(qt){tt.postMessage(gt(qt),xt.protocol+"//"+xt.host)};(!ot||!ht)&&(ot=function(er){var Ut=ft(arguments,1);return _t[++bt]=function(){ut(yt(er)?er:vt(er),void 0,Ut)},Tt(bt),bt},ht=function(er){delete _t[er]},nt?Tt=function(qt){st.nextTick(zt(qt))}:dt&&dt.now?Tt=function(qt){dt.now(zt(qt))}:mt&&!at?(Mt=new mt,jt=Mt.port2,Mt.port1.onmessage=Xt,Tt=pt(jt.postMessage,jt)):tt.addEventListener&&yt(tt.postMessage)&&!tt.importScripts&&xt&&xt.protocol!=="file:"&&!rt(Kt)?(Tt=Kt,tt.addEventListener("message",Xt,!1)):Ct in it("script")?Tt=function(qt){lt.appendChild(it("script"))[Ct]=function(){lt.removeChild(this),Gt(qt)}}:Tt=function(qt){setTimeout(zt(qt),0)}),$.exports={set:ot,clear:ht}},$=>{var _e=Function.prototype,et=_e.apply,tt=_e.bind,ut=_e.call;$.exports=typeof Reflect=="object"&&Reflect.apply||(tt?ut.bind(et):function(){return ut.apply(et,arguments)})},($,_e,et)=>{var tt=et(19);$.exports=tt([].slice)},($,_e,et)=>{var tt=et(32);$.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(tt)},($,_e,et)=>{var tt=et(20),ut=et(10);$.exports=tt(ut.process)=="process"},($,_e,et)=>{var tt=et(10),ut=et(88),pt=et(11).f,yt=et(116).set,ct=et(119),rt=et(122),lt=et(123),ft=et(120),it=tt.MutationObserver||tt.WebKitMutationObserver,at=tt.document,nt=tt.process,ot=tt.Promise,ht=pt(tt,"queueMicrotask"),st=ht&&ht.value,dt,vt,mt,gt,bt,_t,Ct,xt;st||(dt=function(){var Tt,Mt;for(ft&&(Tt=nt.domain)&&Tt.exit();vt;){Mt=vt.fn,vt=vt.next;try{Mt()}catch(jt){throw vt?gt():mt=void 0,jt}}mt=void 0,Tt&&Tt.enter()},!ct&&!ft&&!lt&&it&&at?(bt=!0,_t=at.createTextNode(""),new it(dt).observe(_t,{characterData:!0}),gt=function(){_t.data=bt=!bt}):!rt&&ot&&ot.resolve?(Ct=ot.resolve(void 0),Ct.constructor=ot,xt=ut(Ct.then,Ct),gt=function(){xt(dt)}):ft?gt=function(){nt.nextTick(dt)}:(yt=ut(yt,tt),gt=function(){yt(dt)})),$.exports=st||function(Tt){var Mt={fn:Tt,next:void 0};mt&&(mt.next=Mt),vt||(vt=Mt,gt()),mt=Mt}},($,_e,et)=>{var tt=et(32),ut=et(10);$.exports=/ipad|iphone|ipod/i.test(tt)&&ut.Pebble!==void 0},($,_e,et)=>{var tt=et(32);$.exports=/web0s(?!.*chrome)/i.test(tt)},($,_e,et)=>{var tt=et(49),ut=et(24),pt=et(125);$.exports=function(yt,ct){if(tt(yt),ut(ct)&&ct.constructor===yt)return ct;var rt=pt.f(yt),lt=rt.resolve;return lt(ct),rt.promise}},($,_e,et)=>{var tt=et(34),ut=function(pt){var yt,ct;this.promise=new pt(function(rt,lt){if(yt!==void 0||ct!==void 0)throw TypeError("Bad Promise constructor");yt=rt,ct=lt}),this.resolve=tt(yt),this.reject=tt(ct)};$.exports.f=function(pt){return new ut(pt)}},($,_e,et)=>{var tt=et(10);$.exports=function(ut,pt){var yt=tt.console;yt&&yt.error&&(arguments.length==1?yt.error(ut):yt.error(ut,pt))}},$=>{$.exports=function(_e){try{return{error:!1,value:_e()}}catch(et){return{error:!0,value:et}}}},$=>{$.exports=typeof window=="object"},($,_e,et)=>{var tt=et(9),ut=et(14),pt=et(34),yt=et(125),ct=et(127),rt=et(87);tt({target:"Promise",stat:!0},{allSettled:function(ft){var it=this,at=yt.f(it),nt=at.resolve,ot=at.reject,ht=ct(function(){var st=pt(it.resolve),dt=[],vt=0,mt=1;rt(ft,function(gt){var bt=vt++,_t=!1;mt++,ut(st,it,gt).then(function(Ct){_t||(_t=!0,dt[bt]={status:"fulfilled",value:Ct},--mt||nt(dt))},function(Ct){_t||(_t=!0,dt[bt]={status:"rejected",reason:Ct},--mt||nt(dt))})}),--mt||nt(dt)});return ht.error&&ot(ht.value),at.promise}})},($,_e,et)=>{var tt=et(9),ut=et(34),pt=et(27),yt=et(14),ct=et(125),rt=et(127),lt=et(87),ft="No one promise resolved";tt({target:"Promise",stat:!0},{any:function(at){var nt=this,ot=pt("AggregateError"),ht=ct.f(nt),st=ht.resolve,dt=ht.reject,vt=rt(function(){var mt=ut(nt.resolve),gt=[],bt=0,_t=1,Ct=!1;lt(at,function(xt){var Tt=bt++,Mt=!1;_t++,yt(mt,nt,xt).then(function(jt){Mt||Ct||(Ct=!0,st(jt))},function(jt){Mt||Ct||(Mt=!0,gt[Tt]=jt,--_t||dt(new ot(gt,ft)))})}),--_t||dt(new ot(gt,ft))});return vt.error&&dt(vt.value),ht.promise}})},($,_e,et)=>{var tt=et(9),ut=et(39),pt=et(108),yt=et(13),ct=et(27),rt=et(25),lt=et(113),ft=et(124),it=et(50),at=!!pt&&yt(function(){pt.prototype.finally.call({then:function(){}},function(){})});if(tt({target:"Promise",proto:!0,real:!0,forced:at},{finally:function(ot){var ht=lt(this,ct("Promise")),st=rt(ot);return this.then(st?function(dt){return ft(ht,ot()).then(function(){return dt})}:ot,st?function(dt){return ft(ht,ot()).then(function(){throw dt})}:ot)}}),!ut&&rt(pt)){var nt=ct("Promise").prototype.finally;pt.prototype.finally!==nt&&it(pt.prototype,"finally",nt,{unsafe:!0})}},($,_e,et)=>{var tt=et(133).charAt,ut=et(103),pt=et(52),yt=et(78),ct="String Iterator",rt=pt.set,lt=pt.getterFor(ct);yt(String,"String",function(ft){rt(this,{type:ct,string:ut(ft),index:0})},function(){var it=lt(this),at=it.string,nt=it.index,ot;return nt>=at.length?{value:void 0,done:!0}:(ot=tt(at,nt),it.index+=ot.length,{value:ot,done:!1})})},($,_e,et)=>{var tt=et(19),ut=et(63),pt=et(103),yt=et(21),ct=tt("".charAt),rt=tt("".charCodeAt),lt=tt("".slice),ft=function(it){return function(at,nt){var ot=pt(yt(at)),ht=ut(nt),st=ot.length,dt,vt;return ht<0||ht>=st?it?"":void 0:(dt=rt(ot,ht),dt<55296||dt>56319||ht+1===st||(vt=rt(ot,ht+1))<56320||vt>57343?it?ct(ot,ht):dt:it?lt(ot,ht,ht+2):(dt-55296<<10)+(vt-56320)+65536)}};$.exports={codeAt:ft(!1),charAt:ft(!0)}},function($,_e){(function(et,tt){tt(_e)})(this,function(et){var tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(St){return"Symbol("+St+")"};function ut(){}function pt(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal}var yt=pt();function ct(St){return typeof St=="object"&&St!==null||typeof St=="function"}var rt=ut,lt=Promise,ft=Promise.prototype.then,it=Promise.resolve.bind(lt),at=Promise.reject.bind(lt);function nt(St){return new lt(St)}function ot(St){return it(St)}function ht(St){return at(St)}function st(St,kt,Yt){return ft.call(St,kt,Yt)}function dt(St,kt,Yt){st(st(St,kt,Yt),void 0,rt)}function vt(St,kt){dt(St,kt)}function mt(St,kt){dt(St,void 0,kt)}function gt(St,kt,Yt){return st(St,kt,Yt)}function bt(St){st(St,void 0,rt)}var _t=function(){var St=yt&&yt.queueMicrotask;if(typeof St=="function")return St;var kt=ot(void 0);return function(Yt){return st(kt,Yt)}}();function Ct(St,kt,Yt){if(typeof St!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(St,kt,Yt)}function xt(St,kt,Yt){try{return ot(Ct(St,kt,Yt))}catch(ur){return ht(ur)}}var Tt=16384,Mt=function(){function St(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(St.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),St.prototype.push=function(kt){var Yt=this._back,ur=Yt;Yt._elements.length===Tt-1&&(ur={_elements:[],_next:void 0}),Yt._elements.push(kt),ur!==Yt&&(this._back=ur,Yt._next=ur),++this._size},St.prototype.shift=function(){var kt=this._front,Yt=kt,ur=this._cursor,_r=ur+1,Pr=kt._elements,Mr=Pr[ur];return _r===Tt&&(Yt=kt._next,_r=0),--this._size,this._cursor=_r,kt!==Yt&&(this._front=Yt),Pr[ur]=void 0,Mr},St.prototype.forEach=function(kt){for(var Yt=this._cursor,ur=this._front,_r=ur._elements;(Yt!==_r.length||ur._next!==void 0)&&!(Yt===_r.length&&(ur=ur._next,_r=ur._elements,Yt=0,_r.length===0));)kt(_r[Yt]),++Yt},St.prototype.peek=function(){var kt=this._front,Yt=this._cursor;return kt._elements[Yt]},St}();function jt(St,kt){St._ownerReadableStream=kt,kt._reader=St,kt._state==="readable"?Kt(St):kt._state==="closed"?er(St):qt(St,kt._storedError)}function Gt(St,kt){var Yt=St._ownerReadableStream;return Tn(Yt,kt)}function zt(St){St._ownerReadableStream._state==="readable"?Ut(St,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Ot(St,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),St._ownerReadableStream._reader=void 0,St._ownerReadableStream=void 0}function Xt(St){return new TypeError("Cannot "+St+" a stream using a released reader")}function Kt(St){St._closedPromise=nt(function(kt,Yt){St._closedPromise_resolve=kt,St._closedPromise_reject=Yt})}function qt(St,kt){Kt(St),Ut(St,kt)}function er(St){Kt(St),Et(St)}function Ut(St,kt){St._closedPromise_reject!==void 0&&(bt(St._closedPromise),St._closedPromise_reject(kt),St._closedPromise_resolve=void 0,St._closedPromise_reject=void 0)}function Ot(St,kt){qt(St,kt)}function Et(St){St._closedPromise_resolve!==void 0&&(St._closedPromise_resolve(void 0),St._closedPromise_resolve=void 0,St._closedPromise_reject=void 0)}var wt=tt("[[AbortSteps]]"),Pt=tt("[[ErrorSteps]]"),Lt=tt("[[CancelSteps]]"),Dt=tt("[[PullSteps]]"),It=Number.isFinite||function(St){return typeof St=="number"&&isFinite(St)},Nt=Math.trunc||function(St){return St<0?Math.ceil(St):Math.floor(St)};function Jt(St){return typeof St=="object"||typeof St=="function"}function sr(St,kt){if(St!==void 0&&!Jt(St))throw new TypeError(kt+" is not an object.")}function lr(St,kt){if(typeof St!="function")throw new TypeError(kt+" is not a function.")}function Ht(St){return typeof St=="object"&&St!==null||typeof St=="function"}function Bt(St,kt){if(!Ht(St))throw new TypeError(kt+" is not an object.")}function Ft(St,kt,Yt){if(St===void 0)throw new TypeError("Parameter "+kt+" is required in '"+Yt+"'.")}function At(St,kt,Yt){if(St===void 0)throw new TypeError(kt+" is required in '"+Yt+"'.")}function Rt(St){return Number(St)}function $t(St){return St===0?0:St}function Wt(St){return $t(Nt(St))}function Vt(St,kt){var Yt=0,ur=Number.MAX_SAFE_INTEGER,_r=Number(St);if(_r=$t(_r),!It(_r))throw new TypeError(kt+" is not a finite number");if(_r=Wt(_r),_r<Yt||_r>ur)throw new TypeError(kt+" is outside the accepted range of "+Yt+" to "+ur+", inclusive");return!It(_r)||_r===0?0:_r}function Zt(St,kt){if(!Hn(St))throw new TypeError(kt+" is not a ReadableStream.")}function ir(St){return new Cr(St)}function vr(St,kt){St._reader._readRequests.push(kt)}function cr(St,kt,Yt){var ur=St._reader,_r=ur._readRequests.shift();Yt?_r._closeSteps():_r._chunkSteps(kt)}function or(St){return St._reader._readRequests.length}function br(St){var kt=St._reader;return!(kt===void 0||!Ar(kt))}var Cr=function(){function St(kt){if(Ft(kt,1,"ReadableStreamDefaultReader"),Zt(kt,"First parameter"),Vn(kt))throw new TypeError("This stream has already been locked for exclusive reading by another reader");jt(this,kt),this._readRequests=new Mt}return Object.defineProperty(St.prototype,"closed",{get:function(){return Ar(this)?this._closedPromise:ht(Or("closed"))},enumerable:!1,configurable:!0}),St.prototype.cancel=function(kt){return kt===void 0&&(kt=void 0),Ar(this)?this._ownerReadableStream===void 0?ht(Xt("cancel")):Gt(this,kt):ht(Or("cancel"))},St.prototype.read=function(){if(!Ar(this))return ht(Or("read"));if(this._ownerReadableStream===void 0)return ht(Xt("read from"));var kt,Yt,ur=nt(function(Pr,Mr){kt=Pr,Yt=Mr}),_r={_chunkSteps:function(Pr){return kt({value:Pr,done:!1})},_closeSteps:function(){return kt({value:void 0,done:!0})},_errorSteps:function(Pr){return Yt(Pr)}};return kr(this,_r),ur},St.prototype.releaseLock=function(){if(!Ar(this))throw Or("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");zt(this)}},St}();Object.defineProperties(Cr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty(Cr.prototype,tt.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ar(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_readRequests")?!1:St instanceof Cr}function kr(St,kt){var Yt=St._ownerReadableStream;Yt._disturbed=!0,Yt._state==="closed"?kt._closeSteps():Yt._state==="errored"?kt._errorSteps(Yt._storedError):Yt._readableStreamController[Dt](kt)}function Or(St){return new TypeError("ReadableStreamDefaultReader.prototype."+St+" can only be used on a ReadableStreamDefaultReader")}var Lr,dr;typeof tt.asyncIterator=="symbol"&&(dr=(Lr={},Lr[tt.asyncIterator]=function(){return this},Lr),Object.defineProperty(dr,tt.asyncIterator,{enumerable:!1}));var mr=function(){function St(kt,Yt){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=kt,this._preventCancel=Yt}return St.prototype.next=function(){var kt=this,Yt=function(){return kt._nextSteps()};return this._ongoingPromise=this._ongoingPromise?gt(this._ongoingPromise,Yt,Yt):Yt(),this._ongoingPromise},St.prototype.return=function(kt){var Yt=this,ur=function(){return Yt._returnSteps(kt)};return this._ongoingPromise?gt(this._ongoingPromise,ur,ur):ur()},St.prototype._nextSteps=function(){var kt=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var Yt=this._reader;if(Yt._ownerReadableStream===void 0)return ht(Xt("iterate"));var ur,_r,Pr=nt(function(Ur,Xr){ur=Ur,_r=Xr}),Mr={_chunkSteps:function(Ur){kt._ongoingPromise=void 0,_t(function(){return ur({value:Ur,done:!1})})},_closeSteps:function(){kt._ongoingPromise=void 0,kt._isFinished=!0,zt(Yt),ur({value:void 0,done:!0})},_errorSteps:function(Ur){kt._ongoingPromise=void 0,kt._isFinished=!0,zt(Yt),_r(Ur)}};return kr(Yt,Mr),Pr},St.prototype._returnSteps=function(kt){if(this._isFinished)return Promise.resolve({value:kt,done:!0});this._isFinished=!0;var Yt=this._reader;if(Yt._ownerReadableStream===void 0)return ht(Xt("finish iterating"));if(!this._preventCancel){var ur=Gt(Yt,kt);return zt(Yt),gt(ur,function(){return{value:kt,done:!0}})}return zt(Yt),ot({value:kt,done:!0})},St}(),Qt={next:function(){return tr(this)?this._asyncIteratorImpl.next():ht(fr("next"))},return:function(St){return tr(this)?this._asyncIteratorImpl.return(St):ht(fr("return"))}};dr!==void 0&&Object.setPrototypeOf(Qt,dr);function nr(St,kt){var Yt=ir(St),ur=new mr(Yt,kt),_r=Object.create(Qt);return _r._asyncIteratorImpl=ur,_r}function tr(St){if(!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_asyncIteratorImpl"))return!1;try{return St._asyncIteratorImpl instanceof mr}catch{return!1}}function fr(St){return new TypeError("ReadableStreamAsyncIterator."+St+" can only be used on a ReadableSteamAsyncIterator")}var ar=Number.isNaN||function(St){return St!==St};function rr(St){return St.slice()}function yr(St,kt,Yt,ur,_r){new Uint8Array(St).set(new Uint8Array(Yt,ur,_r),kt)}function gr(St){return St}function wr(St){return!1}function Er(St,kt,Yt){if(St.slice)return St.slice(kt,Yt);var ur=Yt-kt,_r=new ArrayBuffer(ur);return yr(_r,0,St,kt,ur),_r}function Ir(St){return!(typeof St!="number"||ar(St)||St<0)}function Dr(St){var kt=Er(St.buffer,St.byteOffset,St.byteOffset+St.byteLength);return new Uint8Array(kt)}function xr(St){var kt=St._queue.shift();return St._queueTotalSize-=kt.size,St._queueTotalSize<0&&(St._queueTotalSize=0),kt.value}function $r(St,kt,Yt){if(!Ir(Yt)||Yt===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");St._queue.push({value:kt,size:Yt}),St._queueTotalSize+=Yt}function Rr(St){var kt=St._queue.peek();return kt.value}function Fr(St){St._queue=new Mt,St._queueTotalSize=0}var Nr=function(){function St(){throw new TypeError("Illegal constructor")}return Object.defineProperty(St.prototype,"view",{get:function(){if(!Gr(this))throw $n("view");return this._view},enumerable:!1,configurable:!0}),St.prototype.respond=function(kt){if(!Gr(this))throw $n("respond");if(Ft(kt,1,"respond"),kt=Vt(kt,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");wr(this._view.buffer),dn(this._associatedReadableByteStreamController,kt)},St.prototype.respondWithNewView=function(kt){if(!Gr(this))throw $n("respondWithNewView");if(Ft(kt,1,"respondWithNewView"),!ArrayBuffer.isView(kt))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");wr(kt.buffer),_n(this._associatedReadableByteStreamController,kt)},St}();Object.defineProperties(Nr.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty(Nr.prototype,tt.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var jr=function(){function St(){throw new TypeError("Illegal constructor")}return Object.defineProperty(St.prototype,"byobRequest",{get:function(){if(!zr(this))throw cn("byobRequest");return Yr(this)},enumerable:!1,configurable:!0}),Object.defineProperty(St.prototype,"desiredSize",{get:function(){if(!zr(this))throw cn("desiredSize");return ln(this)},enumerable:!1,configurable:!0}),St.prototype.close=function(){if(!zr(this))throw cn("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var kt=this._controlledReadableByteStream._state;if(kt!=="readable")throw new TypeError("The stream (in "+kt+" state) is not in the readable state and cannot be closed");Br(this)},St.prototype.enqueue=function(kt){if(!zr(this))throw cn("enqueue");if(Ft(kt,1,"enqueue"),!ArrayBuffer.isView(kt))throw new TypeError("chunk must be an array buffer view");if(kt.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(kt.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var Yt=this._controlledReadableByteStream._state;if(Yt!=="readable")throw new TypeError("The stream (in "+Yt+" state) is not in the readable state and cannot be enqueued to");Wr(this,kt)},St.prototype.error=function(kt){if(kt===void 0&&(kt=void 0),!zr(this))throw cn("error");Hr(this,kt)},St.prototype[Lt]=function(kt){sn(this),Fr(this);var Yt=this._cancelAlgorithm(kt);return Sr(this),Yt},St.prototype[Dt]=function(kt){var Yt=this._controlledReadableByteStream;if(this._queueTotalSize>0){var ur=this._queue.shift();this._queueTotalSize-=ur.byteLength,jn(this);var _r=new Uint8Array(ur.buffer,ur.byteOffset,ur.byteLength);kt._chunkSteps(_r);return}var Pr=this._autoAllocateChunkSize;if(Pr!==void 0){var Mr=void 0;try{Mr=new ArrayBuffer(Pr)}catch(Xr){kt._errorSteps(Xr);return}var Ur={buffer:Mr,bufferByteLength:Pr,byteOffset:0,byteLength:Pr,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Ur)}vr(Yt,kt),qr(this)},St}();Object.defineProperties(jr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty(jr.prototype,tt.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function zr(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_controlledReadableByteStream")?!1:St instanceof jr}function Gr(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_associatedReadableByteStreamController")?!1:St instanceof Nr}function qr(St){var kt=hr(St);if(!!kt){if(St._pulling){St._pullAgain=!0;return}St._pulling=!0;var Yt=St._pullAlgorithm();dt(Yt,function(){St._pulling=!1,St._pullAgain&&(St._pullAgain=!1,qr(St))},function(ur){Hr(St,ur)})}}function sn(St){Nn(St),St._pendingPullIntos=new Mt}function hn(St,kt){var Yt=!1;St._state==="closed"&&(Yt=!0);var ur=wn(kt);kt.readerType==="default"?cr(St,ur,Yt):no(St,ur,Yt)}function wn(St){var kt=St.bytesFilled,Yt=St.elementSize;return new St.viewConstructor(St.buffer,St.byteOffset,kt/Yt)}function Sn(St,kt,Yt,ur){St._queue.push({buffer:kt,byteOffset:Yt,byteLength:ur}),St._queueTotalSize+=ur}function In(St,kt){var Yt=kt.elementSize,ur=kt.bytesFilled-kt.bytesFilled%Yt,_r=Math.min(St._queueTotalSize,kt.byteLength-kt.bytesFilled),Pr=kt.bytesFilled+_r,Mr=Pr-Pr%Yt,Ur=_r,Xr=!1;Mr>ur&&(Ur=Mr-kt.bytesFilled,Xr=!0);for(var Kr=St._queue;Ur>0;){var Qr=Kr.peek(),Jr=Math.min(Ur,Qr.byteLength),mn=kt.byteOffset+kt.bytesFilled;yr(kt.buffer,mn,Qr.buffer,Qr.byteOffset,Jr),Qr.byteLength===Jr?Kr.shift():(Qr.byteOffset+=Jr,Qr.byteLength-=Jr),St._queueTotalSize-=Jr,_i(St,Jr,kt),Ur-=Jr}return Xr}function _i(St,kt,Yt){Yt.bytesFilled+=kt}function jn(St){St._queueTotalSize===0&&St._closeRequested?(Sr(St),co(St._controlledReadableByteStream)):qr(St)}function Nn(St){St._byobRequest!==null&&(St._byobRequest._associatedReadableByteStreamController=void 0,St._byobRequest._view=null,St._byobRequest=null)}function Bn(St){for(;St._pendingPullIntos.length>0;){if(St._queueTotalSize===0)return;var kt=St._pendingPullIntos.peek();In(St,kt)&&(Tr(St),hn(St._controlledReadableByteStream,kt))}}function na(St,kt,Yt){var ur=St._controlledReadableByteStream,_r=1;kt.constructor!==DataView&&(_r=kt.constructor.BYTES_PER_ELEMENT);var Pr=kt.constructor,Mr=kt.buffer,Ur={buffer:Mr,bufferByteLength:Mr.byteLength,byteOffset:kt.byteOffset,byteLength:kt.byteLength,bytesFilled:0,elementSize:_r,viewConstructor:Pr,readerType:"byob"};if(St._pendingPullIntos.length>0){St._pendingPullIntos.push(Ur),Kn(ur,Yt);return}if(ur._state==="closed"){var Xr=new Pr(Ur.buffer,Ur.byteOffset,0);Yt._closeSteps(Xr);return}if(St._queueTotalSize>0){if(In(St,Ur)){var Kr=wn(Ur);jn(St),Yt._chunkSteps(Kr);return}if(St._closeRequested){var Qr=new TypeError("Insufficient bytes to fill elements in the given buffer");Hr(St,Qr),Yt._errorSteps(Qr);return}}St._pendingPullIntos.push(Ur),Kn(ur,Yt),qr(St)}function Pn(St,kt){var Yt=St._controlledReadableByteStream;if(qn(Yt))for(;ga(Yt)>0;){var ur=Tr(St);hn(Yt,ur)}}function Dn(St,kt,Yt){if(_i(St,kt,Yt),!(Yt.bytesFilled<Yt.elementSize)){Tr(St);var ur=Yt.bytesFilled%Yt.elementSize;if(ur>0){var _r=Yt.byteOffset+Yt.bytesFilled,Pr=Er(Yt.buffer,_r-ur,_r);Sn(St,Pr,0,Pr.byteLength)}Yt.bytesFilled-=ur,hn(St._controlledReadableByteStream,Yt),Bn(St)}}function pr(St,kt){var Yt=St._pendingPullIntos.peek();Nn(St);var ur=St._controlledReadableByteStream._state;ur==="closed"?Pn(St):Dn(St,kt,Yt),qr(St)}function Tr(St){var kt=St._pendingPullIntos.shift();return kt}function hr(St){var kt=St._controlledReadableByteStream;if(kt._state!=="readable"||St._closeRequested||!St._started)return!1;if(br(kt)&&or(kt)>0||qn(kt)&&ga(kt)>0)return!0;var Yt=ln(St);return Yt>0}function Sr(St){St._pullAlgorithm=void 0,St._cancelAlgorithm=void 0}function Br(St){var kt=St._controlledReadableByteStream;if(!(St._closeRequested||kt._state!=="readable")){if(St._queueTotalSize>0){St._closeRequested=!0;return}if(St._pendingPullIntos.length>0){var Yt=St._pendingPullIntos.peek();if(Yt.bytesFilled>0){var ur=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Hr(St,ur),ur}}Sr(St),co(kt)}}function Wr(St,kt){var Yt=St._controlledReadableByteStream;if(!(St._closeRequested||Yt._state!=="readable")){var ur=kt.buffer,_r=kt.byteOffset,Pr=kt.byteLength,Mr=ur;if(St._pendingPullIntos.length>0){var Ur=St._pendingPullIntos.peek();wr(Ur.buffer),Ur.buffer=Ur.buffer}if(Nn(St),br(Yt))if(or(Yt)===0)Sn(St,Mr,_r,Pr);else{St._pendingPullIntos.length>0&&Tr(St);var Xr=new Uint8Array(Mr,_r,Pr);cr(Yt,Xr,!1)}else qn(Yt)?(Sn(St,Mr,_r,Pr),Bn(St)):Sn(St,Mr,_r,Pr);qr(St)}}function Hr(St,kt){var Yt=St._controlledReadableByteStream;Yt._state==="readable"&&(sn(St),Fr(St),Sr(St),Ss(Yt,kt))}function Yr(St){if(St._byobRequest===null&&St._pendingPullIntos.length>0){var kt=St._pendingPullIntos.peek(),Yt=new Uint8Array(kt.buffer,kt.byteOffset+kt.bytesFilled,kt.byteLength-kt.bytesFilled),ur=Object.create(Nr.prototype);xn(ur,St,Yt),St._byobRequest=ur}return St._byobRequest}function ln(St){var kt=St._controlledReadableByteStream._state;return kt==="errored"?null:kt==="closed"?0:St._strategyHWM-St._queueTotalSize}function dn(St,kt){var Yt=St._pendingPullIntos.peek(),ur=St._controlledReadableByteStream._state;if(ur==="closed"){if(kt!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(kt===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(Yt.bytesFilled+kt>Yt.byteLength)throw new RangeError("bytesWritten out of range")}Yt.buffer=Yt.buffer,pr(St,kt)}function _n(St,kt){var Yt=St._pendingPullIntos.peek(),ur=St._controlledReadableByteStream._state;if(ur==="closed"){if(kt.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(kt.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(Yt.byteOffset+Yt.bytesFilled!==kt.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(Yt.bufferByteLength!==kt.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(Yt.bytesFilled+kt.byteLength>Yt.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var _r=kt.byteLength;Yt.buffer=kt.buffer,pr(St,_r)}function yn(St,kt,Yt,ur,_r,Pr,Mr){kt._controlledReadableByteStream=St,kt._pullAgain=!1,kt._pulling=!1,kt._byobRequest=null,kt._queue=kt._queueTotalSize=void 0,Fr(kt),kt._closeRequested=!1,kt._started=!1,kt._strategyHWM=Pr,kt._pullAlgorithm=ur,kt._cancelAlgorithm=_r,kt._autoAllocateChunkSize=Mr,kt._pendingPullIntos=new Mt,St._readableStreamController=kt;var Ur=Yt();dt(ot(Ur),function(){kt._started=!0,qr(kt)},function(Xr){Hr(kt,Xr)})}function En(St,kt,Yt){var ur=Object.create(jr.prototype),_r=function(){},Pr=function(){return ot(void 0)},Mr=function(){return ot(void 0)};kt.start!==void 0&&(_r=function(){return kt.start(ur)}),kt.pull!==void 0&&(Pr=function(){return kt.pull(ur)}),kt.cancel!==void 0&&(Mr=function(Xr){return kt.cancel(Xr)});var Ur=kt.autoAllocateChunkSize;if(Ur===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");yn(St,ur,_r,Pr,Mr,Yt,Ur)}function xn(St,kt,Yt){St._associatedReadableByteStreamController=kt,St._view=Yt}function $n(St){return new TypeError("ReadableStreamBYOBRequest.prototype."+St+" can only be used on a ReadableStreamBYOBRequest")}function cn(St){return new TypeError("ReadableByteStreamController.prototype."+St+" can only be used on a ReadableByteStreamController")}function Xn(St){return new An(St)}function Kn(St,kt){St._reader._readIntoRequests.push(kt)}function no(St,kt,Yt){var ur=St._reader,_r=ur._readIntoRequests.shift();Yt?_r._closeSteps(kt):_r._chunkSteps(kt)}function ga(St){return St._reader._readIntoRequests.length}function qn(St){var kt=St._reader;return!(kt===void 0||!gn(kt))}var An=function(){function St(kt){if(Ft(kt,1,"ReadableStreamBYOBReader"),Zt(kt,"First parameter"),Vn(kt))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!zr(kt._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");jt(this,kt),this._readIntoRequests=new Mt}return Object.defineProperty(St.prototype,"closed",{get:function(){return gn(this)?this._closedPromise:ht(po("closed"))},enumerable:!1,configurable:!0}),St.prototype.cancel=function(kt){return kt===void 0&&(kt=void 0),gn(this)?this._ownerReadableStream===void 0?ht(Xt("cancel")):Gt(this,kt):ht(po("cancel"))},St.prototype.read=function(kt){if(!gn(this))return ht(po("read"));if(!ArrayBuffer.isView(kt))return ht(new TypeError("view must be an array buffer view"));if(kt.byteLength===0)return ht(new TypeError("view must have non-zero byteLength"));if(kt.buffer.byteLength===0)return ht(new TypeError("view's buffer must have non-zero byteLength"));if(wr(kt.buffer),this._ownerReadableStream===void 0)return ht(Xt("read from"));var Yt,ur,_r=nt(function(Mr,Ur){Yt=Mr,ur=Ur}),Pr={_chunkSteps:function(Mr){return Yt({value:Mr,done:!1})},_closeSteps:function(Mr){return Yt({value:Mr,done:!0})},_errorSteps:function(Mr){return ur(Mr)}};return Wn(this,kt,Pr),_r},St.prototype.releaseLock=function(){if(!gn(this))throw po("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");zt(this)}},St}();Object.defineProperties(An.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty(An.prototype,tt.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function gn(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_readIntoRequests")?!1:St instanceof An}function Wn(St,kt,Yt){var ur=St._ownerReadableStream;ur._disturbed=!0,ur._state==="errored"?Yt._errorSteps(ur._storedError):na(ur._readableStreamController,kt,Yt)}function po(St){return new TypeError("ReadableStreamBYOBReader.prototype."+St+" can only be used on a ReadableStreamBYOBReader")}function io(St,kt){var Yt=St.highWaterMark;if(Yt===void 0)return kt;if(ar(Yt)||Yt<0)throw new RangeError("Invalid highWaterMark");return Yt}function vo(St){var kt=St.size;return kt||function(){return 1}}function go(St,kt){sr(St,kt);var Yt=St==null?void 0:St.highWaterMark,ur=St==null?void 0:St.size;return{highWaterMark:Yt===void 0?void 0:Rt(Yt),size:ur===void 0?void 0:Is(ur,kt+" has member 'size' that")}}function Is(St,kt){return lr(St,kt),function(Yt){return Rt(St(Yt))}}function Ds(St,kt){sr(St,kt);var Yt=St==null?void 0:St.abort,ur=St==null?void 0:St.close,_r=St==null?void 0:St.start,Pr=St==null?void 0:St.type,Mr=St==null?void 0:St.write;return{abort:Yt===void 0?void 0:Ls(Yt,St,kt+" has member 'abort' that"),close:ur===void 0?void 0:js(ur,St,kt+" has member 'close' that"),start:_r===void 0?void 0:Ns(_r,St,kt+" has member 'start' that"),write:Mr===void 0?void 0:Bs(Mr,St,kt+" has member 'write' that"),type:Pr}}function Ls(St,kt,Yt){return lr(St,Yt),function(ur){return xt(St,kt,[ur])}}function js(St,kt,Yt){return lr(St,Yt),function(){return xt(St,kt,[])}}function Ns(St,kt,Yt){return lr(St,Yt),function(ur){return Ct(St,kt,[ur])}}function Bs(St,kt,Yt){return lr(St,Yt),function(ur,_r){return xt(St,kt,[ur,_r])}}function Qo(St,kt){if(!ba(St))throw new TypeError(kt+" is not a WritableStream.")}function $s(St){if(typeof St!="object"||St===null)return!1;try{return typeof St.aborted=="boolean"}catch{return!1}}var Ws=typeof AbortController=="function";function Us(){if(Ws)return new AbortController}var ao=function(){function St(kt,Yt){kt===void 0&&(kt={}),Yt===void 0&&(Yt={}),kt===void 0?kt=null:Bt(kt,"First parameter");var ur=go(Yt,"Second parameter"),_r=Ds(kt,"First parameter");Zo(this);var Pr=_r.type;if(Pr!==void 0)throw new RangeError("Invalid type is specified");var Mr=vo(ur),Ur=io(ur,1);_l(this,_r,Ur,Mr)}return Object.defineProperty(St.prototype,"locked",{get:function(){if(!ba(this))throw _o("locked");return _a(this)},enumerable:!1,configurable:!0}),St.prototype.abort=function(kt){return kt===void 0&&(kt=void 0),ba(this)?_a(this)?ht(new TypeError("Cannot abort a stream that already has a writer")):mo(this,kt):ht(_o("abort"))},St.prototype.close=function(){return ba(this)?_a(this)?ht(new TypeError("Cannot close a stream that already has a writer")):On(this)?ht(new TypeError("Cannot close an already-closing stream")):es(this):ht(_o("close"))},St.prototype.getWriter=function(){if(!ba(this))throw _o("getWriter");return Jo(this)},St}();Object.defineProperties(ao.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty(ao.prototype,tt.toStringTag,{value:"WritableStream",configurable:!0});function Jo(St){return new oo(St)}function zs(St,kt,Yt,ur,_r,Pr){_r===void 0&&(_r=1),Pr===void 0&&(Pr=function(){return 1});var Mr=Object.create(ao.prototype);Zo(Mr);var Ur=Object.create(xa.prototype);return ss(Mr,Ur,St,kt,Yt,ur,_r,Pr),Mr}function Zo(St){St._state="writable",St._storedError=void 0,St._writer=void 0,St._writableStreamController=void 0,St._writeRequests=new Mt,St._inFlightWriteRequest=void 0,St._closeRequest=void 0,St._inFlightCloseRequest=void 0,St._pendingAbortRequest=void 0,St._backpressure=!1}function ba(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_writableStreamController")?!1:St instanceof ao}function _a(St){return St._writer!==void 0}function mo(St,kt){var Yt;if(St._state==="closed"||St._state==="errored")return ot(void 0);St._writableStreamController._abortReason=kt,(Yt=St._writableStreamController._abortController)===null||Yt===void 0||Yt.abort();var ur=St._state;if(ur==="closed"||ur==="errored")return ot(void 0);if(St._pendingAbortRequest!==void 0)return St._pendingAbortRequest._promise;var _r=!1;ur==="erroring"&&(_r=!0,kt=void 0);var Pr=nt(function(Mr,Ur){St._pendingAbortRequest={_promise:void 0,_resolve:Mr,_reject:Ur,_reason:kt,_wasAlreadyErroring:_r}});return St._pendingAbortRequest._promise=Pr,_r||jo(St,kt),Pr}function es(St){var kt=St._state;if(kt==="closed"||kt==="errored")return ht(new TypeError("The stream (in "+kt+" state) is not in the writable state and cannot be closed"));var Yt=nt(function(_r,Pr){var Mr={_resolve:_r,_reject:Pr};St._closeRequest=Mr}),ur=St._writer;return ur!==void 0&&St._backpressure&&kt==="writable"&&Go(ur),Cl(St._writableStreamController),Yt}function Hs(St){var kt=nt(function(Yt,ur){var _r={_resolve:Yt,_reject:ur};St._writeRequests.push(_r)});return kt}function Lo(St,kt){var Yt=St._state;if(Yt==="writable"){jo(St,kt);return}No(St)}function jo(St,kt){var Yt=St._writableStreamController;St._state="erroring",St._storedError=kt;var ur=St._writer;ur!==void 0&&rs(ur,kt),!Ks(St)&&Yt._started&&No(St)}function No(St){St._state="errored",St._writableStreamController[Pt]();var kt=St._storedError;if(St._writeRequests.forEach(function(_r){_r._reject(kt)}),St._writeRequests=new Mt,St._pendingAbortRequest===void 0){yo(St);return}var Yt=St._pendingAbortRequest;if(St._pendingAbortRequest=void 0,Yt._wasAlreadyErroring){Yt._reject(kt),yo(St);return}var ur=St._writableStreamController[wt](Yt._reason);dt(ur,function(){Yt._resolve(),yo(St)},function(_r){Yt._reject(_r),yo(St)})}function Vs(St){St._inFlightWriteRequest._resolve(void 0),St._inFlightWriteRequest=void 0}function Gs(St,kt){St._inFlightWriteRequest._reject(kt),St._inFlightWriteRequest=void 0,Lo(St,kt)}function Ys(St){St._inFlightCloseRequest._resolve(void 0),St._inFlightCloseRequest=void 0;var kt=St._state;kt==="erroring"&&(St._storedError=void 0,St._pendingAbortRequest!==void 0&&(St._pendingAbortRequest._resolve(),St._pendingAbortRequest=void 0)),St._state="closed";var Yt=St._writer;Yt!==void 0&&fs(Yt)}function Xs(St,kt){St._inFlightCloseRequest._reject(kt),St._inFlightCloseRequest=void 0,St._pendingAbortRequest!==void 0&&(St._pendingAbortRequest._reject(kt),St._pendingAbortRequest=void 0),Lo(St,kt)}function On(St){return!(St._closeRequest===void 0&&St._inFlightCloseRequest===void 0)}function Ks(St){return!(St._inFlightWriteRequest===void 0&&St._inFlightCloseRequest===void 0)}function qs(St){St._inFlightCloseRequest=St._closeRequest,St._closeRequest=void 0}function Qs(St){St._inFlightWriteRequest=St._writeRequests.shift()}function yo(St){St._closeRequest!==void 0&&(St._closeRequest._reject(St._storedError),St._closeRequest=void 0);var kt=St._writer;kt!==void 0&&Ho(kt,St._storedError)}function Bo(St,kt){var Yt=St._writer;Yt!==void 0&&kt!==St._backpressure&&(kt?Rl(Yt):Go(Yt)),St._backpressure=kt}var oo=function(){function St(kt){if(Ft(kt,1,"WritableStreamDefaultWriter"),Qo(kt,"First parameter"),_a(kt))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=kt,kt._writer=this;var Yt=kt._state;if(Yt==="writable")!On(kt)&&kt._backpressure?wo(this):hs(this),Co(this);else if(Yt==="erroring")Vo(this,kt._storedError),Co(this);else if(Yt==="closed")hs(this),El(this);else{var ur=kt._storedError;Vo(this,ur),cs(this,ur)}}return Object.defineProperty(St.prototype,"closed",{get:function(){return Qn(this)?this._closedPromise:ht(Jn("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(St.prototype,"desiredSize",{get:function(){if(!Qn(this))throw Jn("desiredSize");if(this._ownerWritableStream===void 0)throw so("desiredSize");return Sl(this)},enumerable:!1,configurable:!0}),Object.defineProperty(St.prototype,"ready",{get:function(){return Qn(this)?this._readyPromise:ht(Jn("ready"))},enumerable:!1,configurable:!0}),St.prototype.abort=function(kt){return kt===void 0&&(kt=void 0),Qn(this)?this._ownerWritableStream===void 0?ht(so("abort")):Js(this,kt):ht(Jn("abort"))},St.prototype.close=function(){if(!Qn(this))return ht(Jn("close"));var kt=this._ownerWritableStream;return kt===void 0?ht(so("close")):On(kt)?ht(new TypeError("Cannot close an already-closing stream")):ts(this)},St.prototype.releaseLock=function(){if(!Qn(this))throw Jn("releaseLock");var kt=this._ownerWritableStream;kt!==void 0&&ns(this)},St.prototype.write=function(kt){return kt===void 0&&(kt=void 0),Qn(this)?this._ownerWritableStream===void 0?ht(so("write to")):as(this,kt):ht(Jn("write"))},St}();Object.defineProperties(oo.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty(oo.prototype,tt.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Qn(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_ownerWritableStream")?!1:St instanceof oo}function Js(St,kt){var Yt=St._ownerWritableStream;return mo(Yt,kt)}function ts(St){var kt=St._ownerWritableStream;return es(kt)}function Zs(St){var kt=St._ownerWritableStream,Yt=kt._state;return On(kt)||Yt==="closed"?ot(void 0):Yt==="errored"?ht(kt._storedError):ts(St)}function yl(St,kt){St._closedPromiseState==="pending"?Ho(St,kt):Ol(St,kt)}function rs(St,kt){St._readyPromiseState==="pending"?ds(St,kt):Fl(St,kt)}function Sl(St){var kt=St._ownerWritableStream,Yt=kt._state;return Yt==="errored"||Yt==="erroring"?null:Yt==="closed"?0:ls(kt._writableStreamController)}function ns(St){var kt=St._ownerWritableStream,Yt=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");rs(St,Yt),yl(St,Yt),kt._writer=void 0,St._ownerWritableStream=void 0}function as(St,kt){var Yt=St._ownerWritableStream,ur=Yt._writableStreamController,_r=xl(ur,kt);if(Yt!==St._ownerWritableStream)return ht(so("write to"));var Pr=Yt._state;if(Pr==="errored")return ht(Yt._storedError);if(On(Yt)||Pr==="closed")return ht(new TypeError("The stream is closing or closed and cannot be written to"));if(Pr==="erroring")return ht(Yt._storedError);var Mr=Hs(Yt);return Al(ur,kt,_r),Mr}var os={},xa=function(){function St(){throw new TypeError("Illegal constructor")}return Object.defineProperty(St.prototype,"abortReason",{get:function(){if(!$o(this))throw zo("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(St.prototype,"signal",{get:function(){if(!$o(this))throw zo("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),St.prototype.error=function(kt){if(kt===void 0&&(kt=void 0),!$o(this))throw zo("error");var Yt=this._controlledWritableStream._state;Yt==="writable"&&us(this,kt)},St.prototype[wt]=function(kt){var Yt=this._abortAlgorithm(kt);return bo(this),Yt},St.prototype[Pt]=function(){Fr(this)},St}();Object.defineProperties(xa.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty(xa.prototype,tt.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function $o(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_controlledWritableStream")?!1:St instanceof xa}function ss(St,kt,Yt,ur,_r,Pr,Mr,Ur){kt._controlledWritableStream=St,St._writableStreamController=kt,kt._queue=void 0,kt._queueTotalSize=void 0,Fr(kt),kt._abortReason=void 0,kt._abortController=Us(),kt._started=!1,kt._strategySizeAlgorithm=Ur,kt._strategyHWM=Mr,kt._writeAlgorithm=ur,kt._closeAlgorithm=_r,kt._abortAlgorithm=Pr;var Xr=Uo(kt);Bo(St,Xr);var Kr=Yt(),Qr=ot(Kr);dt(Qr,function(){kt._started=!0,So(kt)},function(Jr){kt._started=!0,Lo(St,Jr)})}function _l(St,kt,Yt,ur){var _r=Object.create(xa.prototype),Pr=function(){},Mr=function(){return ot(void 0)},Ur=function(){return ot(void 0)},Xr=function(){return ot(void 0)};kt.start!==void 0&&(Pr=function(){return kt.start(_r)}),kt.write!==void 0&&(Mr=function(Kr){return kt.write(Kr,_r)}),kt.close!==void 0&&(Ur=function(){return kt.close()}),kt.abort!==void 0&&(Xr=function(Kr){return kt.abort(Kr)}),ss(St,_r,Pr,Mr,Ur,Xr,Yt,ur)}function bo(St){St._writeAlgorithm=void 0,St._closeAlgorithm=void 0,St._abortAlgorithm=void 0,St._strategySizeAlgorithm=void 0}function Cl(St){$r(St,os,0),So(St)}function xl(St,kt){try{return St._strategySizeAlgorithm(kt)}catch(Yt){return Wo(St,Yt),1}}function ls(St){return St._strategyHWM-St._queueTotalSize}function Al(St,kt,Yt){try{$r(St,kt,Yt)}catch(Pr){Wo(St,Pr);return}var ur=St._controlledWritableStream;if(!On(ur)&&ur._state==="writable"){var _r=Uo(St);Bo(ur,_r)}So(St)}function So(St){var kt=St._controlledWritableStream;if(!!St._started&&kt._inFlightWriteRequest===void 0){var Yt=kt._state;if(Yt==="erroring"){No(kt);return}if(St._queue.length!==0){var ur=Rr(St);ur===os?Tl(St):Pl(St,ur)}}}function Wo(St,kt){St._controlledWritableStream._state==="writable"&&us(St,kt)}function Tl(St){var kt=St._controlledWritableStream;qs(kt),xr(St);var Yt=St._closeAlgorithm();bo(St),dt(Yt,function(){Ys(kt)},function(ur){Xs(kt,ur)})}function Pl(St,kt){var Yt=St._controlledWritableStream;Qs(Yt);var ur=St._writeAlgorithm(kt);dt(ur,function(){Vs(Yt);var _r=Yt._state;if(xr(St),!On(Yt)&&_r==="writable"){var Pr=Uo(St);Bo(Yt,Pr)}So(St)},function(_r){Yt._state==="writable"&&bo(St),Gs(Yt,_r)})}function Uo(St){var kt=ls(St);return kt<=0}function us(St,kt){var Yt=St._controlledWritableStream;bo(St),jo(Yt,kt)}function _o(St){return new TypeError("WritableStream.prototype."+St+" can only be used on a WritableStream")}function zo(St){return new TypeError("WritableStreamDefaultController.prototype."+St+" can only be used on a WritableStreamDefaultController")}function Jn(St){return new TypeError("WritableStreamDefaultWriter.prototype."+St+" can only be used on a WritableStreamDefaultWriter")}function so(St){return new TypeError("Cannot "+St+" a stream using a released writer")}function Co(St){St._closedPromise=nt(function(kt,Yt){St._closedPromise_resolve=kt,St._closedPromise_reject=Yt,St._closedPromiseState="pending"})}function cs(St,kt){Co(St),Ho(St,kt)}function El(St){Co(St),fs(St)}function Ho(St,kt){St._closedPromise_reject!==void 0&&(bt(St._closedPromise),St._closedPromise_reject(kt),St._closedPromise_resolve=void 0,St._closedPromise_reject=void 0,St._closedPromiseState="rejected")}function Ol(St,kt){cs(St,kt)}function fs(St){St._closedPromise_resolve!==void 0&&(St._closedPromise_resolve(void 0),St._closedPromise_resolve=void 0,St._closedPromise_reject=void 0,St._closedPromiseState="resolved")}function wo(St){St._readyPromise=nt(function(kt,Yt){St._readyPromise_resolve=kt,St._readyPromise_reject=Yt}),St._readyPromiseState="pending"}function Vo(St,kt){wo(St),ds(St,kt)}function hs(St){wo(St),Go(St)}function ds(St,kt){St._readyPromise_reject!==void 0&&(bt(St._readyPromise),St._readyPromise_reject(kt),St._readyPromise_resolve=void 0,St._readyPromise_reject=void 0,St._readyPromiseState="rejected")}function Rl(St){wo(St)}function Fl(St,kt){Vo(St,kt)}function Go(St){St._readyPromise_resolve!==void 0&&(St._readyPromise_resolve(void 0),St._readyPromise_resolve=void 0,St._readyPromise_reject=void 0,St._readyPromiseState="fulfilled")}var ps=typeof DOMException!="undefined"?DOMException:void 0;function Ml(St){if(!(typeof St=="function"||typeof St=="object"))return!1;try{return new St,!0}catch{return!1}}function Il(){var St=function(Yt,ur){this.message=Yt||"",this.name=ur||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return St.prototype=Object.create(Error.prototype),Object.defineProperty(St.prototype,"constructor",{value:St,writable:!0,configurable:!0}),St}var Dl=Ml(ps)?ps:Il();function vs(St,kt,Yt,ur,_r,Pr){var Mr=ir(St),Ur=Jo(kt);St._disturbed=!0;var Xr=!1,Kr=ot(void 0);return nt(function(Qr,Jr){var mn;if(Pr!==void 0){if(mn=function(){var Vr=new Dl("Aborted","AbortError"),Zr=[];ur||Zr.push(function(){return kt._state==="writable"?mo(kt,Vr):ot(void 0)}),_r||Zr.push(function(){return St._state==="readable"?Tn(St,Vr):ot(void 0)}),Cn(function(){return Promise.all(Zr.map(function(vn){return vn()}))},!0,Vr)},Pr.aborted){mn();return}Pr.addEventListener("abort",mn)}function kn(){return nt(function(Vr,Zr){function vn(Mn){Mn?Vr():st(to(),vn,Zr)}vn(!1)})}function to(){return Xr?ot(!0):st(Ur._readyPromise,function(){return nt(function(Vr,Zr){kr(Mr,{_chunkSteps:function(vn){Kr=st(as(Ur,vn),void 0,ut),Vr(!1)},_closeSteps:function(){return Vr(!0)},_errorSteps:Zr})})})}if(bn(St,Mr._closedPromise,function(Vr){ur?Ln(!0,Vr):Cn(function(){return mo(kt,Vr)},!0,Vr)}),bn(kt,Ur._closedPromise,function(Vr){_r?Ln(!0,Vr):Cn(function(){return Tn(St,Vr)},!0,Vr)}),Fn(St,Mr._closedPromise,function(){Yt?Ln():Cn(function(){return Zs(Ur)})}),On(kt)||kt._state==="closed"){var Gn=new TypeError("the destination writable stream closed before all data could be piped to it");_r?Ln(!0,Gn):Cn(function(){return Tn(St,Gn)},!0,Gn)}bt(kn());function Rn(){var Vr=Kr;return st(Kr,function(){return Vr!==Kr?Rn():void 0})}function bn(Vr,Zr,vn){Vr._state==="errored"?vn(Vr._storedError):mt(Zr,vn)}function Fn(Vr,Zr,vn){Vr._state==="closed"?vn():vt(Zr,vn)}function Cn(Vr,Zr,vn){if(Xr)return;Xr=!0,kt._state==="writable"&&!On(kt)?vt(Rn(),Mn):Mn();function Mn(){dt(Vr(),function(){return pn(Zr,vn)},function(Yn){return pn(!0,Yn)})}}function Ln(Vr,Zr){Xr||(Xr=!0,kt._state==="writable"&&!On(kt)?vt(Rn(),function(){return pn(Vr,Zr)}):pn(Vr,Zr))}function pn(Vr,Zr){ns(Ur),zt(Mr),Pr!==void 0&&Pr.removeEventListener("abort",mn),Vr?Jr(Zr):Qr(void 0)}})}var $a=function(){function St(){throw new TypeError("Illegal constructor")}return Object.defineProperty(St.prototype,"desiredSize",{get:function(){if(!xo(this))throw ko("desiredSize");return Yo(this)},enumerable:!1,configurable:!0}),St.prototype.close=function(){if(!xo(this))throw ko("close");if(!eo(this))throw new TypeError("The stream is not in a state that permits close");uo(this)},St.prototype.enqueue=function(kt){if(kt===void 0&&(kt=void 0),!xo(this))throw ko("enqueue");if(!eo(this))throw new TypeError("The stream is not in a state that permits enqueue");return To(this,kt)},St.prototype.error=function(kt){if(kt===void 0&&(kt=void 0),!xo(this))throw ko("error");Un(this,kt)},St.prototype[Lt]=function(kt){Fr(this);var Yt=this._cancelAlgorithm(kt);return Ao(this),Yt},St.prototype[Dt]=function(kt){var Yt=this._controlledReadableStream;if(this._queue.length>0){var ur=xr(this);this._closeRequested&&this._queue.length===0?(Ao(this),co(Yt)):lo(this),kt._chunkSteps(ur)}else vr(Yt,kt),lo(this)},St}();Object.defineProperties($a.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty($a.prototype,tt.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function xo(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_controlledReadableStream")?!1:St instanceof $a}function lo(St){var kt=gs(St);if(!!kt){if(St._pulling){St._pullAgain=!0;return}St._pulling=!0;var Yt=St._pullAlgorithm();dt(Yt,function(){St._pulling=!1,St._pullAgain&&(St._pullAgain=!1,lo(St))},function(ur){Un(St,ur)})}}function gs(St){var kt=St._controlledReadableStream;if(!eo(St)||!St._started)return!1;if(Vn(kt)&&or(kt)>0)return!0;var Yt=Yo(St);return Yt>0}function Ao(St){St._pullAlgorithm=void 0,St._cancelAlgorithm=void 0,St._strategySizeAlgorithm=void 0}function uo(St){if(!!eo(St)){var kt=St._controlledReadableStream;St._closeRequested=!0,St._queue.length===0&&(Ao(St),co(kt))}}function To(St,kt){if(!!eo(St)){var Yt=St._controlledReadableStream;if(Vn(Yt)&&or(Yt)>0)cr(Yt,kt,!1);else{var ur=void 0;try{ur=St._strategySizeAlgorithm(kt)}catch(_r){throw Un(St,_r),_r}try{$r(St,kt,ur)}catch(_r){throw Un(St,_r),_r}}lo(St)}}function Un(St,kt){var Yt=St._controlledReadableStream;Yt._state==="readable"&&(Fr(St),Ao(St),Ss(Yt,kt))}function Yo(St){var kt=St._controlledReadableStream._state;return kt==="errored"?null:kt==="closed"?0:St._strategyHWM-St._queueTotalSize}function Ll(St){return!gs(St)}function eo(St){var kt=St._controlledReadableStream._state;return!St._closeRequested&&kt==="readable"}function ms(St,kt,Yt,ur,_r,Pr,Mr){kt._controlledReadableStream=St,kt._queue=void 0,kt._queueTotalSize=void 0,Fr(kt),kt._started=!1,kt._closeRequested=!1,kt._pullAgain=!1,kt._pulling=!1,kt._strategySizeAlgorithm=Mr,kt._strategyHWM=Pr,kt._pullAlgorithm=ur,kt._cancelAlgorithm=_r,St._readableStreamController=kt;var Ur=Yt();dt(ot(Ur),function(){kt._started=!0,lo(kt)},function(Xr){Un(kt,Xr)})}function Nl(St,kt,Yt,ur){var _r=Object.create($a.prototype),Pr=function(){},Mr=function(){return ot(void 0)},Ur=function(){return ot(void 0)};kt.start!==void 0&&(Pr=function(){return kt.start(_r)}),kt.pull!==void 0&&(Mr=function(){return kt.pull(_r)}),kt.cancel!==void 0&&(Ur=function(Xr){return kt.cancel(Xr)}),ms(St,_r,Pr,Mr,Ur,Yt,ur)}function ko(St){return new TypeError("ReadableStreamDefaultController.prototype."+St+" can only be used on a ReadableStreamDefaultController")}function Bl(St,kt){return zr(St._readableStreamController)?Wl(St):$l(St)}function $l(St,kt){var Yt=ir(St),ur=!1,_r=!1,Pr=!1,Mr=!1,Ur,Xr,Kr,Qr,Jr,mn=nt(function(bn){Jr=bn});function kn(){if(ur)return _r=!0,ot(void 0);ur=!0;var bn={_chunkSteps:function(Fn){_t(function(){_r=!1;var Cn=Fn,Ln=Fn;Pr||To(Kr._readableStreamController,Cn),Mr||To(Qr._readableStreamController,Ln),ur=!1,_r&&kn()})},_closeSteps:function(){ur=!1,Pr||uo(Kr._readableStreamController),Mr||uo(Qr._readableStreamController),(!Pr||!Mr)&&Jr(void 0)},_errorSteps:function(){ur=!1}};return kr(Yt,bn),ot(void 0)}function to(bn){if(Pr=!0,Ur=bn,Mr){var Fn=rr([Ur,Xr]),Cn=Tn(St,Fn);Jr(Cn)}return mn}function Gn(bn){if(Mr=!0,Xr=bn,Pr){var Fn=rr([Ur,Xr]),Cn=Tn(St,Fn);Jr(Cn)}return mn}function Rn(){}return Kr=Xo(Rn,kn,to),Qr=Xo(Rn,kn,Gn),mt(Yt._closedPromise,function(bn){Un(Kr._readableStreamController,bn),Un(Qr._readableStreamController,bn),(!Pr||!Mr)&&Jr(void 0)}),[Kr,Qr]}function Wl(St){var kt=ir(St),Yt=!1,ur=!1,_r=!1,Pr=!1,Mr=!1,Ur,Xr,Kr,Qr,Jr,mn=nt(function(pn){Jr=pn});function kn(pn){mt(pn._closedPromise,function(Vr){pn===kt&&(Hr(Kr._readableStreamController,Vr),Hr(Qr._readableStreamController,Vr),(!Pr||!Mr)&&Jr(void 0))})}function to(){gn(kt)&&(zt(kt),kt=ir(St),kn(kt));var pn={_chunkSteps:function(Vr){_t(function(){ur=!1,_r=!1;var Zr=Vr,vn=Vr;if(!Pr&&!Mr)try{vn=Dr(Vr)}catch(Mn){Hr(Kr._readableStreamController,Mn),Hr(Qr._readableStreamController,Mn),Jr(Tn(St,Mn));return}Pr||Wr(Kr._readableStreamController,Zr),Mr||Wr(Qr._readableStreamController,vn),Yt=!1,ur?Rn():_r&&bn()})},_closeSteps:function(){Yt=!1,Pr||Br(Kr._readableStreamController),Mr||Br(Qr._readableStreamController),Kr._readableStreamController._pendingPullIntos.length>0&&dn(Kr._readableStreamController,0),Qr._readableStreamController._pendingPullIntos.length>0&&dn(Qr._readableStreamController,0),(!Pr||!Mr)&&Jr(void 0)},_errorSteps:function(){Yt=!1}};kr(kt,pn)}function Gn(pn,Vr){Ar(kt)&&(zt(kt),kt=Xn(St),kn(kt));var Zr=Vr?Qr:Kr,vn=Vr?Kr:Qr,Mn={_chunkSteps:function(Yn){_t(function(){ur=!1,_r=!1;var ro=Vr?Mr:Pr,ho=Vr?Pr:Mr;if(ho)ro||_n(Zr._readableStreamController,Yn);else{var Ms=void 0;try{Ms=Dr(Yn)}catch(qo){Hr(Zr._readableStreamController,qo),Hr(vn._readableStreamController,qo),Jr(Tn(St,qo));return}ro||_n(Zr._readableStreamController,Yn),Wr(vn._readableStreamController,Ms)}Yt=!1,ur?Rn():_r&&bn()})},_closeSteps:function(Yn){Yt=!1;var ro=Vr?Mr:Pr,ho=Vr?Pr:Mr;ro||Br(Zr._readableStreamController),ho||Br(vn._readableStreamController),Yn!==void 0&&(ro||_n(Zr._readableStreamController,Yn),!ho&&vn._readableStreamController._pendingPullIntos.length>0&&dn(vn._readableStreamController,0)),(!ro||!ho)&&Jr(void 0)},_errorSteps:function(){Yt=!1}};Wn(kt,pn,Mn)}function Rn(){if(Yt)return ur=!0,ot(void 0);Yt=!0;var pn=Yr(Kr._readableStreamController);return pn===null?to():Gn(pn._view,!1),ot(void 0)}function bn(){if(Yt)return _r=!0,ot(void 0);Yt=!0;var pn=Yr(Qr._readableStreamController);return pn===null?to():Gn(pn._view,!0),ot(void 0)}function Fn(pn){if(Pr=!0,Ur=pn,Mr){var Vr=rr([Ur,Xr]),Zr=Tn(St,Vr);Jr(Zr)}return mn}function Cn(pn){if(Mr=!0,Xr=pn,Pr){var Vr=rr([Ur,Xr]),Zr=Tn(St,Vr);Jr(Zr)}return mn}function Ln(){}return Kr=bs(Ln,Rn,Fn),Qr=bs(Ln,bn,Cn),kn(kt),[Kr,Qr]}function Ul(St,kt){sr(St,kt);var Yt=St,ur=Yt==null?void 0:Yt.autoAllocateChunkSize,_r=Yt==null?void 0:Yt.cancel,Pr=Yt==null?void 0:Yt.pull,Mr=Yt==null?void 0:Yt.start,Ur=Yt==null?void 0:Yt.type;return{autoAllocateChunkSize:ur===void 0?void 0:Vt(ur,kt+" has member 'autoAllocateChunkSize' that"),cancel:_r===void 0?void 0:zl(_r,Yt,kt+" has member 'cancel' that"),pull:Pr===void 0?void 0:Hl(Pr,Yt,kt+" has member 'pull' that"),start:Mr===void 0?void 0:Vl(Mr,Yt,kt+" has member 'start' that"),type:Ur===void 0?void 0:Gl(Ur,kt+" has member 'type' that")}}function zl(St,kt,Yt){return lr(St,Yt),function(ur){return xt(St,kt,[ur])}}function Hl(St,kt,Yt){return lr(St,Yt),function(ur){return xt(St,kt,[ur])}}function Vl(St,kt,Yt){return lr(St,Yt),function(ur){return Ct(St,kt,[ur])}}function Gl(St,kt){if(St=""+St,St!=="bytes")throw new TypeError(kt+" '"+St+"' is not a valid enumeration value for ReadableStreamType");return St}function Yl(St,kt){sr(St,kt);var Yt=St==null?void 0:St.mode;return{mode:Yt===void 0?void 0:Xl(Yt,kt+" has member 'mode' that")}}function Xl(St,kt){if(St=""+St,St!=="byob")throw new TypeError(kt+" '"+St+"' is not a valid enumeration value for ReadableStreamReaderMode");return St}function Kl(St,kt){sr(St,kt);var Yt=St==null?void 0:St.preventCancel;return{preventCancel:Boolean(Yt)}}function ys(St,kt){sr(St,kt);var Yt=St==null?void 0:St.preventAbort,ur=St==null?void 0:St.preventCancel,_r=St==null?void 0:St.preventClose,Pr=St==null?void 0:St.signal;return Pr!==void 0&&Ql(Pr,kt+" has member 'signal' that"),{preventAbort:Boolean(Yt),preventCancel:Boolean(ur),preventClose:Boolean(_r),signal:Pr}}function Ql(St,kt){if(!$s(St))throw new TypeError(kt+" is not an AbortSignal.")}function Jl(St,kt){sr(St,kt);var Yt=St==null?void 0:St.readable;At(Yt,"readable","ReadableWritablePair"),Zt(Yt,kt+" has member 'readable' that");var ur=St==null?void 0:St.writable;return At(ur,"writable","ReadableWritablePair"),Qo(ur,kt+" has member 'writable' that"),{readable:Yt,writable:ur}}var zn=function(){function St(kt,Yt){kt===void 0&&(kt={}),Yt===void 0&&(Yt={}),kt===void 0?kt=null:Bt(kt,"First parameter");var ur=go(Yt,"Second parameter"),_r=Ul(kt,"First parameter");if(Ko(this),_r.type==="bytes"){if(ur.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var Pr=io(ur,0);En(this,_r,Pr)}else{var Mr=vo(ur),Pr=io(ur,1);Nl(this,_r,Pr,Mr)}}return Object.defineProperty(St.prototype,"locked",{get:function(){if(!Hn(this))throw Zn("locked");return Vn(this)},enumerable:!1,configurable:!0}),St.prototype.cancel=function(kt){return kt===void 0&&(kt=void 0),Hn(this)?Vn(this)?ht(new TypeError("Cannot cancel a stream that already has a reader")):Tn(this,kt):ht(Zn("cancel"))},St.prototype.getReader=function(kt){if(kt===void 0&&(kt=void 0),!Hn(this))throw Zn("getReader");var Yt=Yl(kt,"First parameter");return Yt.mode===void 0?ir(this):Xn(this)},St.prototype.pipeThrough=function(kt,Yt){if(Yt===void 0&&(Yt={}),!Hn(this))throw Zn("pipeThrough");Ft(kt,1,"pipeThrough");var ur=Jl(kt,"First parameter"),_r=ys(Yt,"Second parameter");if(Vn(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(_a(ur.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var Pr=vs(this,ur.writable,_r.preventClose,_r.preventAbort,_r.preventCancel,_r.signal);return bt(Pr),ur.readable},St.prototype.pipeTo=function(kt,Yt){if(Yt===void 0&&(Yt={}),!Hn(this))return ht(Zn("pipeTo"));if(kt===void 0)return ht("Parameter 1 is required in 'pipeTo'.");if(!ba(kt))return ht(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var ur;try{ur=ys(Yt,"Second parameter")}catch(_r){return ht(_r)}return Vn(this)?ht(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):_a(kt)?ht(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):vs(this,kt,ur.preventClose,ur.preventAbort,ur.preventCancel,ur.signal)},St.prototype.tee=function(){if(!Hn(this))throw Zn("tee");var kt=Bl(this);return rr(kt)},St.prototype.values=function(kt){if(kt===void 0&&(kt=void 0),!Hn(this))throw Zn("values");var Yt=Kl(kt,"First parameter");return nr(this,Yt.preventCancel)},St}();Object.defineProperties(zn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty(zn.prototype,tt.toStringTag,{value:"ReadableStream",configurable:!0}),typeof tt.asyncIterator=="symbol"&&Object.defineProperty(zn.prototype,tt.asyncIterator,{value:zn.prototype.values,writable:!0,configurable:!0});function Xo(St,kt,Yt,ur,_r){ur===void 0&&(ur=1),_r===void 0&&(_r=function(){return 1});var Pr=Object.create(zn.prototype);Ko(Pr);var Mr=Object.create($a.prototype);return ms(Pr,Mr,St,kt,Yt,ur,_r),Pr}function bs(St,kt,Yt){var ur=Object.create(zn.prototype);Ko(ur);var _r=Object.create(jr.prototype);return yn(ur,_r,St,kt,Yt,0,void 0),ur}function Ko(St){St._state="readable",St._reader=void 0,St._storedError=void 0,St._disturbed=!1}function Hn(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_readableStreamController")?!1:St instanceof zn}function Vn(St){return St._reader!==void 0}function Tn(St,kt){if(St._disturbed=!0,St._state==="closed")return ot(void 0);if(St._state==="errored")return ht(St._storedError);co(St);var Yt=St._reader;Yt!==void 0&&gn(Yt)&&(Yt._readIntoRequests.forEach(function(_r){_r._closeSteps(void 0)}),Yt._readIntoRequests=new Mt);var ur=St._readableStreamController[Lt](kt);return gt(ur,ut)}function co(St){St._state="closed";var kt=St._reader;kt!==void 0&&(Et(kt),Ar(kt)&&(kt._readRequests.forEach(function(Yt){Yt._closeSteps()}),kt._readRequests=new Mt))}function Ss(St,kt){St._state="errored",St._storedError=kt;var Yt=St._reader;Yt!==void 0&&(Ut(Yt,kt),Ar(Yt)?(Yt._readRequests.forEach(function(ur){ur._errorSteps(kt)}),Yt._readRequests=new Mt):(Yt._readIntoRequests.forEach(function(ur){ur._errorSteps(kt)}),Yt._readIntoRequests=new Mt))}function Zn(St){return new TypeError("ReadableStream.prototype."+St+" can only be used on a ReadableStream")}function _s(St,kt){sr(St,kt);var Yt=St==null?void 0:St.highWaterMark;return At(Yt,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Rt(Yt)}}var Cs=function(St){return St.byteLength};Object.defineProperty(Cs,"name",{value:"size",configurable:!0});var Po=function(){function St(kt){Ft(kt,1,"ByteLengthQueuingStrategy"),kt=_s(kt,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=kt.highWaterMark}return Object.defineProperty(St.prototype,"highWaterMark",{get:function(){if(!xs(this))throw ws("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(St.prototype,"size",{get:function(){if(!xs(this))throw ws("size");return Cs},enumerable:!1,configurable:!0}),St}();Object.defineProperties(Po.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty(Po.prototype,tt.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function ws(St){return new TypeError("ByteLengthQueuingStrategy.prototype."+St+" can only be used on a ByteLengthQueuingStrategy")}function xs(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_byteLengthQueuingStrategyHighWaterMark")?!1:St instanceof Po}var As=function(){return 1};Object.defineProperty(As,"name",{value:"size",configurable:!0});var Eo=function(){function St(kt){Ft(kt,1,"CountQueuingStrategy"),kt=_s(kt,"First parameter"),this._countQueuingStrategyHighWaterMark=kt.highWaterMark}return Object.defineProperty(St.prototype,"highWaterMark",{get:function(){if(!ks(this))throw Ts("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(St.prototype,"size",{get:function(){if(!ks(this))throw Ts("size");return As},enumerable:!1,configurable:!0}),St}();Object.defineProperties(Eo.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty(Eo.prototype,tt.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Ts(St){return new TypeError("CountQueuingStrategy.prototype."+St+" can only be used on a CountQueuingStrategy")}function ks(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_countQueuingStrategyHighWaterMark")?!1:St instanceof Eo}function Zl(St,kt){sr(St,kt);var Yt=St==null?void 0:St.flush,ur=St==null?void 0:St.readableType,_r=St==null?void 0:St.start,Pr=St==null?void 0:St.transform,Mr=St==null?void 0:St.writableType;return{flush:Yt===void 0?void 0:eu(Yt,St,kt+" has member 'flush' that"),readableType:ur,start:_r===void 0?void 0:tu(_r,St,kt+" has member 'start' that"),transform:Pr===void 0?void 0:ru(Pr,St,kt+" has member 'transform' that"),writableType:Mr}}function eu(St,kt,Yt){return lr(St,Yt),function(ur){return xt(St,kt,[ur])}}function tu(St,kt,Yt){return lr(St,Yt),function(ur){return Ct(St,kt,[ur])}}function ru(St,kt,Yt){return lr(St,Yt),function(ur,_r){return xt(St,kt,[ur,_r])}}var Oo=function(){function St(kt,Yt,ur){kt===void 0&&(kt={}),Yt===void 0&&(Yt={}),ur===void 0&&(ur={}),kt===void 0&&(kt=null);var _r=go(Yt,"Second parameter"),Pr=go(ur,"Third parameter"),Mr=Zl(kt,"First parameter");if(Mr.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Mr.writableType!==void 0)throw new RangeError("Invalid writableType specified");var Ur=io(Pr,0),Xr=vo(Pr),Kr=io(_r,1),Qr=vo(_r),Jr,mn=nt(function(kn){Jr=kn});nu(this,mn,Kr,Qr,Ur,Xr),au(this,Mr),Mr.start!==void 0?Jr(Mr.start(this._transformStreamController)):Jr(void 0)}return Object.defineProperty(St.prototype,"readable",{get:function(){if(!Ps(this))throw Fs("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(St.prototype,"writable",{get:function(){if(!Ps(this))throw Fs("writable");return this._writable},enumerable:!1,configurable:!0}),St}();Object.defineProperties(Oo.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty(Oo.prototype,tt.toStringTag,{value:"TransformStream",configurable:!0});function nu(St,kt,Yt,ur,_r,Pr){function Mr(){return kt}function Ur(mn){return lu(St,mn)}function Xr(mn){return uu(St,mn)}function Kr(){return cu(St)}St._writable=zs(Mr,Ur,Kr,Xr,Yt,ur);function Qr(){return fu(St)}function Jr(mn){return Fo(St,mn),ot(void 0)}St._readable=Xo(Mr,Qr,Jr,_r,Pr),St._backpressure=void 0,St._backpressureChangePromise=void 0,St._backpressureChangePromise_resolve=void 0,Mo(St,!0),St._transformStreamController=void 0}function Ps(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_transformStreamController")?!1:St instanceof Oo}function Ro(St,kt){Un(St._readable._readableStreamController,kt),Fo(St,kt)}function Fo(St,kt){Es(St._transformStreamController),Wo(St._writable._writableStreamController,kt),St._backpressure&&Mo(St,!1)}function Mo(St,kt){St._backpressureChangePromise!==void 0&&St._backpressureChangePromise_resolve(),St._backpressureChangePromise=nt(function(Yt){St._backpressureChangePromise_resolve=Yt}),St._backpressure=kt}var fo=function(){function St(){throw new TypeError("Illegal constructor")}return Object.defineProperty(St.prototype,"desiredSize",{get:function(){if(!Io(this))throw Do("desiredSize");var kt=this._controlledTransformStream._readable._readableStreamController;return Yo(kt)},enumerable:!1,configurable:!0}),St.prototype.enqueue=function(kt){if(kt===void 0&&(kt=void 0),!Io(this))throw Do("enqueue");Os(this,kt)},St.prototype.error=function(kt){if(kt===void 0&&(kt=void 0),!Io(this))throw Do("error");ou(this,kt)},St.prototype.terminate=function(){if(!Io(this))throw Do("terminate");su(this)},St}();Object.defineProperties(fo.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof tt.toStringTag=="symbol"&&Object.defineProperty(fo.prototype,tt.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Io(St){return!ct(St)||!Object.prototype.hasOwnProperty.call(St,"_controlledTransformStream")?!1:St instanceof fo}function iu(St,kt,Yt,ur){kt._controlledTransformStream=St,St._transformStreamController=kt,kt._transformAlgorithm=Yt,kt._flushAlgorithm=ur}function au(St,kt){var Yt=Object.create(fo.prototype),ur=function(Pr){try{return Os(Yt,Pr),ot(void 0)}catch(Mr){return ht(Mr)}},_r=function(){return ot(void 0)};kt.transform!==void 0&&(ur=function(Pr){return kt.transform(Pr,Yt)}),kt.flush!==void 0&&(_r=function(){return kt.flush(Yt)}),iu(St,Yt,ur,_r)}function Es(St){St._transformAlgorithm=void 0,St._flushAlgorithm=void 0}function Os(St,kt){var Yt=St._controlledTransformStream,ur=Yt._readable._readableStreamController;if(!eo(ur))throw new TypeError("Readable side is not in a state that permits enqueue");try{To(ur,kt)}catch(Pr){throw Fo(Yt,Pr),Yt._readable._storedError}var _r=Ll(ur);_r!==Yt._backpressure&&Mo(Yt,!0)}function ou(St,kt){Ro(St._controlledTransformStream,kt)}function Rs(St,kt){var Yt=St._transformAlgorithm(kt);return gt(Yt,void 0,function(ur){throw Ro(St._controlledTransformStream,ur),ur})}function su(St){var kt=St._controlledTransformStream,Yt=kt._readable._readableStreamController;uo(Yt);var ur=new TypeError("TransformStream terminated");Fo(kt,ur)}function lu(St,kt){var Yt=St._transformStreamController;if(St._backpressure){var ur=St._backpressureChangePromise;return gt(ur,function(){var _r=St._writable,Pr=_r._state;if(Pr==="erroring")throw _r._storedError;return Rs(Yt,kt)})}return Rs(Yt,kt)}function uu(St,kt){return Ro(St,kt),ot(void 0)}function cu(St){var kt=St._readable,Yt=St._transformStreamController,ur=Yt._flushAlgorithm();return Es(Yt),gt(ur,function(){if(kt._state==="errored")throw kt._storedError;uo(kt._readableStreamController)},function(_r){throw Ro(St,_r),kt._storedError})}function fu(St){return Mo(St,!1),St._backpressureChangePromise}function Do(St){return new TypeError("TransformStreamDefaultController.prototype."+St+" can only be used on a TransformStreamDefaultController")}function Fs(St){return new TypeError("TransformStream.prototype."+St+" can only be used on a TransformStream")}et.ByteLengthQueuingStrategy=Po,et.CountQueuingStrategy=Eo,et.ReadableByteStreamController=jr,et.ReadableStream=zn,et.ReadableStreamBYOBReader=An,et.ReadableStreamBYOBRequest=Nr,et.ReadableStreamDefaultController=$a,et.ReadableStreamDefaultReader=Cr,et.TransformStream=Oo,et.TransformStreamDefaultController=fo,et.WritableStream=ao,et.WritableStreamDefaultController=xa,et.WritableStreamDefaultWriter=oo,Object.defineProperty(et,"__esModule",{value:!0})})},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.BaseStandardFontDataFactory=_e.BaseSVGFactory=_e.BaseCanvasFactory=_e.BaseCMapReaderFactory=void 0;var tt=pt(et(2)),ut=et(4);function pt(ht){return ht&&ht.__esModule?ht:{default:ht}}function yt(ht,st,dt,vt,mt,gt,bt){try{var _t=ht[gt](bt),Ct=_t.value}catch(xt){dt(xt);return}_t.done?st(Ct):Promise.resolve(Ct).then(vt,mt)}function ct(ht){return function(){var st=this,dt=arguments;return new Promise(function(vt,mt){var gt=ht.apply(st,dt);function bt(Ct){yt(gt,vt,mt,bt,_t,"next",Ct)}function _t(Ct){yt(gt,vt,mt,bt,_t,"throw",Ct)}bt(void 0)})}}function rt(ht,st){if(!(ht instanceof st))throw new TypeError("Cannot call a class as a function")}function lt(ht,st){for(var dt=0;dt<st.length;dt++){var vt=st[dt];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(ht,vt.key,vt)}}function ft(ht,st,dt){return st&&lt(ht.prototype,st),dt&&lt(ht,dt),ht}var it=function(){function ht(){rt(this,ht),this.constructor===ht&&(0,ut.unreachable)("Cannot initialize BaseCanvasFactory.")}return ft(ht,[{key:"create",value:function(dt,vt){if(dt<=0||vt<=0)throw new Error("Invalid canvas size");var mt=this._createCanvas(dt,vt);return{canvas:mt,context:mt.getContext("2d")}}},{key:"reset",value:function(dt,vt,mt){if(!dt.canvas)throw new Error("Canvas is not specified");if(vt<=0||mt<=0)throw new Error("Invalid canvas size");dt.canvas.width=vt,dt.canvas.height=mt}},{key:"destroy",value:function(dt){if(!dt.canvas)throw new Error("Canvas is not specified");dt.canvas.width=0,dt.canvas.height=0,dt.canvas=null,dt.context=null}},{key:"_createCanvas",value:function(dt,vt){(0,ut.unreachable)("Abstract method `_createCanvas` called.")}}]),ht}();_e.BaseCanvasFactory=it;var at=function(){function ht(st){var dt=st.baseUrl,vt=dt===void 0?null:dt,mt=st.isCompressed,gt=mt===void 0?!1:mt;rt(this,ht),this.constructor===ht&&(0,ut.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=vt,this.isCompressed=gt}return ft(ht,[{key:"fetch",value:function(){var st=ct(tt.default.mark(function vt(mt){var gt=this,bt,_t,Ct;return tt.default.wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:if(bt=mt.name,this.baseUrl){Tt.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(bt){Tt.next=5;break}throw new Error("CMap name must be specified.");case 5:return _t=this.baseUrl+bt+(this.isCompressed?".bcmap":""),Ct=this.isCompressed?ut.CMapCompressionType.BINARY:ut.CMapCompressionType.NONE,Tt.abrupt("return",this._fetchData(_t,Ct).catch(function(Mt){throw new Error("Unable to load ".concat(gt.isCompressed?"binary ":"","CMap at: ").concat(_t))}));case 8:case"end":return Tt.stop()}},vt,this)}));function dt(vt){return st.apply(this,arguments)}return dt}()},{key:"_fetchData",value:function(dt,vt){(0,ut.unreachable)("Abstract method `_fetchData` called.")}}]),ht}();_e.BaseCMapReaderFactory=at;var nt=function(){function ht(st){var dt=st.baseUrl,vt=dt===void 0?null:dt;rt(this,ht),this.constructor===ht&&(0,ut.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=vt}return ft(ht,[{key:"fetch",value:function(){var st=ct(tt.default.mark(function vt(mt){var gt,bt;return tt.default.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:if(gt=mt.filename,this.baseUrl){Ct.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(gt){Ct.next=5;break}throw new Error("Font filename must be specified.");case 5:return bt="".concat(this.baseUrl).concat(gt),Ct.abrupt("return",this._fetchData(bt).catch(function(xt){throw new Error("Unable to load font data at: ".concat(bt))}));case 7:case"end":return Ct.stop()}},vt,this)}));function dt(vt){return st.apply(this,arguments)}return dt}()},{key:"_fetchData",value:function(dt){(0,ut.unreachable)("Abstract method `_fetchData` called.")}}]),ht}();_e.BaseStandardFontDataFactory=nt;var ot=function(){function ht(){rt(this,ht),this.constructor===ht&&(0,ut.unreachable)("Cannot initialize BaseSVGFactory.")}return ft(ht,[{key:"create",value:function(dt,vt){if(dt<=0||vt<=0)throw new Error("Invalid SVG dimensions");var mt=this._createSVG("svg:svg");return mt.setAttribute("version","1.1"),mt.setAttribute("width","".concat(dt,"px")),mt.setAttribute("height","".concat(vt,"px")),mt.setAttribute("preserveAspectRatio","none"),mt.setAttribute("viewBox","0 0 ".concat(dt," ").concat(vt)),mt}},{key:"createElement",value:function(dt){if(typeof dt!="string")throw new Error("Invalid SVG element type");return this._createSVG(dt)}},{key:"_createSVG",value:function(dt){(0,ut.unreachable)("Abstract method `_createSVG` called.")}}]),ht}();_e.BaseSVGFactory=ot},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(137),_node_utils=__w_pdfjs_require__(138),_annotation_storage=__w_pdfjs_require__(139),_canvas=__w_pdfjs_require__(140),_worker_options=__w_pdfjs_require__(142),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(143),_metadata=__w_pdfjs_require__(144),_optional_content_config=__w_pdfjs_require__(145),_transport_stream=__w_pdfjs_require__(146),_xfa_text=__w_pdfjs_require__(147);function _interopRequireDefault($){return $&&$.__esModule?$:{default:$}}function _classPrivateFieldInitSpec($,_e,et){_checkPrivateRedeclaration($,_e),_e.set($,et)}function _checkPrivateRedeclaration($,_e){if(_e.has($))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet($,_e,et){var tt=_classExtractFieldDescriptor($,_e,"set");return _classApplyDescriptorSet($,tt,et),et}function _classApplyDescriptorSet($,_e,et){if(_e.set)_e.set.call($,et);else{if(!_e.writable)throw new TypeError("attempted to set read only private field");_e.value=et}}function _classPrivateFieldGet($,_e){var et=_classExtractFieldDescriptor($,_e,"get");return _classApplyDescriptorGet($,et)}function _classExtractFieldDescriptor($,_e,et){if(!_e.has($))throw new TypeError("attempted to "+et+" private field on non-instance");return _e.get($)}function _classApplyDescriptorGet($,_e){return _e.get?_e.get.call($):_e.value}function _toConsumableArray($){return _arrayWithoutHoles($)||_iterableToArray($)||_unsupportedIterableToArray($)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray($){if(typeof Symbol!="undefined"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _arrayWithoutHoles($){if(Array.isArray($))return _arrayLikeToArray($)}function _createForOfIteratorHelper($,_e){var et=typeof Symbol!="undefined"&&$[Symbol.iterator]||$["@@iterator"];if(!et){if(Array.isArray($)||(et=_unsupportedIterableToArray($))||_e&&$&&typeof $.length=="number"){et&&($=et);var tt=0,ut=function(){};return{s:ut,n:function(){return tt>=$.length?{done:!0}:{done:!1,value:$[tt++]}},e:function(lt){throw lt},f:ut}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pt=!0,yt=!1,ct;return{s:function(){et=et.call($)},n:function(){var lt=et.next();return pt=lt.done,lt},e:function(lt){yt=!0,ct=lt},f:function(){try{!pt&&et.return!=null&&et.return()}finally{if(yt)throw ct}}}}function _classCallCheck($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,tt.key,tt)}}function _createClass($,_e,et){return _e&&_defineProperties($.prototype,_e),et&&_defineProperties($,et),$}function asyncGeneratorStep($,_e,et,tt,ut,pt,yt){try{var ct=$[pt](yt),rt=ct.value}catch(lt){et(lt);return}ct.done?_e(rt):Promise.resolve(rt).then(tt,ut)}function _asyncToGenerator($){return function(){var _e=this,et=arguments;return new Promise(function(tt,ut){var pt=$.apply(_e,et);function yt(rt){asyncGeneratorStep(pt,tt,ut,yt,ct,"next",rt)}function ct(rt){asyncGeneratorStep(pt,tt,ut,yt,ct,"throw",rt)}yt(void 0)})}}function _slicedToArray($,_e){return _arrayWithHoles($)||_iterableToArrayLimit($,_e)||_unsupportedIterableToArray($,_e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray($,_e){if(!!$){if(typeof $=="string")return _arrayLikeToArray($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray($,_e)}}function _arrayLikeToArray($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _iterableToArrayLimit($,_e){var et=$==null?null:typeof Symbol!="undefined"&&$[Symbol.iterator]||$["@@iterator"];if(et!=null){var tt=[],ut=!0,pt=!1,yt,ct;try{for(et=et.call($);!(ut=(yt=et.next()).done)&&(tt.push(yt.value),!(_e&&tt.length===_e));ut=!0);}catch(rt){pt=!0,ct=rt}finally{try{!ut&&et.return!=null&&et.return()}finally{if(pt)throw ct}}return tt}}function _arrayWithHoles($){if(Array.isArray($))return $}function _typeof($){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(et){return typeof et}:_typeof=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof($)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var createPDFNetworkStream;function setPDFNetworkStreamFactory($){createPDFNetworkStream=$}function getDocument($){var _e=new PDFDocumentLoadingTask,et;if(typeof $=="string"||$ instanceof URL)et={url:$};else if((0,_util.isArrayBuffer)($))et={data:$};else if($ instanceof PDFDataRangeTransport)et={range:$};else{if(_typeof($)!=="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!$.url&&!$.data&&!$.range)throw new Error("Invalid parameter object: need either .data, .range or .url");et=$}var tt=Object.create(null),ut=null,pt=null;for(var yt in et){var ct=et[yt];switch(yt){case"url":if(typeof window!="undefined")try{tt[yt]=new URL(ct,window.location).href;continue}catch(ft){(0,_util.warn)('Cannot create valid URL: "'.concat(ft,'".'))}else if(typeof ct=="string"||ct instanceof URL){tt[yt]=ct.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":ut=ct;continue;case"worker":pt=ct;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer!="undefined"&&ct instanceof Buffer)tt[yt]=new Uint8Array(ct);else{if(ct instanceof Uint8Array)break;if(typeof ct=="string")tt[yt]=(0,_util.stringToBytes)(ct);else if(_typeof(ct)==="object"&&ct!==null&&!isNaN(ct.length))tt[yt]=new Uint8Array(ct);else if((0,_util.isArrayBuffer)(ct))tt[yt]=new Uint8Array(ct);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}continue}tt[yt]=ct}if(tt.rangeChunkSize=tt.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,tt.CMapReaderFactory=tt.CMapReaderFactory||DefaultCMapReaderFactory,tt.StandardFontDataFactory=tt.StandardFontDataFactory||DefaultStandardFontDataFactory,tt.ignoreErrors=tt.stopAtErrors!==!0,tt.fontExtraProperties=tt.fontExtraProperties===!0,tt.pdfBug=tt.pdfBug===!0,tt.enableXfa=tt.enableXfa===!0,(typeof tt.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(tt.docBaseUrl))&&(tt.docBaseUrl=null),Number.isInteger(tt.maxImageSize)||(tt.maxImageSize=-1),typeof tt.useWorkerFetch!="boolean"&&(tt.useWorkerFetch=tt.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&tt.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof tt.isEvalSupported!="boolean"&&(tt.isEvalSupported=!0),typeof tt.disableFontFace!="boolean"&&(tt.disableFontFace=_is_node.isNodeJS),typeof tt.useSystemFonts!="boolean"&&(tt.useSystemFonts=!_is_node.isNodeJS&&!tt.disableFontFace),typeof tt.ownerDocument=="undefined"&&(tt.ownerDocument=globalThis.document),typeof tt.disableRange!="boolean"&&(tt.disableRange=!1),typeof tt.disableStream!="boolean"&&(tt.disableStream=!1),typeof tt.disableAutoFetch!="boolean"&&(tt.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(tt.verbosity),!pt){var rt={verbosity:tt.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};pt=rt.port?PDFWorker.fromPort(rt):new PDFWorker(rt),_e._worker=pt}var lt=_e.docId;return pt.promise.then(function(){if(_e.destroyed)throw new Error("Loading aborted");var ft=_fetchDocument(pt,tt,ut,lt),it=new Promise(function(at){var nt;ut?nt=new _transport_stream.PDFDataTransportStream({length:tt.length,initialData:tt.initialData,progressiveDone:tt.progressiveDone,contentDispositionFilename:tt.contentDispositionFilename,disableRange:tt.disableRange,disableStream:tt.disableStream},ut):tt.data||(nt=createPDFNetworkStream({url:tt.url,length:tt.length,httpHeaders:tt.httpHeaders,withCredentials:tt.withCredentials,rangeChunkSize:tt.rangeChunkSize,disableRange:tt.disableRange,disableStream:tt.disableStream})),at(nt)});return Promise.all([ft,it]).then(function(at){var nt=_slicedToArray(at,2),ot=nt[0],ht=nt[1];if(_e.destroyed)throw new Error("Loading aborted");var st=new _message_handler.MessageHandler(lt,ot,pt.port),dt=new WorkerTransport(st,_e,ht,tt);_e._transport=dt,st.send("Ready",null)})}).catch(_e._capability.reject),_e}function _fetchDocument($,_e,et,tt){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return _fetchDocument2=_asyncToGenerator(_regenerator.default.mark(function $(_e,et,tt,ut){var pt;return _regenerator.default.wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:if(!_e.destroyed){ct.next=2;break}throw new Error("Worker was destroyed");case 2:return tt&&(et.length=tt.length,et.initialData=tt.initialData,et.progressiveDone=tt.progressiveDone,et.contentDispositionFilename=tt.contentDispositionFilename),ct.next=5,_e.messageHandler.sendWithPromise("GetDocRequest",{docId:ut,apiVersion:"2.12.313",source:{data:et.data,url:et.url,password:et.password,disableAutoFetch:et.disableAutoFetch,rangeChunkSize:et.rangeChunkSize,length:et.length},maxImageSize:et.maxImageSize,disableFontFace:et.disableFontFace,docBaseUrl:et.docBaseUrl,ignoreErrors:et.ignoreErrors,isEvalSupported:et.isEvalSupported,fontExtraProperties:et.fontExtraProperties,enableXfa:et.enableXfa,useSystemFonts:et.useSystemFonts,cMapUrl:et.useWorkerFetch?et.cMapUrl:null,standardFontDataUrl:et.useWorkerFetch?et.standardFontDataUrl:null});case 5:if(pt=ct.sent,!_e.destroyed){ct.next=8;break}throw new Error("Worker was destroyed");case 8:return ct.abrupt("return",pt);case 9:case"end":return ct.stop()}},$)})),_fetchDocument2.apply(this,arguments)}var PDFDocumentLoadingTask=function(){function $(){_classCallCheck(this,$),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat($.idCounters.doc++),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass($,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var _e=_asyncToGenerator(_regenerator.default.mark(function tt(){var ut;return _regenerator.default.wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:return this.destroyed=!0,yt.next=3,(ut=this._transport)===null||ut===void 0?void 0:ut.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return yt.stop()}},tt,this)}));function et(){return _e.apply(this,arguments)}return et}()}],[{key:"idCounters",get:function(){return(0,_util.shadow)(this,"idCounters",{doc:0})}}]),$}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function $(_e,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ut=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;_classCallCheck(this,$),this.length=_e,this.initialData=et,this.progressiveDone=tt,this.contentDispositionFilename=ut,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass($,[{key:"addRangeListener",value:function(et){this._rangeListeners.push(et)}},{key:"addProgressListener",value:function(et){this._progressListeners.push(et)}},{key:"addProgressiveReadListener",value:function(et){this._progressiveReadListeners.push(et)}},{key:"addProgressiveDoneListener",value:function(et){this._progressiveDoneListeners.push(et)}},{key:"onDataRange",value:function(et,tt){var ut=_createForOfIteratorHelper(this._rangeListeners),pt;try{for(ut.s();!(pt=ut.n()).done;){var yt=pt.value;yt(et,tt)}}catch(ct){ut.e(ct)}finally{ut.f()}}},{key:"onDataProgress",value:function(et,tt){var ut=this;this._readyCapability.promise.then(function(){var pt=_createForOfIteratorHelper(ut._progressListeners),yt;try{for(pt.s();!(yt=pt.n()).done;){var ct=yt.value;ct(et,tt)}}catch(rt){pt.e(rt)}finally{pt.f()}})}},{key:"onDataProgressiveRead",value:function(et){var tt=this;this._readyCapability.promise.then(function(){var ut=_createForOfIteratorHelper(tt._progressiveReadListeners),pt;try{for(ut.s();!(pt=ut.n()).done;){var yt=pt.value;yt(et)}}catch(ct){ut.e(ct)}finally{ut.f()}})}},{key:"onDataProgressiveDone",value:function(){var et=this;this._readyCapability.promise.then(function(){var tt=_createForOfIteratorHelper(et._progressiveDoneListeners),ut;try{for(tt.s();!(ut=tt.n()).done;){var pt=ut.value;pt()}}catch(yt){tt.e(yt)}finally{tt.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(et,tt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),$}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function $(_e,et){var tt=this;_classCallCheck(this,$),this._pdfInfo=_e,this._transport=et,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:function(){var ut=_asyncToGenerator(_regenerator.default.mark(function yt(){return _regenerator.default.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),rt.abrupt("return",tt.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return rt.stop()}},yt)}));function pt(){return ut.apply(this,arguments)}return pt}()})}return _createClass($,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(et){return this._transport.getPage(et)}},{key:"getPageIndex",value:function(et){return this._transport.getPageIndex(et)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(et){return this._transport.getDestination(et)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(et||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),$}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function $(_e,et,tt,ut){var pt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;_classCallCheck(this,$),this._pageIndex=_e,this._pageInfo=et,this._ownerDocument=ut,this._transport=tt,this._stats=pt?new _display_utils.StatTimer:null,this._pdfBug=pt,this.commonObjs=tt.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return _createClass($,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=et.scale,ut=et.rotation,pt=ut===void 0?this.rotate:ut,yt=et.offsetX,ct=yt===void 0?0:yt,rt=et.offsetY,lt=rt===void 0?0:rt,ft=et.dontFlip,it=ft===void 0?!1:ft;return new _display_utils.PageViewport({viewBox:this.view,scale:tt,rotation:pt,offsetX:ct,offsetY:lt,dontFlip:it})}},{key:"getAnnotations",value:function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=et.intent,ut=tt===void 0?"display":tt,pt=this._transport.getRenderingIntent(ut),yt=this._annotationPromises.get(pt.cacheKey);return yt||(yt=this._transport.getAnnotations(this._pageIndex,pt.renderingIntent),this._annotationPromises.set(pt.cacheKey,yt),yt=yt.then(function(ct){var rt=_createForOfIteratorHelper(ct),lt;try{var ft=function(){var at=lt.value;at.titleObj!==void 0&&Object.defineProperty(at,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),at.titleObj.str}}),at.contentsObj!==void 0&&Object.defineProperty(at,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),at.contentsObj.str}})};for(rt.s();!(lt=rt.n()).done;)ft()}catch(it){rt.e(it)}finally{rt.f()}return ct})),yt}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){var _e=_asyncToGenerator(_regenerator.default.mark(function tt(){var ut;return _regenerator.default.wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:return yt.abrupt("return",((ut=this._transport._htmlForXfa)===null||ut===void 0?void 0:ut.children[this._pageIndex])||null);case 1:case"end":return yt.stop()}},tt,this)}));function et(){return _e.apply(this,arguments)}return et}()},{key:"render",value:function(et){var tt,ut,pt=this,yt,ct=et.canvasContext,rt=et.viewport,lt=et.intent,ft=lt===void 0?"display":lt,it=et.annotationMode,at=it===void 0?_util.AnnotationMode.ENABLE:it,nt=et.transform,ot=nt===void 0?null:nt,ht=et.imageLayer,st=ht===void 0?null:ht,dt=et.canvasFactory,vt=dt===void 0?null:dt,mt=et.background,gt=mt===void 0?null:mt,bt=et.optionalContentConfigPromise,_t=bt===void 0?null:bt,Ct=et.annotationCanvasMap,xt=Ct===void 0?null:Ct;((tt=arguments[0])===null||tt===void 0?void 0:tt.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&at===_util.AnnotationMode.ENABLE&&(at=_util.AnnotationMode.ENABLE_FORMS)),((ut=arguments[0])===null||ut===void 0?void 0:ut.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&at===_util.AnnotationMode.ENABLE&&(at=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var Tt=this._transport.getRenderingIntent(ft,at);this.pendingCleanup=!1,_t||(_t=this._transport.getOptionalContentConfig());var Mt=this._intentStates.get(Tt.cacheKey);Mt||(Mt=Object.create(null),this._intentStates.set(Tt.cacheKey,Mt)),Mt.streamReaderCancelTimeout&&(clearTimeout(Mt.streamReaderCancelTimeout),Mt.streamReaderCancelTimeout=null);var jt=vt||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Gt=!!(Tt.renderingIntent&_util.RenderingIntentFlag.PRINT);Mt.displayReadyCapability||(Mt.displayReadyCapability=(0,_util.createPromiseCapability)(),Mt.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(Tt));var zt=function(er){Mt.renderTasks.delete(Xt),(pt.cleanupAfterRender||Gt)&&(pt.pendingCleanup=!0),pt._tryCleanup(),er?(Xt.capability.reject(er),pt._abortOperatorList({intentState:Mt,reason:er instanceof Error?er:new Error(er)})):Xt.capability.resolve(),pt._stats&&(pt._stats.timeEnd("Rendering"),pt._stats.timeEnd("Overall"))},Xt=new InternalRenderTask({callback:zt,params:{canvasContext:ct,viewport:rt,transform:ot,imageLayer:st,background:gt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:xt,operatorList:Mt.operatorList,pageIndex:this._pageIndex,canvasFactory:jt,useRequestAnimationFrame:!Gt,pdfBug:this._pdfBug});((yt=Mt).renderTasks||(yt.renderTasks=new Set)).add(Xt);var Kt=Xt.task;return Promise.all([Mt.displayReadyCapability.promise,_t]).then(function(qt){var er=_slicedToArray(qt,2),Ut=er[0],Ot=er[1];if(pt.pendingCleanup){zt();return}pt._stats&&pt._stats.time("Rendering"),Xt.initializeGraphics({transparency:Ut,optionalContentConfig:Ot}),Xt.operatorListChanged()}).catch(zt),Kt}},{key:"getOperatorList",value:function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=et.intent,ut=tt===void 0?"display":tt,pt=et.annotationMode,yt=pt===void 0?_util.AnnotationMode.ENABLE:pt;function ct(){lt.operatorList.lastChunk&&(lt.opListReadCapability.resolve(lt.operatorList),lt.renderTasks.delete(ft))}var rt=this._transport.getRenderingIntent(ut,yt,!0),lt=this._intentStates.get(rt.cacheKey);lt||(lt=Object.create(null),this._intentStates.set(rt.cacheKey,lt));var ft;if(!lt.opListReadCapability){var it;ft=Object.create(null),ft.operatorListChanged=ct,lt.opListReadCapability=(0,_util.createPromiseCapability)(),((it=lt).renderTasks||(it.renderTasks=new Set)).add(ft),lt.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(rt)}return lt.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=et.normalizeWhitespace,ut=tt===void 0?!1:tt,pt=et.disableCombineTextItems,yt=pt===void 0?!1:pt,ct=et.includeMarkedContent,rt=ct===void 0?!1:ct,lt=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:ut===!0,combineTextItems:yt!==!0,includeMarkedContent:rt===!0},{highWaterMark:lt,size:function(it){return it.items.length}})}},{key:"getTextContent",value:function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(function(ut){return _xfa_text.XfaText.textContent(ut)});var tt=this.streamTextContent(et);return new Promise(function(ut,pt){function yt(){ct.read().then(function(lt){var ft,it=lt.value,at=lt.done;if(at){ut(rt);return}Object.assign(rt.styles,it.styles),(ft=rt.items).push.apply(ft,_toConsumableArray(it.items)),yt()},pt)}var ct=tt.getReader(),rt={items:[],styles:Object.create(null)};yt()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var et=[],tt=_createForOfIteratorHelper(this._intentStates.values()),ut;try{for(tt.s();!(ut=tt.n()).done;){var pt=ut.value;if(this._abortOperatorList({intentState:pt,reason:new Error("Page was destroyed."),force:!0}),!pt.opListReadCapability){var yt=_createForOfIteratorHelper(pt.renderTasks),ct;try{for(yt.s();!(ct=yt.n()).done;){var rt=ct.value;et.push(rt.completed),rt.cancel()}}catch(lt){yt.e(lt)}finally{yt.f()}}}}catch(lt){tt.e(lt)}finally{tt.f()}return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(et)}},{key:"cleanup",value:function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(et)}},{key:"_tryCleanup",value:function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;var tt=_createForOfIteratorHelper(this._intentStates.values()),ut;try{for(tt.s();!(ut=tt.n()).done;){var pt=ut.value,yt=pt.renderTasks,ct=pt.operatorList;if(yt.size>0||!ct.lastChunk)return!1}}catch(rt){tt.e(rt)}finally{tt.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,et&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(et,tt){var ut=this._intentStates.get(tt);!ut||(this._stats&&this._stats.timeEnd("Page Request"),ut.displayReadyCapability&&ut.displayReadyCapability.resolve(et))}},{key:"_renderPageChunk",value:function(et,tt){for(var ut=0,pt=et.length;ut<pt;ut++)tt.operatorList.fnArray.push(et.fnArray[ut]),tt.operatorList.argsArray.push(et.argsArray[ut]);tt.operatorList.lastChunk=et.lastChunk;var yt=_createForOfIteratorHelper(tt.renderTasks),ct;try{for(yt.s();!(ct=yt.n()).done;){var rt=ct.value;rt.operatorListChanged()}}catch(lt){yt.e(lt)}finally{yt.f()}et.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(et){var tt=this,ut=et.renderingIntent,pt=et.cacheKey,yt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ut,cacheKey:pt,annotationStorage:ut&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}),ct=yt.getReader(),rt=this._intentStates.get(pt);rt.streamReader=ct;var lt=function ft(){ct.read().then(function(it){var at=it.value,nt=it.done;if(nt){rt.streamReader=null;return}tt._transport.destroyed||(tt._renderPageChunk(at,rt),ft())},function(it){if(rt.streamReader=null,!tt._transport.destroyed){if(rt.operatorList){rt.operatorList.lastChunk=!0;var at=_createForOfIteratorHelper(rt.renderTasks),nt;try{for(at.s();!(nt=at.n()).done;){var ot=nt.value;ot.operatorListChanged()}}catch(ht){at.e(ht)}finally{at.f()}tt._tryCleanup()}if(rt.displayReadyCapability)rt.displayReadyCapability.reject(it);else if(rt.opListReadCapability)rt.opListReadCapability.reject(it);else throw it}})};lt()}},{key:"_abortOperatorList",value:function(et){var tt=this,ut=et.intentState,pt=et.reason,yt=et.force,ct=yt===void 0?!1:yt;if(!!ut.streamReader){if(!ct){if(ut.renderTasks.size>0)return;if(pt instanceof _display_utils.RenderingCancelledException){ut.streamReaderCancelTimeout=setTimeout(function(){tt._abortOperatorList({intentState:ut,reason:pt,force:!0}),ut.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(ut.streamReader.cancel(new _util.AbortException(pt.message)).catch(function(){}),ut.streamReader=null,!this._transport.destroyed){var rt=_createForOfIteratorHelper(this._intentStates),lt;try{for(rt.s();!(lt=rt.n()).done;){var ft=_slicedToArray(lt.value,2),it=ft[0],at=ft[1];if(at===ut){this._intentStates.delete(it);break}}}catch(nt){rt.e(nt)}finally{rt.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),$}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function $(){_classCallCheck(this,$),this._listeners=[],this._deferred=Promise.resolve()}return _createClass($,[{key:"postMessage",value:function(et,tt){var ut=this;function pt(ct){if(globalThis.structuredClone)return globalThis.structuredClone(ct,tt);function rt(ft){if(typeof ft=="function"||_typeof(ft)==="symbol"||ft instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(ft==null?void 0:ft.toString()));if(_typeof(ft)!=="object"||ft===null)return ft;if(lt.has(ft))return lt.get(ft);var it,at;if((it=ft.buffer)&&(0,_util.isArrayBuffer)(it))return tt!=null&&tt.includes(it)?at=new ft.constructor(it,ft.byteOffset,ft.byteLength):at=new ft.constructor(ft),lt.set(ft,at),at;if(ft instanceof Map){at=new Map,lt.set(ft,at);var nt=_createForOfIteratorHelper(ft),ot;try{for(nt.s();!(ot=nt.n()).done;){var ht=_slicedToArray(ot.value,2),st=ht[0],dt=ht[1];at.set(st,rt(dt))}}catch(Tt){nt.e(Tt)}finally{nt.f()}return at}if(ft instanceof Set){at=new Set,lt.set(ft,at);var vt=_createForOfIteratorHelper(ft),mt;try{for(vt.s();!(mt=vt.n()).done;){var gt=mt.value;at.add(rt(gt))}}catch(Tt){vt.e(Tt)}finally{vt.f()}return at}at=Array.isArray(ft)?[]:Object.create(null),lt.set(ft,at);for(var bt in ft){for(var _t,Ct=void 0,xt=ft;!(Ct=Object.getOwnPropertyDescriptor(xt,bt));)xt=Object.getPrototypeOf(xt);typeof Ct.value!="undefined"&&(typeof Ct.value=="function"&&!((_t=ft.hasOwnProperty)!==null&&_t!==void 0&&_t.call(ft,bt))||(at[bt]=rt(Ct.value)))}return at}var lt=new WeakMap;return rt(ct)}var yt={data:pt(et)};this._deferred.then(function(){var ct=_createForOfIteratorHelper(ut._listeners),rt;try{for(ct.s();!(rt=ct.n()).done;){var lt=rt.value;lt.call(ut,yt)}}catch(ft){ct.e(ft)}finally{ct.f()}})}},{key:"addEventListener",value:function(et,tt){this._listeners.push(tt)}},{key:"removeEventListener",value:function(et,tt){var ut=this._listeners.indexOf(tt);this._listeners.splice(ut,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),$}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if((typeof document=="undefined"?"undefined":_typeof(document))==="object"){var _document,_document$currentScri,pdfjsFilePath=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function($){var _e='importScripts("'.concat($,'");');return URL.createObjectURL(new Blob([_e]))}}var PDFWorker=function(){function PDFWorker(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=$.name,et=_e===void 0?null:_e,tt=$.port,ut=tt===void 0?null:tt,pt=$.verbosity,yt=pt===void 0?(0,_util.getVerbosityLevel)():pt;if(_classCallCheck(this,PDFWorker),ut&&PDFWorker._workerPorts.has(ut))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=et,this.destroyed=!1,this.verbosity=yt,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,ut){PDFWorker._workerPorts.set(ut,this),this._initializeFromPort(ut);return}this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(_e){this._port=_e,this._messageHandler=new _message_handler.MessageHandler("main","worker",_e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var _e=this;if(typeof Worker!="undefined"&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var et=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,et)||(et=PDFWorkerUtil.createCDNWrapper(new URL(et,window.location).href));var tt=new Worker(et),ut=new _message_handler.MessageHandler("main","worker",tt),pt=function(){tt.removeEventListener("error",yt),ut.destroy(),tt.terminate(),_e.destroyed?_e._readyCapability.reject(new Error("Worker was destroyed")):_e._setupFakeWorker()},yt=function(){_e._webWorker||pt()};tt.addEventListener("error",yt),ut.on("test",function(rt){if(tt.removeEventListener("error",yt),_e.destroyed){pt();return}rt?(_e._messageHandler=ut,_e._port=tt,_e._webWorker=tt,_e._readyCapability.resolve(),ut.send("configure",{verbosity:_e.verbosity})):(_e._setupFakeWorker(),ut.destroy(),tt.terminate())}),ut.on("ready",function(rt){if(tt.removeEventListener("error",yt),_e.destroyed){pt();return}try{ct()}catch{_e._setupFakeWorker()}});var ct=function(){var lt=new Uint8Array([255]);try{ut.send("test",lt,[lt.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),lt[0]=0,ut.send("test",lt)}};ct();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var _e=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(function(et){if(_e.destroyed){_e._readyCapability.reject(new Error("Worker was destroyed"));return}var tt=new LoopbackPort;_e._port=tt;var ut="fake".concat(PDFWorkerUtil.fakeWorkerId++),pt=new _message_handler.MessageHandler(ut+"_worker",ut,tt);et.setup(pt,tt);var yt=new _message_handler.MessageHandler(ut,ut+"_worker",tt);_e._messageHandler=yt,_e._readyCapability.resolve(),yt.send("configure",{verbosity:_e.verbosity})}).catch(function(et){_e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(et.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"_workerPorts",get:function(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function(_e){if(!(_e!=null&&_e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(_e.port)?this._workerPorts.get(_e.port):new PDFWorker(_e)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var _e;return((_e=globalThis.pdfjsWorker)===null||_e===void 0?void 0:_e.WorkerMessageHandler)||null}catch{return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this11=this,loader=function(){var _ref15=_asyncToGenerator(_regenerator.default.mark(function _callee4(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(mainWorkerMessageHandler=_this11._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context4.next=3;break}return _context4.abrupt("return",mainWorkerMessageHandler);case 3:if(!(_is_node.isNodeJS&&typeof commonjsRequire=="function")){_context4.next=6;break}return worker=eval("require")(_this11.workerSrc),_context4.abrupt("return",worker.WorkerMessageHandler);case 6:return _context4.next=8,(0,_display_utils.loadScript)(_this11.workerSrc);case 8:return _context4.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context4.stop()}},_callee4)}));return function $(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap,WorkerTransport=function(){function $(_e,et,tt,ut){_classCallCheck(this,$),_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=_e,this.loadingTask=et,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:et.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:ut.ownerDocument,styleElement:ut.styleElement}),this._params=ut,ut.useWorkerFetch||(this.CMapReaderFactory=new ut.CMapReaderFactory({baseUrl:ut.cMapUrl,isCompressed:ut.cMapPacked}),this.StandardFontDataFactory=new ut.StandardFontDataFactory({baseUrl:ut.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=tt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass($,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function(){return _classPrivateFieldGet(this,_docStats)}},{key:"getRenderingIntent",value:function(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,pt=_util.RenderingIntentFlag.DISPLAY,yt="";switch(et){case"any":pt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":pt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(et))}switch(tt){case _util.AnnotationMode.DISABLE:pt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:pt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:pt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,yt=this.annotationStorage.lastModified;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(tt))}return ut&&(pt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:pt,cacheKey:"".concat(pt,"_").concat(yt)}}},{key:"destroy",value:function(){var et=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var tt=[],ut=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),pt;try{for(ut.s();!(pt=ut.n()).done;){var yt=pt.value;tt.push(yt._destroy())}}catch(rt){ut.e(rt)}finally{ut.f()}_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var ct=this.messageHandler.sendWithPromise("Terminate",null);return tt.push(ct),Promise.all(tt).then(function(){et.commonObjs.clear(),et.fontLoader.clear(),_classPrivateFieldSet(et,_metadataPromise,null),et._getFieldObjectsPromise=null,et._hasJSActionsPromise=null,et._networkStream&&et._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),et.messageHandler&&(et.messageHandler.destroy(),et.messageHandler=null),et.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var et=this,tt=this.messageHandler,ut=this.loadingTask;tt.on("GetReader",function(pt,yt){(0,_util.assert)(et._networkStream,"GetReader - no `IPDFStream` instance available."),et._fullReader=et._networkStream.getFullReader(),et._fullReader.onProgress=function(ct){et._lastProgress={loaded:ct.loaded,total:ct.total}},yt.onPull=function(){et._fullReader.read().then(function(ct){var rt=ct.value,lt=ct.done;if(lt){yt.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(rt),"GetReader - expected an ArrayBuffer."),yt.enqueue(new Uint8Array(rt),1,[rt])}).catch(function(ct){yt.error(ct)})},yt.onCancel=function(ct){et._fullReader.cancel(ct),yt.ready.catch(function(rt){if(!et.destroyed)throw rt})}}),tt.on("ReaderHeadersReady",function(pt){var yt=(0,_util.createPromiseCapability)(),ct=et._fullReader;return ct.headersReady.then(function(){if(!ct.isStreamingSupported||!ct.isRangeSupported){if(et._lastProgress){var rt;(rt=ut.onProgress)===null||rt===void 0||rt.call(ut,et._lastProgress)}ct.onProgress=function(lt){var ft;(ft=ut.onProgress)===null||ft===void 0||ft.call(ut,{loaded:lt.loaded,total:lt.total})}}yt.resolve({isStreamingSupported:ct.isStreamingSupported,isRangeSupported:ct.isRangeSupported,contentLength:ct.contentLength})},yt.reject),yt.promise}),tt.on("GetRangeReader",function(pt,yt){(0,_util.assert)(et._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var ct=et._networkStream.getRangeReader(pt.begin,pt.end);if(!ct){yt.close();return}yt.onPull=function(){ct.read().then(function(rt){var lt=rt.value,ft=rt.done;if(ft){yt.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(lt),"GetRangeReader - expected an ArrayBuffer."),yt.enqueue(new Uint8Array(lt),1,[lt])}).catch(function(rt){yt.error(rt)})},yt.onCancel=function(rt){ct.cancel(rt),yt.ready.catch(function(lt){if(!et.destroyed)throw lt})}}),tt.on("GetDoc",function(pt){var yt=pt.pdfInfo;et._numPages=yt.numPages,et._htmlForXfa=yt.htmlForXfa,delete yt.htmlForXfa,ut._capability.resolve(new PDFDocumentProxy(yt,et))}),tt.on("DocException",function(pt){var yt;switch(pt.name){case"PasswordException":yt=new _util.PasswordException(pt.message,pt.code);break;case"InvalidPDFException":yt=new _util.InvalidPDFException(pt.message);break;case"MissingPDFException":yt=new _util.MissingPDFException(pt.message);break;case"UnexpectedResponseException":yt=new _util.UnexpectedResponseException(pt.message,pt.status);break;case"UnknownErrorException":yt=new _util.UnknownErrorException(pt.message,pt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ut._capability.reject(yt)}),tt.on("PasswordRequest",function(pt){if(et._passwordCapability=(0,_util.createPromiseCapability)(),ut.onPassword){var yt=function(rt){et._passwordCapability.resolve({password:rt})};try{ut.onPassword(yt,pt.code)}catch(ct){et._passwordCapability.reject(ct)}}else et._passwordCapability.reject(new _util.PasswordException(pt.message,pt.code));return et._passwordCapability.promise}),tt.on("DataLoaded",function(pt){var yt;(yt=ut.onProgress)===null||yt===void 0||yt.call(ut,{loaded:pt.length,total:pt.length}),et.downloadInfoCapability.resolve(pt)}),tt.on("StartRenderPage",function(pt){if(!et.destroyed){var yt=_classPrivateFieldGet(et,_pageCache).get(pt.pageIndex);yt._startRenderPage(pt.transparency,pt.cacheKey)}}),tt.on("commonobj",function(pt){var yt,ct=_slicedToArray(pt,3),rt=ct[0],lt=ct[1],ft=ct[2];if(!et.destroyed&&!et.commonObjs.has(rt))switch(lt){case"Font":var it=et._params;if("error"in ft){var at=ft.error;(0,_util.warn)("Error during font loading: ".concat(at)),et.commonObjs.resolve(rt,at);break}var nt=null;it.pdfBug&&(yt=globalThis.FontInspector)!==null&&yt!==void 0&&yt.enabled&&(nt={registerFont:function(st,dt){globalThis.FontInspector.fontAdded(st,dt)}});var ot=new _font_loader.FontFaceObject(ft,{isEvalSupported:it.isEvalSupported,disableFontFace:it.disableFontFace,ignoreErrors:it.ignoreErrors,onUnsupportedFeature:et._onUnsupportedFeature.bind(et),fontRegistry:nt});et.fontLoader.bind(ot).catch(function(ht){return tt.sendWithPromise("FontFallback",{id:rt})}).finally(function(){!it.fontExtraProperties&&ot.data&&(ot.data=null),et.commonObjs.resolve(rt,ot)});break;case"FontPath":case"Image":et.commonObjs.resolve(rt,ft);break;default:throw new Error("Got unknown common object type ".concat(lt))}}),tt.on("obj",function(pt){var yt,ct=_slicedToArray(pt,4),rt=ct[0],lt=ct[1],ft=ct[2],it=ct[3];if(!et.destroyed){var at=_classPrivateFieldGet(et,_pageCache).get(lt);if(!at.objs.has(rt))switch(ft){case"Image":at.objs.resolve(rt,it);var nt=8e6;(it==null||(yt=it.data)===null||yt===void 0?void 0:yt.length)>nt&&(at.cleanupAfterRender=!0);break;case"Pattern":at.objs.resolve(rt,it);break;default:throw new Error("Got unknown object type ".concat(ft))}}}),tt.on("DocProgress",function(pt){var yt;et.destroyed||(yt=ut.onProgress)===null||yt===void 0||yt.call(ut,{loaded:pt.loaded,total:pt.total})}),tt.on("DocStats",function(pt){et.destroyed||_classPrivateFieldSet(et,_docStats,Object.freeze({streamTypes:Object.freeze(pt.streamTypes),fontTypes:Object.freeze(pt.fontTypes)}))}),tt.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),tt.on("FetchBuiltInCMap",function(pt){return et.destroyed?Promise.reject(new Error("Worker was destroyed.")):et.CMapReaderFactory?et.CMapReaderFactory.fetch(pt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),tt.on("FetchStandardFontData",function(pt){return et.destroyed?Promise.reject(new Error("Worker was destroyed.")):et.StandardFontDataFactory?et.StandardFontDataFactory.fetch(pt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(et){var tt,ut,pt=et.featureId;this.destroyed||(tt=(ut=this.loadingTask).onUnsupportedFeature)===null||tt===void 0||tt.call(ut,pt)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(et){var tt=this;if(!Number.isInteger(et)||et<=0||et>this._numPages)return Promise.reject(new Error("Invalid page request"));var ut=et-1,pt=_classPrivateFieldGet(this,_pagePromises).get(ut);if(pt)return pt;var yt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ut}).then(function(ct){if(tt.destroyed)throw new Error("Transport destroyed");var rt=new PDFPageProxy(ut,ct,tt,tt._params.ownerDocument,tt._params.pdfBug);return _classPrivateFieldGet(tt,_pageCache).set(ut,rt),rt});return _classPrivateFieldGet(this,_pagePromises).set(ut,yt),yt}},{key:"getPageIndex",value:function(et){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:et})}},{key:"getAnnotations",value:function(et,tt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:et,intent:tt})}},{key:"saveDocument",value:function(){var et,tt,ut=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(et=(tt=this._fullReader)===null||tt===void 0?void 0:tt.filename)!==null&&et!==void 0?et:null}).finally(function(){ut.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(et){return typeof et!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:et})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(et){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:et})}},{key:"getStructTree",value:function(et){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:et})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(et){return new _optional_content_config.OptionalContentConfig(et)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var et=this;return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(function(tt){var ut,pt,yt,ct;return{info:tt[0],metadata:tt[1]?new _metadata.Metadata(tt[1]):null,contentDispositionFilename:(ut=(pt=et._fullReader)===null||pt===void 0?void 0:pt.filename)!==null&&ut!==void 0?ut:null,contentLength:(yt=(ct=et._fullReader)===null||ct===void 0?void 0:ct.contentLength)!==null&&yt!==void 0?yt:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){var _e=_asyncToGenerator(_regenerator.default.mark(function tt(){var ut,pt,yt,ct,rt,lt=arguments;return _regenerator.default.wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return ut=lt.length>0&&lt[0]!==void 0?lt[0]:!1,it.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){it.next=5;break}return it.abrupt("return");case 5:pt=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),it.prev=6,pt.s();case 8:if((yt=pt.n()).done){it.next=15;break}if(ct=yt.value,rt=ct.cleanup(),rt){it.next=13;break}throw new Error("startCleanup: Page ".concat(ct.pageNumber," is currently rendering."));case 13:it.next=8;break;case 15:it.next=20;break;case 17:it.prev=17,it.t0=it.catch(6),pt.e(it.t0);case 20:return it.prev=20,pt.f(),it.finish(20);case 23:this.commonObjs.clear(),ut||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return it.stop()}},tt,this,[[6,17,20,23]])}));function et(){return _e.apply(this,arguments)}return et}()},{key:"loadingParams",get:function(){var et=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:et.disableAutoFetch,enableXfa:et.enableXfa})}}]),$}(),PDFObjects=function(){function $(){_classCallCheck(this,$),this._objs=Object.create(null)}return _createClass($,[{key:"_ensureObj",value:function(et){return this._objs[et]?this._objs[et]:this._objs[et]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(tt)return this._ensureObj(et).capability.promise.then(tt),null;var ut=this._objs[et];if(!ut||!ut.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(et,"."));return ut.data}},{key:"has",value:function(et){var tt=this._objs[et];return(tt==null?void 0:tt.resolved)||!1}},{key:"resolve",value:function(et,tt){var ut=this._ensureObj(et);ut.resolved=!0,ut.data=tt,ut.capability.resolve(tt)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),$}(),RenderTask=function(){function $(_e){_classCallCheck(this,$),this._internalRenderTask=_e,this.onContinue=null}return _createClass($,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),$}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function $(_e){var et=_e.callback,tt=_e.params,ut=_e.objs,pt=_e.commonObjs,yt=_e.annotationCanvasMap,ct=_e.operatorList,rt=_e.pageIndex,lt=_e.canvasFactory,ft=_e.useRequestAnimationFrame,it=ft===void 0?!1:ft,at=_e.pdfBug,nt=at===void 0?!1:at;_classCallCheck(this,$),this.callback=et,this.params=tt,this.objs=ut,this.commonObjs=pt,this.annotationCanvasMap=yt,this.operatorListIdx=null,this.operatorList=ct,this._pageIndex=rt,this.canvasFactory=lt,this._pdfBug=nt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=it===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=tt.canvasContext.canvas}return _createClass($,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(et){var tt,ut=et.transparency,pt=ut===void 0?!1:ut,yt=et.optionalContentConfig;if(!this.cancelled){if(this._canvas){if($.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");$.canvasInUse.add(this._canvas)}this._pdfBug&&(tt=globalThis.StepperManager)!==null&&tt!==void 0&&tt.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var ct=this.params,rt=ct.canvasContext,lt=ct.viewport,ft=ct.transform,it=ct.imageLayer,at=ct.background;this.gfx=new _canvas.CanvasGraphics(rt,this.commonObjs,this.objs,this.canvasFactory,it,yt,this.annotationCanvasMap),this.gfx.beginDrawing({transform:ft,viewport:lt,transparency:pt,background:at}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&$.canvasInUse.delete(this._canvas),this.callback(et||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var et=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){et._nextBound().catch(et._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:function(){var _e=_asyncToGenerator(_regenerator.default.mark(function tt(){return _regenerator.default.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(!this.cancelled){pt.next=2;break}return pt.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&$.canvasInUse.delete(this._canvas),this.callback()));case 4:case"end":return pt.stop()}},tt,this)}));function et(){return _e.apply(this,arguments)}return et}()}],[{key:"canvasInUse",get:function(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}}]),$}(),version="2.12.313";exports.version=version;var build="a2ae56f39";exports.build=build},($,_e,et)=>{function tt(Tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tt=function(jt){return typeof jt}:tt=function(jt){return jt&&typeof Symbol=="function"&&jt.constructor===Symbol&&jt!==Symbol.prototype?"symbol":typeof jt},tt(Tt)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.FontLoader=_e.FontFaceObject=void 0;var ut=yt(et(2)),pt=et(4);function yt(Tt){return Tt&&Tt.__esModule?Tt:{default:Tt}}function ct(Tt,Mt){if(typeof Mt!="function"&&Mt!==null)throw new TypeError("Super expression must either be null or a function");Tt.prototype=Object.create(Mt&&Mt.prototype,{constructor:{value:Tt,writable:!0,configurable:!0}}),Mt&&rt(Tt,Mt)}function rt(Tt,Mt){return rt=Object.setPrototypeOf||function(Gt,zt){return Gt.__proto__=zt,Gt},rt(Tt,Mt)}function lt(Tt){var Mt=at();return function(){var Gt=nt(Tt),zt;if(Mt){var Xt=nt(this).constructor;zt=Reflect.construct(Gt,arguments,Xt)}else zt=Gt.apply(this,arguments);return ft(this,zt)}}function ft(Tt,Mt){if(Mt&&(tt(Mt)==="object"||typeof Mt=="function"))return Mt;if(Mt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return it(Tt)}function it(Tt){if(Tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tt}function at(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nt(Tt){return nt=Object.setPrototypeOf?Object.getPrototypeOf:function(jt){return jt.__proto__||Object.getPrototypeOf(jt)},nt(Tt)}function ot(Tt,Mt,jt,Gt,zt,Xt,Kt){try{var qt=Tt[Xt](Kt),er=qt.value}catch(Ut){jt(Ut);return}qt.done?Mt(er):Promise.resolve(er).then(Gt,zt)}function ht(Tt){return function(){var Mt=this,jt=arguments;return new Promise(function(Gt,zt){var Xt=Tt.apply(Mt,jt);function Kt(er){ot(Xt,Gt,zt,Kt,qt,"next",er)}function qt(er){ot(Xt,Gt,zt,Kt,qt,"throw",er)}Kt(void 0)})}}function st(Tt,Mt){var jt=typeof Symbol!="undefined"&&Tt[Symbol.iterator]||Tt["@@iterator"];if(!jt){if(Array.isArray(Tt)||(jt=dt(Tt))||Mt&&Tt&&typeof Tt.length=="number"){jt&&(Tt=jt);var Gt=0,zt=function(){};return{s:zt,n:function(){return Gt>=Tt.length?{done:!0}:{done:!1,value:Tt[Gt++]}},e:function(Ut){throw Ut},f:zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Xt=!0,Kt=!1,qt;return{s:function(){jt=jt.call(Tt)},n:function(){var Ut=jt.next();return Xt=Ut.done,Ut},e:function(Ut){Kt=!0,qt=Ut},f:function(){try{!Xt&&jt.return!=null&&jt.return()}finally{if(Kt)throw qt}}}}function dt(Tt,Mt){if(!!Tt){if(typeof Tt=="string")return vt(Tt,Mt);var jt=Object.prototype.toString.call(Tt).slice(8,-1);if(jt==="Object"&&Tt.constructor&&(jt=Tt.constructor.name),jt==="Map"||jt==="Set")return Array.from(Tt);if(jt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(jt))return vt(Tt,Mt)}}function vt(Tt,Mt){(Mt==null||Mt>Tt.length)&&(Mt=Tt.length);for(var jt=0,Gt=new Array(Mt);jt<Mt;jt++)Gt[jt]=Tt[jt];return Gt}function mt(Tt,Mt){if(!(Tt instanceof Mt))throw new TypeError("Cannot call a class as a function")}function gt(Tt,Mt){for(var jt=0;jt<Mt.length;jt++){var Gt=Mt[jt];Gt.enumerable=Gt.enumerable||!1,Gt.configurable=!0,"value"in Gt&&(Gt.writable=!0),Object.defineProperty(Tt,Gt.key,Gt)}}function bt(Tt,Mt,jt){return Mt&&gt(Tt.prototype,Mt),jt&&gt(Tt,jt),Tt}var _t=function(){function Tt(Mt){var jt=Mt.docId,Gt=Mt.onUnsupportedFeature,zt=Mt.ownerDocument,Xt=zt===void 0?globalThis.document:zt;Mt.styleElement,mt(this,Tt),this.constructor===Tt&&(0,pt.unreachable)("Cannot initialize BaseFontLoader."),this.docId=jt,this._onUnsupportedFeature=Gt,this._document=Xt,this.nativeFontFaces=[],this.styleElement=null}return bt(Tt,[{key:"addNativeFontFace",value:function(jt){this.nativeFontFaces.push(jt),this._document.fonts.add(jt)}},{key:"insertRule",value:function(jt){var Gt=this.styleElement;Gt||(Gt=this.styleElement=this._document.createElement("style"),Gt.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(Gt));var zt=Gt.sheet;zt.insertRule(jt,zt.cssRules.length)}},{key:"clear",value:function(){var jt=st(this.nativeFontFaces),Gt;try{for(jt.s();!(Gt=jt.n()).done;){var zt=Gt.value;this._document.fonts.delete(zt)}}catch(Xt){jt.e(Xt)}finally{jt.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var Mt=ht(ut.default.mark(function Gt(zt){var Xt=this,Kt,qt;return ut.default.wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:if(!(zt.attached||zt.missingFile)){Ut.next=2;break}return Ut.abrupt("return");case 2:if(zt.attached=!0,!this.isFontLoadingAPISupported){Ut.next=19;break}if(Kt=zt.createNativeFontFace(),!Kt){Ut.next=18;break}return this.addNativeFontFace(Kt),Ut.prev=7,Ut.next=10,Kt.loaded;case 10:Ut.next=18;break;case 12:throw Ut.prev=12,Ut.t0=Ut.catch(7),this._onUnsupportedFeature({featureId:pt.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,pt.warn)("Failed to load font '".concat(Kt.family,"': '").concat(Ut.t0,"'.")),zt.disableFontFace=!0,Ut.t0;case 18:return Ut.abrupt("return");case 19:if(qt=zt.createFontFaceRule(),!qt){Ut.next=26;break}if(this.insertRule(qt),!this.isSyncFontLoadingSupported){Ut.next=24;break}return Ut.abrupt("return");case 24:return Ut.next=26,new Promise(function(Ot){var Et=Xt._queueLoadingCallback(Ot);Xt._prepareFontLoadEvent([qt],[zt],Et)});case 26:case"end":return Ut.stop()}},Gt,this,[[7,12]])}));function jt(Gt){return Mt.apply(this,arguments)}return jt}()},{key:"_queueLoadingCallback",value:function(jt){(0,pt.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var jt,Gt=!!((jt=this._document)!==null&&jt!==void 0&&jt.fonts);return(0,pt.shadow)(this,"isFontLoadingAPISupported",Gt)}},{key:"isSyncFontLoadingSupported",get:function(){(0,pt.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,pt.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(jt,Gt,zt){(0,pt.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),Tt}(),Ct;_e.FontLoader=Ct,_e.FontLoader=Ct=function(Tt){ct(jt,Tt);var Mt=lt(jt);function jt(Gt){var zt;return mt(this,jt),zt=Mt.call(this,Gt),zt.loadingContext={requests:[],nextRequestId:0},zt.loadTestFontId=0,zt}return bt(jt,[{key:"isSyncFontLoadingSupported",get:function(){var zt=!1;if(typeof navigator=="undefined")zt=!0;else{var Xt=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(Xt==null?void 0:Xt[1])>=14&&(zt=!0)}return(0,pt.shadow)(this,"isSyncFontLoadingSupported",zt)}},{key:"_queueLoadingCallback",value:function(zt){function Xt(){for((0,pt.assert)(!qt.done,"completeRequest() cannot be called twice."),qt.done=!0;Kt.requests.length>0&&Kt.requests[0].done;){var er=Kt.requests.shift();setTimeout(er.callback,0)}}var Kt=this.loadingContext,qt={id:"pdfjs-font-loading-".concat(Kt.nextRequestId++),done:!1,complete:Xt,callback:zt};return Kt.requests.push(qt),qt}},{key:"_loadTestFont",get:function(){var zt=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,pt.shadow)(this,"_loadTestFont",zt())}},{key:"_prepareFontLoadEvent",value:function(zt,Xt,Kt){function qt(cr,or){return cr.charCodeAt(or)<<24|cr.charCodeAt(or+1)<<16|cr.charCodeAt(or+2)<<8|cr.charCodeAt(or+3)&255}function er(cr,or,br,Cr){var Ar=cr.substring(0,or),kr=cr.substring(or+br);return Ar+Cr+kr}var Ut,Ot,Et=this._document.createElement("canvas");Et.width=1,Et.height=1;var wt=Et.getContext("2d"),Pt=0;function Lt(cr,or){if(Pt++,Pt>30){(0,pt.warn)("Load test font never loaded."),or();return}wt.font="30px "+cr,wt.fillText(".",0,20);var br=wt.getImageData(0,0,1,1);if(br.data[3]>0){or();return}setTimeout(Lt.bind(null,cr,or))}var Dt="lt".concat(Date.now()).concat(this.loadTestFontId++),It=this._loadTestFont,Nt=976;It=er(It,Nt,Dt.length,Dt);var Jt=16,sr=1482184792,lr=qt(It,Jt);for(Ut=0,Ot=Dt.length-3;Ut<Ot;Ut+=4)lr=lr-sr+qt(Dt,Ut)|0;Ut<Dt.length&&(lr=lr-sr+qt(Dt+"XXX",Ut)|0),It=er(It,Jt,4,(0,pt.string32)(lr));var Ht="url(data:font/opentype;base64,".concat(btoa(It),");"),Bt='@font-face {font-family:"'.concat(Dt,'";src:').concat(Ht,"}");this.insertRule(Bt);var Ft=[],At=st(Xt),Rt;try{for(At.s();!(Rt=At.n()).done;){var $t=Rt.value;Ft.push($t.loadedName)}}catch(cr){At.e(cr)}finally{At.f()}Ft.push(Dt);var Wt=this._document.createElement("div");Wt.style.visibility="hidden",Wt.style.width=Wt.style.height="10px",Wt.style.position="absolute",Wt.style.top=Wt.style.left="0px";for(var Vt=0,Zt=Ft;Vt<Zt.length;Vt++){var ir=Zt[Vt],vr=this._document.createElement("span");vr.textContent="Hi",vr.style.fontFamily=ir,Wt.appendChild(vr)}this._document.body.appendChild(Wt),Lt(Dt,function(){Wt.remove(),Kt.complete()})}}]),jt}(_t);var xt=function(){function Tt(Mt,jt){var Gt=jt.isEvalSupported,zt=Gt===void 0?!0:Gt,Xt=jt.disableFontFace,Kt=Xt===void 0?!1:Xt,qt=jt.ignoreErrors,er=qt===void 0?!1:qt,Ut=jt.onUnsupportedFeature,Ot=jt.fontRegistry,Et=Ot===void 0?null:Ot;mt(this,Tt),this.compiledGlyphs=Object.create(null);for(var wt in Mt)this[wt]=Mt[wt];this.isEvalSupported=zt!==!1,this.disableFontFace=Kt===!0,this.ignoreErrors=er===!0,this._onUnsupportedFeature=Ut,this.fontRegistry=Et}return bt(Tt,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var jt;if(!this.cssFontInfo)jt=new FontFace(this.loadedName,this.data,{});else{var Gt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(Gt.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),jt=new FontFace(this.cssFontInfo.fontFamily,this.data,Gt)}return this.fontRegistry&&this.fontRegistry.registerFont(this),jt}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var jt=(0,pt.bytesToString)(this.data),Gt="url(data:".concat(this.mimetype,";base64,").concat(btoa(jt),");"),zt;if(!this.cssFontInfo)zt='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(Gt,"}");else{var Xt="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(Xt+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),zt='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(Xt,"src:").concat(Gt,"}")}return this.fontRegistry&&this.fontRegistry.registerFont(this,Gt),zt}},{key:"getPathGenerator",value:function(jt,Gt){if(this.compiledGlyphs[Gt]!==void 0)return this.compiledGlyphs[Gt];var zt;try{zt=jt.get(this.loadedName+"_path_"+Gt)}catch(Ot){if(!this.ignoreErrors)throw Ot;return this._onUnsupportedFeature({featureId:pt.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,pt.warn)('getPathGenerator - ignoring character: "'.concat(Ot,'".')),this.compiledGlyphs[Gt]=function(Et,wt){}}if(this.isEvalSupported&&pt.IsEvalSupportedCached.value){var Xt=[],Kt=st(zt),qt;try{for(Kt.s();!(qt=Kt.n()).done;){var er=qt.value,Ut=er.args!==void 0?er.args.join(","):"";Xt.push("c.",er.cmd,"(",Ut,`);
`)}}catch(Ot){Kt.e(Ot)}finally{Kt.f()}return this.compiledGlyphs[Gt]=new Function("c","size",Xt.join(""))}return this.compiledGlyphs[Gt]=function(Ot,Et){var wt=st(zt),Pt;try{for(wt.s();!(Pt=wt.n()).done;){var Lt=Pt.value;Lt.cmd==="scale"&&(Lt.args=[Et,-Et]),Ot[Lt.cmd].apply(Ot,Lt.args)}}catch(Dt){wt.e(Dt)}finally{wt.f()}}}}]),Tt}();_e.FontFaceObject=xt},($,_e,et)=>{function tt(bt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tt=function(Ct){return typeof Ct}:tt=function(Ct){return Ct&&typeof Symbol=="function"&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct},tt(bt)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.NodeStandardFontDataFactory=_e.NodeCanvasFactory=_e.NodeCMapReaderFactory=void 0;var ut=et(135),pt=et(6),yt=et(4);function ct(bt,_t){for(var Ct=0;Ct<_t.length;Ct++){var xt=_t[Ct];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(bt,xt.key,xt)}}function rt(bt,_t,Ct){return _t&&ct(bt.prototype,_t),Ct&&ct(bt,Ct),bt}function lt(bt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function");bt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:bt,writable:!0,configurable:!0}}),_t&&ft(bt,_t)}function ft(bt,_t){return ft=Object.setPrototypeOf||function(xt,Tt){return xt.__proto__=Tt,xt},ft(bt,_t)}function it(bt){var _t=ot();return function(){var xt=ht(bt),Tt;if(_t){var Mt=ht(this).constructor;Tt=Reflect.construct(xt,arguments,Mt)}else Tt=xt.apply(this,arguments);return at(this,Tt)}}function at(bt,_t){if(_t&&(tt(_t)==="object"||typeof _t=="function"))return _t;if(_t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nt(bt)}function nt(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}function ot(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ht(bt){return ht=Object.setPrototypeOf?Object.getPrototypeOf:function(Ct){return Ct.__proto__||Object.getPrototypeOf(Ct)},ht(bt)}function st(bt,_t){if(!(bt instanceof _t))throw new TypeError("Cannot call a class as a function")}var dt=function bt(){st(this,bt),(0,yt.unreachable)("Not implemented: NodeCanvasFactory")};_e.NodeCanvasFactory=dt;var vt=function bt(){st(this,bt),(0,yt.unreachable)("Not implemented: NodeCMapReaderFactory")};_e.NodeCMapReaderFactory=vt;var mt=function bt(){st(this,bt),(0,yt.unreachable)("Not implemented: NodeStandardFontDataFactory")};if(_e.NodeStandardFontDataFactory=mt,pt.isNodeJS){var gt=function(_t){return new Promise(function(Ct,xt){var Tt=require$$2;Tt.readFile(_t,function(Mt,jt){if(Mt||!jt){xt(new Error(Mt));return}Ct(new Uint8Array(jt))})})};_e.NodeCanvasFactory=dt=function(bt){lt(Ct,bt);var _t=it(Ct);function Ct(){return st(this,Ct),_t.apply(this,arguments)}return rt(Ct,[{key:"_createCanvas",value:function(Tt,Mt){var jt=require$$2;return jt.createCanvas(Tt,Mt)}}]),Ct}(ut.BaseCanvasFactory),_e.NodeCMapReaderFactory=vt=function(bt){lt(Ct,bt);var _t=it(Ct);function Ct(){return st(this,Ct),_t.apply(this,arguments)}return rt(Ct,[{key:"_fetchData",value:function(Tt,Mt){return gt(Tt).then(function(jt){return{cMapData:jt,compressionType:Mt}})}}]),Ct}(ut.BaseCMapReaderFactory),_e.NodeStandardFontDataFactory=mt=function(bt){lt(Ct,bt);var _t=it(Ct);function Ct(){return st(this,Ct),_t.apply(this,arguments)}return rt(Ct,[{key:"_fetchData",value:function(Tt){return gt(Tt)}}]),Ct}(ut.BaseStandardFontDataFactory)}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationStorage=void 0;var tt=et(4);function ut(ot,ht){return lt(ot)||rt(ot,ht)||yt(ot,ht)||pt()}function pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yt(ot,ht){if(!!ot){if(typeof ot=="string")return ct(ot,ht);var st=Object.prototype.toString.call(ot).slice(8,-1);if(st==="Object"&&ot.constructor&&(st=ot.constructor.name),st==="Map"||st==="Set")return Array.from(ot);if(st==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(st))return ct(ot,ht)}}function ct(ot,ht){(ht==null||ht>ot.length)&&(ht=ot.length);for(var st=0,dt=new Array(ht);st<ht;st++)dt[st]=ot[st];return dt}function rt(ot,ht){var st=ot==null?null:typeof Symbol!="undefined"&&ot[Symbol.iterator]||ot["@@iterator"];if(st!=null){var dt=[],vt=!0,mt=!1,gt,bt;try{for(st=st.call(ot);!(vt=(gt=st.next()).done)&&(dt.push(gt.value),!(ht&&dt.length===ht));vt=!0);}catch(_t){mt=!0,bt=_t}finally{try{!vt&&st.return!=null&&st.return()}finally{if(mt)throw bt}}return dt}}function lt(ot){if(Array.isArray(ot))return ot}function ft(ot,ht){if(!(ot instanceof ht))throw new TypeError("Cannot call a class as a function")}function it(ot,ht){for(var st=0;st<ht.length;st++){var dt=ht[st];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(ot,dt.key,dt)}}function at(ot,ht,st){return ht&&it(ot.prototype,ht),st&&it(ot,st),ot}var nt=function(){function ot(){ft(this,ot),this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}return at(ot,[{key:"getValue",value:function(st,dt){var vt=this._storage.get(st);return vt===void 0?dt:Object.assign(dt,vt)}},{key:"setValue",value:function(st,dt){var vt=this._storage.get(st),mt=!1;if(vt!==void 0)for(var gt=0,bt=Object.entries(dt);gt<bt.length;gt++){var _t=ut(bt[gt],2),Ct=_t[0],xt=_t[1];vt[Ct]!==xt&&(mt=!0,vt[Ct]=xt)}else mt=!0,this._storage.set(st,dt);mt&&(this._timeStamp=Date.now(),this._setModified())}},{key:"getAll",value:function(){return this._storage.size>0?(0,tt.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function(){return this._timeStamp.toString()}}]),ot}();_e.AnnotationStorage=nt},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.CanvasGraphics=void 0;var tt=et(4),ut=et(141),pt=et(1);function yt(Ht){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yt=function(Ft){return typeof Ft}:yt=function(Ft){return Ft&&typeof Symbol=="function"&&Ft.constructor===Symbol&&Ft!==Symbol.prototype?"symbol":typeof Ft},yt(Ht)}function ct(Ht,Bt){var Ft=typeof Symbol!="undefined"&&Ht[Symbol.iterator]||Ht["@@iterator"];if(!Ft){if(Array.isArray(Ht)||(Ft=nt(Ht))||Bt&&Ht&&typeof Ht.length=="number"){Ft&&(Ht=Ft);var At=0,Rt=function(){};return{s:Rt,n:function(){return At>=Ht.length?{done:!0}:{done:!1,value:Ht[At++]}},e:function(ir){throw ir},f:Rt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $t=!0,Wt=!1,Vt;return{s:function(){Ft=Ft.call(Ht)},n:function(){var ir=Ft.next();return $t=ir.done,ir},e:function(ir){Wt=!0,Vt=ir},f:function(){try{!$t&&Ft.return!=null&&Ft.return()}finally{if(Wt)throw Vt}}}}function rt(Ht,Bt){if(!(Ht instanceof Bt))throw new TypeError("Cannot call a class as a function")}function lt(Ht,Bt){for(var Ft=0;Ft<Bt.length;Ft++){var At=Bt[Ft];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(Ht,At.key,At)}}function ft(Ht,Bt,Ft){return Bt&&lt(Ht.prototype,Bt),Ft&&lt(Ht,Ft),Ht}function it(Ht,Bt){return st(Ht)||ht(Ht,Bt)||nt(Ht,Bt)||at()}function at(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nt(Ht,Bt){if(!!Ht){if(typeof Ht=="string")return ot(Ht,Bt);var Ft=Object.prototype.toString.call(Ht).slice(8,-1);if(Ft==="Object"&&Ht.constructor&&(Ft=Ht.constructor.name),Ft==="Map"||Ft==="Set")return Array.from(Ht);if(Ft==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ft))return ot(Ht,Bt)}}function ot(Ht,Bt){(Bt==null||Bt>Ht.length)&&(Bt=Ht.length);for(var Ft=0,At=new Array(Bt);Ft<Bt;Ft++)At[Ft]=Ht[Ft];return At}function ht(Ht,Bt){var Ft=Ht==null?null:typeof Symbol!="undefined"&&Ht[Symbol.iterator]||Ht["@@iterator"];if(Ft!=null){var At=[],Rt=!0,$t=!1,Wt,Vt;try{for(Ft=Ft.call(Ht);!(Rt=(Wt=Ft.next()).done)&&(At.push(Wt.value),!(Bt&&At.length===Bt));Rt=!0);}catch(Zt){$t=!0,Vt=Zt}finally{try{!Rt&&Ft.return!=null&&Ft.return()}finally{if($t)throw Vt}}return At}}function st(Ht){if(Array.isArray(Ht))return Ht}var dt=16,vt=100,mt=4096,gt=15,bt=10,_t=1e3,Ct=16,xt=1.000001;function Tt(Ht,Bt){if(Ht._removeMirroring)throw new Error("Context is already forwarding operations.");Ht.__originalSave=Ht.save,Ht.__originalRestore=Ht.restore,Ht.__originalRotate=Ht.rotate,Ht.__originalScale=Ht.scale,Ht.__originalTranslate=Ht.translate,Ht.__originalTransform=Ht.transform,Ht.__originalSetTransform=Ht.setTransform,Ht.__originalResetTransform=Ht.resetTransform,Ht.__originalClip=Ht.clip,Ht.__originalMoveTo=Ht.moveTo,Ht.__originalLineTo=Ht.lineTo,Ht.__originalBezierCurveTo=Ht.bezierCurveTo,Ht.__originalRect=Ht.rect,Ht.__originalClosePath=Ht.closePath,Ht.__originalBeginPath=Ht.beginPath,Ht._removeMirroring=function(){Ht.save=Ht.__originalSave,Ht.restore=Ht.__originalRestore,Ht.rotate=Ht.__originalRotate,Ht.scale=Ht.__originalScale,Ht.translate=Ht.__originalTranslate,Ht.transform=Ht.__originalTransform,Ht.setTransform=Ht.__originalSetTransform,Ht.resetTransform=Ht.__originalResetTransform,Ht.clip=Ht.__originalClip,Ht.moveTo=Ht.__originalMoveTo,Ht.lineTo=Ht.__originalLineTo,Ht.bezierCurveTo=Ht.__originalBezierCurveTo,Ht.rect=Ht.__originalRect,Ht.closePath=Ht.__originalClosePath,Ht.beginPath=Ht.__originalBeginPath,delete Ht._removeMirroring},Ht.save=function(){Bt.save(),this.__originalSave()},Ht.restore=function(){Bt.restore(),this.__originalRestore()},Ht.translate=function(At,Rt){Bt.translate(At,Rt),this.__originalTranslate(At,Rt)},Ht.scale=function(At,Rt){Bt.scale(At,Rt),this.__originalScale(At,Rt)},Ht.transform=function(At,Rt,$t,Wt,Vt,Zt){Bt.transform(At,Rt,$t,Wt,Vt,Zt),this.__originalTransform(At,Rt,$t,Wt,Vt,Zt)},Ht.setTransform=function(At,Rt,$t,Wt,Vt,Zt){Bt.setTransform(At,Rt,$t,Wt,Vt,Zt),this.__originalSetTransform(At,Rt,$t,Wt,Vt,Zt)},Ht.resetTransform=function(){Bt.resetTransform(),this.__originalResetTransform()},Ht.rotate=function(At){Bt.rotate(At),this.__originalRotate(At)},Ht.clip=function(At){Bt.clip(At),this.__originalClip(At)},Ht.moveTo=function(Ft,At){Bt.moveTo(Ft,At),this.__originalMoveTo(Ft,At)},Ht.lineTo=function(Ft,At){Bt.lineTo(Ft,At),this.__originalLineTo(Ft,At)},Ht.bezierCurveTo=function(Ft,At,Rt,$t,Wt,Vt){Bt.bezierCurveTo(Ft,At,Rt,$t,Wt,Vt),this.__originalBezierCurveTo(Ft,At,Rt,$t,Wt,Vt)},Ht.rect=function(Ft,At,Rt,$t){Bt.rect(Ft,At,Rt,$t),this.__originalRect(Ft,At,Rt,$t)},Ht.closePath=function(){Bt.closePath(),this.__originalClosePath()},Ht.beginPath=function(){Bt.beginPath(),this.__originalBeginPath()}}function Mt(Ht){if(!Ht.mozCurrentTransform){Ht._originalSave=Ht.save,Ht._originalRestore=Ht.restore,Ht._originalRotate=Ht.rotate,Ht._originalScale=Ht.scale,Ht._originalTranslate=Ht.translate,Ht._originalTransform=Ht.transform,Ht._originalSetTransform=Ht.setTransform,Ht._originalResetTransform=Ht.resetTransform,Ht._transformMatrix=Ht._transformMatrix||[1,0,0,1,0,0],Ht._transformStack=[];try{var Bt=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Ht),"lineWidth");Ht._setLineWidth=Bt.set,Ht._getLineWidth=Bt.get,Object.defineProperty(Ht,"lineWidth",{set:function(At){this._setLineWidth(At*xt)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(Ht,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(Ht,"mozCurrentTransformInverse",{get:function(){var At=it(this._transformMatrix,6),Rt=At[0],$t=At[1],Wt=At[2],Vt=At[3],Zt=At[4],ir=At[5],vr=Rt*Vt-$t*Wt,cr=$t*Wt-Rt*Vt;return[Vt/vr,$t/cr,Wt/cr,Rt/vr,(Vt*Zt-Wt*ir)/cr,($t*Zt-Rt*ir)/vr]}}),Ht.save=function(){var At=this._transformMatrix;this._transformStack.push(At),this._transformMatrix=At.slice(0,6),this._originalSave()},Ht.restore=function(){var At=this._transformStack.pop();At&&(this._transformMatrix=At,this._originalRestore())},Ht.translate=function(At,Rt){var $t=this._transformMatrix;$t[4]=$t[0]*At+$t[2]*Rt+$t[4],$t[5]=$t[1]*At+$t[3]*Rt+$t[5],this._originalTranslate(At,Rt)},Ht.scale=function(At,Rt){var $t=this._transformMatrix;$t[0]*=At,$t[1]*=At,$t[2]*=Rt,$t[3]*=Rt,this._originalScale(At,Rt)},Ht.transform=function(At,Rt,$t,Wt,Vt,Zt){var ir=this._transformMatrix;this._transformMatrix=[ir[0]*At+ir[2]*Rt,ir[1]*At+ir[3]*Rt,ir[0]*$t+ir[2]*Wt,ir[1]*$t+ir[3]*Wt,ir[0]*Vt+ir[2]*Zt+ir[4],ir[1]*Vt+ir[3]*Zt+ir[5]],Ht._originalTransform(At,Rt,$t,Wt,Vt,Zt)},Ht.setTransform=function(At,Rt,$t,Wt,Vt,Zt){this._transformMatrix=[At,Rt,$t,Wt,Vt,Zt],Ht._originalSetTransform(At,Rt,$t,Wt,Vt,Zt)},Ht.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],Ht._originalResetTransform()},Ht.rotate=function(At){var Rt=Math.cos(At),$t=Math.sin(At),Wt=this._transformMatrix;this._transformMatrix=[Wt[0]*Rt+Wt[2]*$t,Wt[1]*Rt+Wt[3]*$t,Wt[0]*-$t+Wt[2]*Rt,Wt[1]*-$t+Wt[3]*Rt,Wt[4],Wt[5]],this._originalRotate(At)}}}var jt=function(){function Ht(Bt){rt(this,Ht),this.canvasFactory=Bt,this.cache=Object.create(null)}return ft(Ht,[{key:"getCanvas",value:function(Ft,At,Rt,$t){var Wt;return this.cache[Ft]!==void 0?(Wt=this.cache[Ft],this.canvasFactory.reset(Wt,At,Rt),Wt.context.setTransform(1,0,0,1,0,0)):(Wt=this.canvasFactory.create(At,Rt),this.cache[Ft]=Wt),$t&&Mt(Wt.context),Wt}},{key:"clear",value:function(){for(var Ft in this.cache){var At=this.cache[Ft];this.canvasFactory.destroy(At),delete this.cache[Ft]}}}]),Ht}();function Gt(Ht){var Bt=1e3,Ft=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),At=Ht.width,Rt=Ht.height,$t=At+1,Wt,Vt,Zt,ir,vr=new Uint8Array($t*(Rt+1)),cr=At+7&-8,or=Ht.data,br=new Uint8Array(cr*Rt),Cr=0;for(Wt=0,Vt=or.length;Wt<Vt;Wt++)for(var Ar=or[Wt],kr=128;kr>0;)br[Cr++]=Ar&kr?0:255,kr>>=1;var Or=0;for(Cr=0,br[Cr]!==0&&(vr[0]=1,++Or),Zt=1;Zt<At;Zt++)br[Cr]!==br[Cr+1]&&(vr[Zt]=br[Cr]?2:1,++Or),Cr++;for(br[Cr]!==0&&(vr[Zt]=2,++Or),Wt=1;Wt<Rt;Wt++){Cr=Wt*cr,ir=Wt*$t,br[Cr-cr]!==br[Cr]&&(vr[ir]=br[Cr]?1:8,++Or);var Lr=(br[Cr]?4:0)+(br[Cr-cr]?8:0);for(Zt=1;Zt<At;Zt++)Lr=(Lr>>2)+(br[Cr+1]?4:0)+(br[Cr-cr+1]?8:0),Ft[Lr]&&(vr[ir+Zt]=Ft[Lr],++Or),Cr++;if(br[Cr-cr]!==br[Cr]&&(vr[ir+Zt]=br[Cr]?2:4,++Or),Or>Bt)return null}for(Cr=cr*(Rt-1),ir=Wt*$t,br[Cr]!==0&&(vr[ir]=8,++Or),Zt=1;Zt<At;Zt++)br[Cr]!==br[Cr+1]&&(vr[ir+Zt]=br[Cr]?4:8,++Or),Cr++;if(br[Cr]!==0&&(vr[ir+Zt]=4,++Or),Or>Bt)return null;var dr=new Int32Array([0,$t,-1,0,-$t,0,0,0,1]),mr=[];for(Wt=0;Or&&Wt<=Rt;Wt++){for(var Qt=Wt*$t,nr=Qt+At;Qt<nr&&!vr[Qt];)Qt++;if(Qt!==nr){var tr=[Qt%$t,Wt],fr=Qt,ar=vr[Qt];do{var rr=dr[ar];do Qt+=rr;while(!vr[Qt]);var yr=vr[Qt];yr!==5&&yr!==10?(ar=yr,vr[Qt]=0):(ar=yr&51*ar>>4,vr[Qt]&=ar>>2|ar<<2),tr.push(Qt%$t,Qt/$t|0),vr[Qt]||--Or}while(fr!==Qt);mr.push(tr),--Wt}}var gr=function(Er){Er.save(),Er.scale(1/At,-1/Rt),Er.translate(0,-Rt),Er.beginPath();for(var Ir=0,Dr=mr.length;Ir<Dr;Ir++){var xr=mr[Ir];Er.moveTo(xr[0],xr[1]);for(var $r=2,Rr=xr.length;$r<Rr;$r+=2)Er.lineTo(xr[$r],xr[$r+1])}Er.fill(),Er.beginPath(),Er.restore()};return gr}var zt=function(){function Ht(Bt,Ft){rt(this,Ht),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=tt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=tt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=tt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Bt,Ft])}return ft(Ht,[{key:"clone",value:function(){var Ft=Object.create(this);return Ft.clipBox=this.clipBox.slice(),Ft}},{key:"setCurrentPoint",value:function(Ft,At){this.x=Ft,this.y=At}},{key:"updatePathMinMax",value:function(Ft,At,Rt){var $t=tt.Util.applyTransform([At,Rt],Ft),Wt=it($t,2);At=Wt[0],Rt=Wt[1],this.minX=Math.min(this.minX,At),this.minY=Math.min(this.minY,Rt),this.maxX=Math.max(this.maxX,At),this.maxY=Math.max(this.maxY,Rt)}},{key:"updateCurvePathMinMax",value:function(Ft,At,Rt,$t,Wt,Vt,Zt,ir,vr){var cr=tt.Util.bezierBoundingBox(At,Rt,$t,Wt,Vt,Zt,ir,vr);this.updatePathMinMax(Ft,cr[0],cr[1]),this.updatePathMinMax(Ft,cr[2],cr[3])}},{key:"getPathBoundingBox",value:function(){var Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ut.PathType.FILL,At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Rt=[this.minX,this.minY,this.maxX,this.maxY];if(Ft===ut.PathType.STROKE){At||(0,tt.unreachable)("Stroke bounding box must include transform.");var $t=tt.Util.singularValueDecompose2dScale(At),Wt=$t[0]*this.lineWidth/2,Vt=$t[1]*this.lineWidth/2;Rt[0]-=Wt,Rt[1]-=Vt,Rt[2]+=Wt,Rt[3]+=Vt}return Rt}},{key:"updateClipFromPath",value:function(){var Ft=tt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Ft||[0,0,0,0])}},{key:"startNewPathAndClipBox",value:function(Ft){this.clipBox=Ft,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ut.PathType.FILL,At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return tt.Util.intersect(this.clipBox,this.getPathBoundingBox(Ft,At))}}]),Ht}();function Xt(Ht,Bt){var Ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData!="undefined"&&Bt instanceof ImageData){Ht.putImageData(Bt,0,0);return}var At=Bt.height,Rt=Bt.width,$t=At%Ct,Wt=(At-$t)/Ct,Vt=$t===0?Wt:Wt+1,Zt=Ht.createImageData(Rt,Ct),ir=0,vr,cr=Bt.data,or=Zt.data,br,Cr,Ar,kr,Or,Lr,dr,mr;if(Ft)switch(Ft.length){case 1:Or=Ft[0],Lr=Ft[0],dr=Ft[0],mr=Ft[0];break;case 4:Or=Ft[0],Lr=Ft[1],dr=Ft[2],mr=Ft[3];break}if(Bt.kind===tt.ImageKind.GRAYSCALE_1BPP){var Qt=cr.byteLength,nr=new Uint32Array(or.buffer,0,or.byteLength>>2),tr=nr.length,fr=Rt+7>>3,ar=4294967295,rr=tt.IsLittleEndianCached.value?4278190080:255;if(mr&&mr[0]===255&&mr[255]===0){var yr=[rr,ar];ar=yr[0],rr=yr[1]}for(br=0;br<Vt;br++){for(Ar=br<Wt?Ct:$t,vr=0,Cr=0;Cr<Ar;Cr++){for(var gr=Qt-ir,wr=0,Er=gr>fr?Rt:gr*8-7,Ir=Er&-8,Dr=0,xr=0;wr<Ir;wr+=8)xr=cr[ir++],nr[vr++]=xr&128?ar:rr,nr[vr++]=xr&64?ar:rr,nr[vr++]=xr&32?ar:rr,nr[vr++]=xr&16?ar:rr,nr[vr++]=xr&8?ar:rr,nr[vr++]=xr&4?ar:rr,nr[vr++]=xr&2?ar:rr,nr[vr++]=xr&1?ar:rr;for(;wr<Er;wr++)Dr===0&&(xr=cr[ir++],Dr=128),nr[vr++]=xr&Dr?ar:rr,Dr>>=1}for(;vr<tr;)nr[vr++]=0;Ht.putImageData(Zt,0,br*Ct)}}else if(Bt.kind===tt.ImageKind.RGBA_32BPP){var $r=!!(Or||Lr||dr);for(Cr=0,kr=Rt*Ct*4,br=0;br<Wt;br++){if(or.set(cr.subarray(ir,ir+kr)),ir+=kr,$r)for(var Rr=0;Rr<kr;Rr+=4)Or&&(or[Rr+0]=Or[or[Rr+0]]),Lr&&(or[Rr+1]=Lr[or[Rr+1]]),dr&&(or[Rr+2]=dr[or[Rr+2]]);Ht.putImageData(Zt,0,Cr),Cr+=Ct}if(br<Vt){if(kr=Rt*$t*4,or.set(cr.subarray(ir,ir+kr)),$r)for(var Fr=0;Fr<kr;Fr+=4)Or&&(or[Fr+0]=Or[or[Fr+0]]),Lr&&(or[Fr+1]=Lr[or[Fr+1]]),dr&&(or[Fr+2]=dr[or[Fr+2]]);Ht.putImageData(Zt,0,Cr)}}else if(Bt.kind===tt.ImageKind.RGB_24BPP){var Nr=!!(Or||Lr||dr);for(Ar=Ct,kr=Rt*Ar,br=0;br<Vt;br++){for(br>=Wt&&(Ar=$t,kr=Rt*Ar),vr=0,Cr=kr;Cr--;)or[vr++]=cr[ir++],or[vr++]=cr[ir++],or[vr++]=cr[ir++],or[vr++]=255;if(Nr)for(var jr=0;jr<vr;jr+=4)Or&&(or[jr+0]=Or[or[jr+0]]),Lr&&(or[jr+1]=Lr[or[jr+1]]),dr&&(or[jr+2]=dr[or[jr+2]]);Ht.putImageData(Zt,0,br*Ct)}}else throw new Error("bad image kind: ".concat(Bt.kind))}function Kt(Ht,Bt){for(var Ft=Bt.height,At=Bt.width,Rt=Ft%Ct,$t=(Ft-Rt)/Ct,Wt=Rt===0?$t:$t+1,Vt=Ht.createImageData(At,Ct),Zt=0,ir=Bt.data,vr=Vt.data,cr=0;cr<Wt;cr++){for(var or=cr<$t?Ct:Rt,br=3,Cr=0;Cr<or;Cr++)for(var Ar=void 0,kr=0,Or=0;Or<At;Or++)kr||(Ar=ir[Zt++],kr=128),vr[br]=Ar&kr?0:255,br+=4,kr>>=1;Ht.putImageData(Vt,0,cr*Ct)}}function qt(Ht,Bt){for(var Ft=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],At=0,Rt=Ft.length;At<Rt;At++){var $t=Ft[At];Ht[$t]!==void 0&&(Bt[$t]=Ht[$t])}Ht.setLineDash!==void 0&&(Bt.setLineDash(Ht.getLineDash()),Bt.lineDashOffset=Ht.lineDashOffset)}function er(Ht){Ht.strokeStyle="#000000",Ht.fillStyle="#000000",Ht.fillRule="nonzero",Ht.globalAlpha=1,Ht.lineWidth=1,Ht.lineCap="butt",Ht.lineJoin="miter",Ht.miterLimit=10,Ht.globalCompositeOperation="source-over",Ht.font="10px sans-serif",Ht.setLineDash!==void 0&&(Ht.setLineDash([]),Ht.lineDashOffset=0)}function Ut(Ht,Bt,Ft,At){for(var Rt=Ht.length,$t=3;$t<Rt;$t+=4){var Wt=Ht[$t];if(Wt===0)Ht[$t-3]=Bt,Ht[$t-2]=Ft,Ht[$t-1]=At;else if(Wt<255){var Vt=255-Wt;Ht[$t-3]=Ht[$t-3]*Wt+Bt*Vt>>8,Ht[$t-2]=Ht[$t-2]*Wt+Ft*Vt>>8,Ht[$t-1]=Ht[$t-1]*Wt+At*Vt>>8}}}function Ot(Ht,Bt,Ft){for(var At=Ht.length,Rt=1/255,$t=3;$t<At;$t+=4){var Wt=Ft?Ft[Ht[$t]]:Ht[$t];Bt[$t]=Bt[$t]*Wt*Rt|0}}function Et(Ht,Bt,Ft){for(var At=Ht.length,Rt=3;Rt<At;Rt+=4){var $t=Ht[Rt-3]*77+Ht[Rt-2]*152+Ht[Rt-1]*28;Bt[Rt]=Ft?Bt[Rt]*Ft[$t>>8]>>8:Bt[Rt]*$t>>16}}function wt(Ht,Bt,Ft,At,Rt,$t,Wt,Vt,Zt,ir,vr){var cr=!!$t,or=cr?$t[0]:0,br=cr?$t[1]:0,Cr=cr?$t[2]:0,Ar;Rt==="Luminosity"?Ar=Et:Ar=Ot;for(var kr=1048576,Or=Math.min(At,Math.ceil(kr/Ft)),Lr=0;Lr<At;Lr+=Or){var dr=Math.min(Or,At-Lr),mr=Ht.getImageData(Vt-ir,Lr+(Zt-vr),Ft,dr),Qt=Bt.getImageData(Vt,Lr+Zt,Ft,dr);cr&&Ut(mr.data,or,br,Cr),Ar(mr.data,Qt.data,Wt),Bt.putImageData(Qt,Vt,Lr+Zt)}}function Pt(Ht,Bt,Ft,At){var Rt=At[0],$t=At[1],Wt=At[2]-Rt,Vt=At[3]-$t;Wt===0||Vt===0||(wt(Bt.context,Ft,Wt,Vt,Bt.subtype,Bt.backdrop,Bt.transferMap,Rt,$t,Bt.offsetX,Bt.offsetY),Ht.save(),Ht.globalAlpha=1,Ht.globalCompositeOperation="source-over",Ht.setTransform(1,0,0,1,0,0),Ht.drawImage(Ft.canvas,0,0),Ht.restore())}function Lt(Ht,Bt){var Ft=tt.Util.singularValueDecompose2dScale(Ht);Ft[0]=Math.fround(Ft[0]),Ft[1]=Math.fround(Ft[1]);var At=Math.fround((globalThis.devicePixelRatio||1)*pt.PixelsPerInch.PDF_TO_CSS_UNITS);return Bt!==void 0?Bt:Ft[0]<=At||Ft[1]<=At}var Dt=["butt","round","square"],It=["miter","round","bevel"],Nt={},Jt={},sr=function(){function Ht(Bt,Ft,At,Rt,$t,Wt,Vt){rt(this,Ht),this.ctx=Bt,this.current=new zt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Ft,this.objs=At,this.canvasFactory=Rt,this.imageLayer=$t,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=Wt,this.cachedCanvases=new jt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Vt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,Bt&&Mt(Bt),this._cachedGetSinglePixelWidth=null}return ft(Ht,[{key:"beginDrawing",value:function(Ft){var At=Ft.transform,Rt=Ft.viewport,$t=Ft.transparency,Wt=$t===void 0?!1:$t,Vt=Ft.background,Zt=Vt===void 0?null:Vt,ir=this.ctx.canvas.width,vr=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=Zt||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,ir,vr),this.ctx.restore(),Wt){var cr=this.cachedCanvases.getCanvas("transparent",ir,vr,!0);this.compositeCtx=this.ctx,this.transparentCanvas=cr.canvas,this.ctx=cr.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),er(this.ctx),At&&(this.ctx.transform.apply(this.ctx,At),this.outputScaleX=At[0],this.outputScaleY=At[0]),this.ctx.transform.apply(this.ctx,Rt.transform),this.viewportScale=Rt.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(Ft,At,Rt,$t){var Wt=Ft.argsArray,Vt=Ft.fnArray,Zt=At||0,ir=Wt.length;if(ir===Zt)return Zt;for(var vr=ir-Zt>bt&&typeof Rt=="function",cr=vr?Date.now()+gt:0,or=0,br=this.commonObjs,Cr=this.objs,Ar;;){if($t!==void 0&&Zt===$t.nextBreakPoint)return $t.breakIt(Zt,Rt),Zt;if(Ar=Vt[Zt],Ar!==tt.OPS.dependency)this[Ar].apply(this,Wt[Zt]);else{var kr=ct(Wt[Zt]),Or;try{for(kr.s();!(Or=kr.n()).done;){var Lr=Or.value,dr=Lr.startsWith("g_")?br:Cr;if(!dr.has(Lr))return dr.get(Lr,Rt),Zt}}catch(mr){kr.e(mr)}finally{kr.f()}}if(Zt++,Zt===ir)return Zt;if(vr&&++or>bt){if(Date.now()>cr)return Rt(),Zt;or=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||this.current.activeSMask!==null;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(Ft,At){for(var Rt=Ft.width,$t=Ft.height,Wt=Math.max(Math.hypot(At[0],At[1]),1),Vt=Math.max(Math.hypot(At[2],At[3]),1),Zt=Rt,ir=$t,vr="prescale1",cr,or;Wt>2&&Zt>1||Vt>2&&ir>1;){var br=Zt,Cr=ir;Wt>2&&Zt>1&&(br=Math.ceil(Zt/2),Wt/=Zt/br),Vt>2&&ir>1&&(Cr=Math.ceil(ir/2),Vt/=ir/Cr),cr=this.cachedCanvases.getCanvas(vr,br,Cr),or=cr.context,or.clearRect(0,0,br,Cr),or.drawImage(Ft,0,0,Zt,ir,0,0,br,Cr),Ft=cr.canvas,Zt=br,ir=Cr,vr=vr==="prescale1"?"prescale2":"prescale1"}return{img:Ft,paintWidth:Zt,paintHeight:ir}}},{key:"_createMaskCanvas",value:function(Ft){var At=this.ctx,Rt=Ft.width,$t=Ft.height,Wt=this.current.fillColor,Vt=this.current.patternFill,Zt=this.cachedCanvases.getCanvas("maskCanvas",Rt,$t),ir=Zt.context;Kt(ir,Ft);var vr=At.mozCurrentTransform,cr=tt.Util.transform(vr,[1/Rt,0,0,-1/$t,0,0]);cr=tt.Util.transform(cr,[1,0,0,1,0,-$t]);var or=tt.Util.applyTransform([0,0],cr),br=tt.Util.applyTransform([Rt,$t],cr),Cr=tt.Util.normalizeRect([or[0],or[1],br[0],br[1]]),Ar=Math.ceil(Cr[2]-Cr[0]),kr=Math.ceil(Cr[3]-Cr[1]),Or=this.cachedCanvases.getCanvas("fillCanvas",Ar,kr,!0),Lr=Or.context,dr=Math.min(or[0],br[0]),mr=Math.min(or[1],br[1]);Lr.translate(-dr,-mr),Lr.transform.apply(Lr,cr);var Qt=this._scaleImage(Zt.canvas,Lr.mozCurrentTransformInverse);Lr.imageSmoothingEnabled=Lt(Lr.mozCurrentTransform,Ft.interpolate),Lr.drawImage(Qt.img,0,0,Qt.img.width,Qt.img.height,0,0,Rt,$t),Lr.globalCompositeOperation="source-in";var nr=tt.Util.transform(Lr.mozCurrentTransformInverse,[1,0,0,1,-dr,-mr]);return Lr.fillStyle=Vt?Wt.getPattern(At,this,nr,ut.PathType.FILL):Wt,Lr.fillRect(0,0,Rt,$t),{canvas:Or.canvas,offsetX:Math.round(dr),offsetY:Math.round(mr)}}},{key:"setLineWidth",value:function(Ft){this.current.lineWidth=Ft,this.ctx.lineWidth=Ft}},{key:"setLineCap",value:function(Ft){this.ctx.lineCap=Dt[Ft]}},{key:"setLineJoin",value:function(Ft){this.ctx.lineJoin=It[Ft]}},{key:"setMiterLimit",value:function(Ft){this.ctx.miterLimit=Ft}},{key:"setDash",value:function(Ft,At){var Rt=this.ctx;Rt.setLineDash!==void 0&&(Rt.setLineDash(Ft),Rt.lineDashOffset=At)}},{key:"setRenderingIntent",value:function(Ft){}},{key:"setFlatness",value:function(Ft){}},{key:"setGState",value:function(Ft){for(var At=0,Rt=Ft.length;At<Rt;At++){var $t=Ft[At],Wt=$t[0],Vt=$t[1];switch(Wt){case"LW":this.setLineWidth(Vt);break;case"LC":this.setLineCap(Vt);break;case"LJ":this.setLineJoin(Vt);break;case"ML":this.setMiterLimit(Vt);break;case"D":this.setDash(Vt[0],Vt[1]);break;case"RI":this.setRenderingIntent(Vt);break;case"FL":this.setFlatness(Vt);break;case"Font":this.setFont(Vt[0],Vt[1]);break;case"CA":this.current.strokeAlpha=$t[1];break;case"ca":this.current.fillAlpha=$t[1],this.ctx.globalAlpha=$t[1];break;case"BM":this.ctx.globalCompositeOperation=Vt;break;case"SMask":this.current.activeSMask=Vt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Vt}}}},{key:"checkSMaskState",value:function(){var Ft=!!this.suspendedCtx;this.current.activeSMask&&!Ft?this.beginSMaskMode():!this.current.activeSMask&&Ft&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.suspendedCtx)throw new Error("beginSMaskMode called while already in smask mode");var Ft=this.ctx.canvas.width,At=this.ctx.canvas.height,Rt="smaskGroupAt"+this.groupLevel,$t=this.cachedCanvases.getCanvas(Rt,Ft,At,!0);this.suspendedCtx=this.ctx,this.ctx=$t.context;var Wt=this.ctx;Wt.setTransform.apply(Wt,this.suspendedCtx.mozCurrentTransform),qt(this.suspendedCtx,Wt),Tt(Wt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.suspendedCtx)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),qt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.current.activeSMask=null,this.suspendedCtx=null}},{key:"compose",value:function(Ft){if(!!this.current.activeSMask){Ft?(Ft[0]=Math.floor(Ft[0]),Ft[1]=Math.floor(Ft[1]),Ft[2]=Math.ceil(Ft[2]),Ft[3]=Math.ceil(Ft[3])):Ft=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var At=this.current.activeSMask,Rt=this.suspendedCtx;Pt(Rt,At,this.ctx,Ft),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"save",value:function(){this.ctx.save();var Ft=this.current;this.stateStack.push(Ft),this.current=Ft.clone()}},{key:"restore",value:function(){this.stateStack.length===0&&this.current.activeSMask&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(Ft,At,Rt,$t,Wt,Vt){this.ctx.transform(Ft,At,Rt,$t,Wt,Vt),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(Ft,At){for(var Rt=this.ctx,$t=this.current,Wt=$t.x,Vt=$t.y,Zt,ir,vr=0,cr=0,or=Ft.length;vr<or;vr++)switch(Ft[vr]|0){case tt.OPS.rectangle:Wt=At[cr++],Vt=At[cr++];var br=At[cr++],Cr=At[cr++],Ar=Wt+br,kr=Vt+Cr;Rt.moveTo(Wt,Vt),br===0||Cr===0?Rt.lineTo(Ar,kr):(Rt.lineTo(Ar,Vt),Rt.lineTo(Ar,kr),Rt.lineTo(Wt,kr)),$t.updatePathMinMax(Rt.mozCurrentTransform,Wt,Vt),$t.updatePathMinMax(Rt.mozCurrentTransform,Ar,kr),Rt.closePath();break;case tt.OPS.moveTo:Wt=At[cr++],Vt=At[cr++],Rt.moveTo(Wt,Vt),$t.updatePathMinMax(Rt.mozCurrentTransform,Wt,Vt);break;case tt.OPS.lineTo:Wt=At[cr++],Vt=At[cr++],Rt.lineTo(Wt,Vt),$t.updatePathMinMax(Rt.mozCurrentTransform,Wt,Vt);break;case tt.OPS.curveTo:Zt=Wt,ir=Vt,Wt=At[cr+4],Vt=At[cr+5],Rt.bezierCurveTo(At[cr],At[cr+1],At[cr+2],At[cr+3],Wt,Vt),$t.updateCurvePathMinMax(Rt.mozCurrentTransform,Zt,ir,At[cr],At[cr+1],At[cr+2],At[cr+3],Wt,Vt),cr+=6;break;case tt.OPS.curveTo2:Zt=Wt,ir=Vt,Rt.bezierCurveTo(Wt,Vt,At[cr],At[cr+1],At[cr+2],At[cr+3]),$t.updateCurvePathMinMax(Rt.mozCurrentTransform,Zt,ir,Wt,Vt,At[cr],At[cr+1],At[cr+2],At[cr+3]),Wt=At[cr+2],Vt=At[cr+3],cr+=4;break;case tt.OPS.curveTo3:Zt=Wt,ir=Vt,Wt=At[cr+2],Vt=At[cr+3],Rt.bezierCurveTo(At[cr],At[cr+1],Wt,Vt,Wt,Vt),$t.updateCurvePathMinMax(Rt.mozCurrentTransform,Zt,ir,At[cr],At[cr+1],Wt,Vt,Wt,Vt),cr+=4;break;case tt.OPS.closePath:Rt.closePath();break}$t.setCurrentPoint(Wt,Vt)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(Ft){Ft=typeof Ft!="undefined"?Ft:!0;var At=this.ctx,Rt=this.current.strokeColor;if(At.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(yt(Rt)==="object"&&Rt!==null&&Rt!==void 0&&Rt.getPattern){var $t=this.getSinglePixelWidth();At.save(),At.strokeStyle=Rt.getPattern(At,this,At.mozCurrentTransformInverse,ut.PathType.STROKE),At.lineWidth=Math.max($t,this.current.lineWidth),At.stroke(),At.restore()}else{var Wt=this.getSinglePixelWidth();Wt<0&&-Wt>=this.current.lineWidth?(At.save(),At.resetTransform(),At.lineWidth=Math.round(this._combinedScaleFactor),At.stroke(),At.restore()):(At.lineWidth=Math.max(Wt,this.current.lineWidth),At.stroke())}Ft&&this.consumePath(this.current.getClippedPathBoundingBox()),At.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(Ft){Ft=typeof Ft!="undefined"?Ft:!0;var At=this.ctx,Rt=this.current.fillColor,$t=this.current.patternFill,Wt=!1;$t&&(At.save(),At.fillStyle=Rt.getPattern(At,this,At.mozCurrentTransformInverse,ut.PathType.FILL),Wt=!0);var Vt=this.current.getClippedPathBoundingBox();this.contentVisible&&Vt!==null&&(this.pendingEOFill?(At.fill("evenodd"),this.pendingEOFill=!1):At.fill()),Wt&&At.restore(),Ft&&this.consumePath(Vt)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=Nt}},{key:"eoClip",value:function(){this.pendingClip=Jt}},{key:"beginText",value:function(){this.current.textMatrix=tt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var Ft=this.pendingTextPaths,At=this.ctx;if(Ft===void 0){At.beginPath();return}At.save(),At.beginPath();for(var Rt=0;Rt<Ft.length;Rt++){var $t=Ft[Rt];At.setTransform.apply(At,$t.transform),At.translate($t.x,$t.y),$t.addToPath(At,$t.fontSize)}At.restore(),At.clip(),At.beginPath(),delete this.pendingTextPaths}},{key:"setCharSpacing",value:function(Ft){this.current.charSpacing=Ft}},{key:"setWordSpacing",value:function(Ft){this.current.wordSpacing=Ft}},{key:"setHScale",value:function(Ft){this.current.textHScale=Ft/100}},{key:"setLeading",value:function(Ft){this.current.leading=-Ft}},{key:"setFont",value:function(Ft,At){var Rt=this.commonObjs.get(Ft),$t=this.current;if(!Rt)throw new Error("Can't find font for ".concat(Ft));if($t.fontMatrix=Rt.fontMatrix||tt.FONT_IDENTITY_MATRIX,($t.fontMatrix[0]===0||$t.fontMatrix[3]===0)&&(0,tt.warn)("Invalid font matrix for font "+Ft),At<0?(At=-At,$t.fontDirection=-1):$t.fontDirection=1,this.current.font=Rt,this.current.fontSize=At,!Rt.isType3Font){var Wt=Rt.loadedName||"sans-serif",Vt="normal";Rt.black?Vt="900":Rt.bold&&(Vt="bold");var Zt=Rt.italic?"italic":"normal",ir='"'.concat(Wt,'", ').concat(Rt.fallbackName),vr=At;At<dt?vr=dt:At>vt&&(vr=vt),this.current.fontSizeScale=At/vr,this.ctx.font="".concat(Zt," ").concat(Vt," ").concat(vr,"px ").concat(ir)}}},{key:"setTextRenderingMode",value:function(Ft){this.current.textRenderingMode=Ft}},{key:"setTextRise",value:function(Ft){this.current.textRise=Ft}},{key:"moveText",value:function(Ft,At){this.current.x=this.current.lineX+=Ft,this.current.y=this.current.lineY+=At}},{key:"setLeadingMoveText",value:function(Ft,At){this.setLeading(-At),this.moveText(Ft,At)}},{key:"setTextMatrix",value:function(Ft,At,Rt,$t,Wt,Vt){this.current.textMatrix=[Ft,At,Rt,$t,Wt,Vt],this.current.textMatrixScale=Math.hypot(Ft,At),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(Ft,At,Rt,$t,Wt){var Vt=this.ctx,Zt=this.current,ir=Zt.font,vr=Zt.textRenderingMode,cr=Zt.fontSize/Zt.fontSizeScale,or=vr&tt.TextRenderingMode.FILL_STROKE_MASK,br=!!(vr&tt.TextRenderingMode.ADD_TO_PATH_FLAG),Cr=Zt.patternFill&&!ir.missingFile,Ar;if((ir.disableFontFace||br||Cr)&&(Ar=ir.getPathGenerator(this.commonObjs,Ft)),ir.disableFontFace||Cr?(Vt.save(),Vt.translate(At,Rt),Vt.beginPath(),Ar(Vt,cr),$t&&Vt.setTransform.apply(Vt,$t),(or===tt.TextRenderingMode.FILL||or===tt.TextRenderingMode.FILL_STROKE)&&Vt.fill(),(or===tt.TextRenderingMode.STROKE||or===tt.TextRenderingMode.FILL_STROKE)&&(Wt&&(Vt.resetTransform(),Vt.lineWidth=Math.round(this._combinedScaleFactor)),Vt.stroke()),Vt.restore()):((or===tt.TextRenderingMode.FILL||or===tt.TextRenderingMode.FILL_STROKE)&&Vt.fillText(Ft,At,Rt),(or===tt.TextRenderingMode.STROKE||or===tt.TextRenderingMode.FILL_STROKE)&&(Wt?(Vt.save(),Vt.moveTo(At,Rt),Vt.resetTransform(),Vt.lineWidth=Math.round(this._combinedScaleFactor),Vt.strokeText(Ft,0,0),Vt.restore()):Vt.strokeText(Ft,At,Rt))),br){var kr=this.pendingTextPaths||(this.pendingTextPaths=[]);kr.push({transform:Vt.mozCurrentTransform,x:At,y:Rt,fontSize:cr,addToPath:Ar})}}},{key:"isFontSubpixelAAEnabled",get:function(){var Ft=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10),At=Ft.context;At.scale(1.5,1),At.fillText("I",0,10);for(var Rt=At.getImageData(0,0,10,10).data,$t=!1,Wt=3;Wt<Rt.length;Wt+=4)if(Rt[Wt]>0&&Rt[Wt]<255){$t=!0;break}return(0,tt.shadow)(this,"isFontSubpixelAAEnabled",$t)}},{key:"showText",value:function(Ft){var At=this.current,Rt=At.font;if(Rt.isType3Font)return this.showType3Text(Ft);var $t=At.fontSize;if($t!==0){var Wt=this.ctx,Vt=At.fontSizeScale,Zt=At.charSpacing,ir=At.wordSpacing,vr=At.fontDirection,cr=At.textHScale*vr,or=Ft.length,br=Rt.vertical,Cr=br?1:-1,Ar=Rt.defaultVMetrics,kr=$t*At.fontMatrix[0],Or=At.textRenderingMode===tt.TextRenderingMode.FILL&&!Rt.disableFontFace&&!At.patternFill;Wt.save(),Wt.transform.apply(Wt,At.textMatrix),Wt.translate(At.x,At.y+At.textRise),vr>0?Wt.scale(cr,-1):Wt.scale(cr,1);var Lr;if(At.patternFill){Wt.save();var dr=At.fillColor.getPattern(Wt,this,Wt.mozCurrentTransformInverse,ut.PathType.FILL);Lr=Wt.mozCurrentTransform,Wt.restore(),Wt.fillStyle=dr}var mr=At.lineWidth,Qt=!1,nr=At.textMatrixScale;if(nr===0||mr===0){var tr=At.textRenderingMode&tt.TextRenderingMode.FILL_STROKE_MASK;(tr===tt.TextRenderingMode.STROKE||tr===tt.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,mr=this.getSinglePixelWidth(),Qt=mr<0)}else mr/=nr;Vt!==1&&(Wt.scale(Vt,Vt),mr/=Vt),Wt.lineWidth=mr;var fr=0,ar;for(ar=0;ar<or;++ar){var rr=Ft[ar];if((0,tt.isNum)(rr)){fr+=Cr*rr*$t/1e3;continue}var yr=!1,gr=(rr.isSpace?ir:0)+Zt,wr=rr.fontChar,Er=rr.accent,Ir=void 0,Dr=void 0,xr=rr.width;if(br){var $r=rr.vmetric||Ar,Rr=-(rr.vmetric?$r[1]:xr*.5)*kr,Fr=$r[2]*kr;xr=$r?-$r[0]:xr,Ir=Rr/Vt,Dr=(fr+Fr)/Vt}else Ir=fr/Vt,Dr=0;if(Rt.remeasure&&xr>0){var Nr=Wt.measureText(wr).width*1e3/$t*Vt;if(xr<Nr&&this.isFontSubpixelAAEnabled){var jr=xr/Nr;yr=!0,Wt.save(),Wt.scale(jr,1),Ir/=jr}else xr!==Nr&&(Ir+=(xr-Nr)/2e3*$t/Vt)}if(this.contentVisible&&(rr.isInFont||Rt.missingFile)){if(Or&&!Er)Wt.fillText(wr,Ir,Dr);else if(this.paintChar(wr,Ir,Dr,Lr,Qt),Er){var zr=Ir+$t*Er.offset.x/Vt,Gr=Dr-$t*Er.offset.y/Vt;this.paintChar(Er.fontChar,zr,Gr,Lr,Qt)}}var qr=void 0;br?qr=xr*kr-gr*vr:qr=xr*kr+gr*vr,fr+=qr,yr&&Wt.restore()}br?At.y-=fr:At.x+=fr*cr,Wt.restore(),this.compose()}}},{key:"showType3Text",value:function(Ft){var At=this.ctx,Rt=this.current,$t=Rt.font,Wt=Rt.fontSize,Vt=Rt.fontDirection,Zt=$t.vertical?1:-1,ir=Rt.charSpacing,vr=Rt.wordSpacing,cr=Rt.textHScale*Vt,or=Rt.fontMatrix||tt.FONT_IDENTITY_MATRIX,br=Ft.length,Cr=Rt.textRenderingMode===tt.TextRenderingMode.INVISIBLE,Ar,kr,Or,Lr;if(!(Cr||Wt===0)){for(this._cachedGetSinglePixelWidth=null,At.save(),At.transform.apply(At,Rt.textMatrix),At.translate(Rt.x,Rt.y),At.scale(cr,Vt),Ar=0;Ar<br;++Ar){if(kr=Ft[Ar],(0,tt.isNum)(kr)){Lr=Zt*kr*Wt/1e3,this.ctx.translate(Lr,0),Rt.x+=Lr*cr;continue}var dr=(kr.isSpace?vr:0)+ir,mr=$t.charProcOperatorList[kr.operatorListId];if(!mr){(0,tt.warn)('Type3 character "'.concat(kr.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=kr,this.save(),At.scale(Wt,Wt),At.transform.apply(At,or),this.executeOperatorList(mr),this.restore());var Qt=tt.Util.applyTransform([kr.width,0],or);Or=Qt[0]*Wt+dr,At.translate(Or,0),Rt.x+=Or*cr}At.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(Ft,At){}},{key:"setCharWidthAndBounds",value:function(Ft,At,Rt,$t,Wt,Vt){this.ctx.rect(Rt,$t,Wt-Rt,Vt-$t),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(Ft){var At=this,Rt;if(Ft[0]==="TilingPattern"){var $t=Ft[1],Wt=this.baseTransform||this.ctx.mozCurrentTransform.slice(),Vt={createCanvasGraphics:function(ir){return new Ht(ir,At.commonObjs,At.objs,At.canvasFactory)}};Rt=new ut.TilingPattern(Ft,$t,this.ctx,Vt,Wt)}else Rt=this._getPattern(Ft[1],Ft[2]);return Rt}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(Ft,At,Rt){var $t=tt.Util.makeHexColor(Ft,At,Rt);this.ctx.strokeStyle=$t,this.current.strokeColor=$t}},{key:"setFillRGBColor",value:function(Ft,At,Rt){var $t=tt.Util.makeHexColor(Ft,At,Rt);this.ctx.fillStyle=$t,this.current.fillColor=$t,this.current.patternFill=!1}},{key:"_getPattern",value:function(Ft){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Rt;return this.cachedPatterns.has(Ft)?Rt=this.cachedPatterns.get(Ft):(Rt=(0,ut.getShadingPattern)(this.objs.get(Ft)),this.cachedPatterns.set(Ft,Rt)),At&&(Rt.matrix=At),Rt}},{key:"shadingFill",value:function(Ft){if(!!this.contentVisible){var At=this.ctx;this.save();var Rt=this._getPattern(Ft);At.fillStyle=Rt.getPattern(At,this,At.mozCurrentTransformInverse,ut.PathType.SHADING);var $t=At.mozCurrentTransformInverse;if($t){var Wt=At.canvas,Vt=Wt.width,Zt=Wt.height,ir=tt.Util.applyTransform([0,0],$t),vr=tt.Util.applyTransform([0,Zt],$t),cr=tt.Util.applyTransform([Vt,0],$t),or=tt.Util.applyTransform([Vt,Zt],$t),br=Math.min(ir[0],vr[0],cr[0],or[0]),Cr=Math.min(ir[1],vr[1],cr[1],or[1]),Ar=Math.max(ir[0],vr[0],cr[0],or[0]),kr=Math.max(ir[1],vr[1],cr[1],or[1]);this.ctx.fillRect(br,Cr,Ar-br,kr-Cr)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,tt.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,tt.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(Ft,At){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Ft)&&Ft.length===6&&this.transform.apply(this,Ft),this.baseTransform=this.ctx.mozCurrentTransform,At)){var Rt=At[2]-At[0],$t=At[3]-At[1];this.ctx.rect(At[0],At[1],Rt,$t),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,At[0],At[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,At[2],At[3]),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(Ft){if(!!this.contentVisible){this.save();var At=this.suspendedCtx;this.current.activeSMask&&(this.suspendedCtx=null,this.current.activeSMask=null);var Rt=this.ctx;Ft.isolated||(0,tt.info)("TODO: Support non-isolated groups."),Ft.knockout&&(0,tt.warn)("Knockout groups not supported.");var $t=Rt.mozCurrentTransform;if(Ft.matrix&&Rt.transform.apply(Rt,Ft.matrix),!Ft.bbox)throw new Error("Bounding box is required.");var Wt=tt.Util.getAxialAlignedBoundingBox(Ft.bbox,Rt.mozCurrentTransform),Vt=[0,0,Rt.canvas.width,Rt.canvas.height];Wt=tt.Util.intersect(Wt,Vt)||[0,0,0,0];var Zt=Math.floor(Wt[0]),ir=Math.floor(Wt[1]),vr=Math.max(Math.ceil(Wt[2])-Zt,1),cr=Math.max(Math.ceil(Wt[3])-ir,1),or=1,br=1;vr>mt&&(or=vr/mt,vr=mt),cr>mt&&(br=cr/mt,cr=mt),this.current.startNewPathAndClipBox([0,0,vr,cr]);var Cr="groupAt"+this.groupLevel;Ft.smask&&(Cr+="_smask_"+this.smaskCounter++%2);var Ar=this.cachedCanvases.getCanvas(Cr,vr,cr,!0),kr=Ar.context;kr.scale(1/or,1/br),kr.translate(-Zt,-ir),kr.transform.apply(kr,$t),Ft.smask?this.smaskStack.push({canvas:Ar.canvas,context:kr,offsetX:Zt,offsetY:ir,scaleX:or,scaleY:br,subtype:Ft.smask.subtype,backdrop:Ft.smask.backdrop,transferMap:Ft.smask.transferMap||null,startTransformInverse:null}):(Rt.setTransform(1,0,0,1,0,0),Rt.translate(Zt,ir),Rt.scale(or,br),Rt.save()),qt(Rt,kr),this.ctx=kr,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push({ctx:Rt,suspendedCtx:At}),this.groupLevel++}}},{key:"endGroup",value:function(Ft){if(!!this.contentVisible){this.groupLevel--;var At=this.ctx,Rt=this.groupStack.pop(),$t=Rt.ctx,Wt=Rt.suspendedCtx;if(this.ctx=$t,this.ctx.imageSmoothingEnabled=!1,Wt&&(this.suspendedCtx=Wt),Ft.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();var Vt=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,Vt);var Zt=tt.Util.getAxialAlignedBoundingBox([0,0,At.canvas.width,At.canvas.height],Vt);this.ctx.drawImage(At.canvas,0,0),this.ctx.restore(),this.compose(Zt)}}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(Ft,At,Rt,$t,Wt){if(this.save(),Array.isArray(At)&&At.length===4){var Vt=At[2]-At[0],Zt=At[3]-At[1];if(Wt&&this.annotationCanvasMap){Rt=Rt.slice(),Rt[4]-=At[0],Rt[5]-=At[1],At=At.slice(),At[0]=At[1]=0,At[2]=Vt,At[3]=Zt;var ir=tt.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),vr=it(ir,2),cr=vr[0],or=vr[1],br=this.viewportScale,Cr=Math.ceil(Vt*this.outputScaleX*br),Ar=Math.ceil(Zt*this.outputScaleY*br);this.annotationCanvas=this.canvasFactory.create(Cr,Ar);var kr=this.annotationCanvas,Or=kr.canvas,Lr=kr.context;Or.style.width="calc(".concat(Vt,"px * var(--viewport-scale-factor))"),Or.style.height="calc(".concat(Zt,"px * var(--viewport-scale-factor))"),this.annotationCanvasMap.set(Ft,Or),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Lr,this.ctx.setTransform(cr,0,0,-or,0,Zt*or),Mt(this.ctx),er(this.ctx)}else er(this.ctx),this.ctx.rect(At[0],At[1],Vt,Zt),this.clip(),this.endPath()}this.current=new zt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,Rt),this.transform.apply(this,$t)}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function(Ft){if(!!this.contentVisible){var At=this.ctx,Rt=Ft.width,$t=Ft.height,Wt=this.processingType3;if(Wt&&Wt.compiled===void 0&&(Rt<=_t&&$t<=_t?Wt.compiled=Gt({data:Ft.data,width:Rt,height:$t}):Wt.compiled=null),Wt!=null&&Wt.compiled){Wt.compiled(At);return}var Vt=this._createMaskCanvas(Ft),Zt=Vt.canvas;At.save(),At.setTransform(1,0,0,1,0,0),At.drawImage(Zt,Vt.offsetX,Vt.offsetY),At.restore(),this.compose()}}},{key:"paintImageMaskXObjectRepeat",value:function(Ft,At){var Rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,$t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Wt=arguments.length>4?arguments[4]:void 0,Vt=arguments.length>5?arguments[5]:void 0;if(!!this.contentVisible){var Zt=this.ctx;Zt.save();var ir=Zt.mozCurrentTransform;Zt.transform(At,Rt,$t,Wt,0,0);var vr=this._createMaskCanvas(Ft);Zt.setTransform(1,0,0,1,0,0);for(var cr=0,or=Vt.length;cr<or;cr+=2){var br=tt.Util.transform(ir,[At,Rt,$t,Wt,Vt[cr],Vt[cr+1]]),Cr=tt.Util.applyTransform([0,0],br),Ar=it(Cr,2),kr=Ar[0],Or=Ar[1];Zt.drawImage(vr.canvas,kr,Or)}Zt.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(Ft){if(!!this.contentVisible){for(var At=this.ctx,Rt=this.current.fillColor,$t=this.current.patternFill,Wt=0,Vt=Ft.length;Wt<Vt;Wt++){var Zt=Ft[Wt],ir=Zt.width,vr=Zt.height,cr=this.cachedCanvases.getCanvas("maskCanvas",ir,vr),or=cr.context;or.save(),Kt(or,Zt),or.globalCompositeOperation="source-in",or.fillStyle=$t?Rt.getPattern(or,this,At.mozCurrentTransformInverse,ut.PathType.FILL):Rt,or.fillRect(0,0,ir,vr),or.restore(),At.save(),At.transform.apply(At,Zt.transform),At.scale(1,-1),At.drawImage(cr.canvas,0,0,ir,vr,0,-1,1,1),At.restore()}this.compose()}}},{key:"paintImageXObject",value:function(Ft){if(!!this.contentVisible){var At=Ft.startsWith("g_")?this.commonObjs.get(Ft):this.objs.get(Ft);if(!At){(0,tt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(At)}}},{key:"paintImageXObjectRepeat",value:function(Ft,At,Rt,$t){if(!!this.contentVisible){var Wt=Ft.startsWith("g_")?this.commonObjs.get(Ft):this.objs.get(Ft);if(!Wt){(0,tt.warn)("Dependent image isn't ready yet");return}for(var Vt=Wt.width,Zt=Wt.height,ir=[],vr=0,cr=$t.length;vr<cr;vr+=2)ir.push({transform:[At,0,0,Rt,$t[vr],$t[vr+1]],x:0,y:0,w:Vt,h:Zt});this.paintInlineImageXObjectGroup(Wt,ir)}}},{key:"paintInlineImageXObject",value:function(Ft){if(!!this.contentVisible){var At=Ft.width,Rt=Ft.height,$t=this.ctx;this.save(),$t.scale(1/At,-1/Rt);var Wt;if(typeof HTMLElement=="function"&&Ft instanceof HTMLElement||!Ft.data)Wt=Ft;else{var Vt=this.cachedCanvases.getCanvas("inlineImage",At,Rt),Zt=Vt.context;Xt(Zt,Ft,this.current.transferMaps),Wt=Vt.canvas}var ir=this._scaleImage(Wt,$t.mozCurrentTransformInverse);if($t.imageSmoothingEnabled=Lt($t.mozCurrentTransform,Ft.interpolate),$t.drawImage(ir.img,0,0,ir.paintWidth,ir.paintHeight,0,-Rt,At,Rt),this.imageLayer){var vr=this.getCanvasPosition(0,-Rt);this.imageLayer.appendImage({imgData:Ft,left:vr[0],top:vr[1],width:At/$t.mozCurrentTransformInverse[0],height:Rt/$t.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(Ft,At){if(!!this.contentVisible){var Rt=this.ctx,$t=Ft.width,Wt=Ft.height,Vt=this.cachedCanvases.getCanvas("inlineImage",$t,Wt),Zt=Vt.context;Xt(Zt,Ft,this.current.transferMaps);for(var ir=0,vr=At.length;ir<vr;ir++){var cr=At[ir];if(Rt.save(),Rt.transform.apply(Rt,cr.transform),Rt.scale(1,-1),Rt.drawImage(Vt.canvas,cr.x,cr.y,cr.w,cr.h,0,-1,1,1),this.imageLayer){var or=this.getCanvasPosition(cr.x,cr.y);this.imageLayer.appendImage({imgData:Ft,left:or[0],top:or[1],width:$t,height:Wt})}Rt.restore()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(Ft){}},{key:"markPointProps",value:function(Ft,At){}},{key:"beginMarkedContent",value:function(Ft){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(Ft,At){Ft==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(At)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(Ft){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Ft);var At=this.ctx;this.pendingClip&&(this.pendingClip===Jt?At.clip("evenodd"):At.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),At.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(this._cachedGetSinglePixelWidth===null){var Ft=this.ctx.mozCurrentTransform,At=Math.abs(Ft[0]*Ft[3]-Ft[2]*Ft[1]),Rt=Math.pow(Ft[0],2)+Math.pow(Ft[2],2),$t=Math.pow(Ft[1],2)+Math.pow(Ft[3],2),Wt=Math.sqrt(Math.max(Rt,$t))/At;Rt!==$t&&this._combinedScaleFactor*Wt>1?this._cachedGetSinglePixelWidth=-(this._combinedScaleFactor*Wt):At>Number.EPSILON?this._cachedGetSinglePixelWidth=Wt:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(Ft,At){var Rt=this.ctx.mozCurrentTransform;return[Rt[0]*Ft+Rt[2]*At+Rt[4],Rt[1]*Ft+Rt[3]*At+Rt[5]]}},{key:"isContentVisible",value:function(){for(var Ft=this.markedContentStack.length-1;Ft>=0;Ft--)if(!this.markedContentStack[Ft].visible)return!1;return!0}}]),Ht}();_e.CanvasGraphics=sr;for(var lr in tt.OPS)sr.prototype[lr]!==void 0&&(sr.prototype[tt.OPS[lr]]=sr.prototype[lr])},($,_e,et)=>{function tt(zt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tt=function(Kt){return typeof Kt}:tt=function(Kt){return Kt&&typeof Symbol=="function"&&Kt.constructor===Symbol&&Kt!==Symbol.prototype?"symbol":typeof Kt},tt(zt)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.TilingPattern=_e.PathType=void 0,_e.getShadingPattern=Mt;var ut=et(4);function pt(zt,Xt){var Kt=typeof Symbol!="undefined"&&zt[Symbol.iterator]||zt["@@iterator"];if(!Kt){if(Array.isArray(zt)||(Kt=yt(zt))||Xt&&zt&&typeof zt.length=="number"){Kt&&(zt=Kt);var qt=0,er=function(){};return{s:er,n:function(){return qt>=zt.length?{done:!0}:{done:!1,value:zt[qt++]}},e:function(Pt){throw Pt},f:er}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ut=!0,Ot=!1,Et;return{s:function(){Kt=Kt.call(zt)},n:function(){var Pt=Kt.next();return Ut=Pt.done,Pt},e:function(Pt){Ot=!0,Et=Pt},f:function(){try{!Ut&&Kt.return!=null&&Kt.return()}finally{if(Ot)throw Et}}}}function yt(zt,Xt){if(!!zt){if(typeof zt=="string")return ct(zt,Xt);var Kt=Object.prototype.toString.call(zt).slice(8,-1);if(Kt==="Object"&&zt.constructor&&(Kt=zt.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(zt);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return ct(zt,Xt)}}function ct(zt,Xt){(Xt==null||Xt>zt.length)&&(Xt=zt.length);for(var Kt=0,qt=new Array(Xt);Kt<Xt;Kt++)qt[Kt]=zt[Kt];return qt}function rt(zt,Xt){if(typeof Xt!="function"&&Xt!==null)throw new TypeError("Super expression must either be null or a function");zt.prototype=Object.create(Xt&&Xt.prototype,{constructor:{value:zt,writable:!0,configurable:!0}}),Xt&&lt(zt,Xt)}function lt(zt,Xt){return lt=Object.setPrototypeOf||function(qt,er){return qt.__proto__=er,qt},lt(zt,Xt)}function ft(zt){var Xt=nt();return function(){var qt=ot(zt),er;if(Xt){var Ut=ot(this).constructor;er=Reflect.construct(qt,arguments,Ut)}else er=qt.apply(this,arguments);return it(this,er)}}function it(zt,Xt){if(Xt&&(tt(Xt)==="object"||typeof Xt=="function"))return Xt;if(Xt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(zt)}function at(zt){if(zt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return zt}function nt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ot(zt){return ot=Object.setPrototypeOf?Object.getPrototypeOf:function(Kt){return Kt.__proto__||Object.getPrototypeOf(Kt)},ot(zt)}function ht(zt,Xt){if(!(zt instanceof Xt))throw new TypeError("Cannot call a class as a function")}function st(zt,Xt){for(var Kt=0;Kt<Xt.length;Kt++){var qt=Xt[Kt];qt.enumerable=qt.enumerable||!1,qt.configurable=!0,"value"in qt&&(qt.writable=!0),Object.defineProperty(zt,qt.key,qt)}}function dt(zt,Xt,Kt){return Xt&&st(zt.prototype,Xt),Kt&&st(zt,Kt),zt}var vt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};_e.PathType=vt;function mt(zt,Xt){if(!(!Xt||typeof Path2D=="undefined")){var Kt=Xt[2]-Xt[0],qt=Xt[3]-Xt[1],er=new Path2D;er.rect(Xt[0],Xt[1],Kt,qt),zt.clip(er)}}var gt=function(){function zt(){ht(this,zt),this.constructor===zt&&(0,ut.unreachable)("Cannot initialize BaseShadingPattern.")}return dt(zt,[{key:"getPattern",value:function(){(0,ut.unreachable)("Abstract method `getPattern` called.")}}]),zt}(),bt=function(zt){rt(Kt,zt);var Xt=ft(Kt);function Kt(qt){var er;return ht(this,Kt),er=Xt.call(this),er._type=qt[1],er._bbox=qt[2],er._colorStops=qt[3],er._p0=qt[4],er._p1=qt[5],er._r0=qt[6],er._r1=qt[7],er.matrix=null,er}return dt(Kt,[{key:"_createGradient",value:function(er){var Ut;this._type==="axial"?Ut=er.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Ut=er.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var Ot=pt(this._colorStops),Et;try{for(Ot.s();!(Et=Ot.n()).done;){var wt=Et.value;Ut.addColorStop(wt[0],wt[1])}}catch(Pt){Ot.e(Pt)}finally{Ot.f()}return Ut}},{key:"getPattern",value:function(er,Ut,Ot,Et){var wt;if(Et===vt.STROKE||Et===vt.FILL){var Pt=Ut.current.getClippedPathBoundingBox(Et,er.mozCurrentTransform)||[0,0,0,0],Lt=Math.ceil(Pt[2]-Pt[0])||1,Dt=Math.ceil(Pt[3]-Pt[1])||1,It=Ut.cachedCanvases.getCanvas("pattern",Lt,Dt,!0),Nt=It.context;Nt.clearRect(0,0,Nt.canvas.width,Nt.canvas.height),Nt.beginPath(),Nt.rect(0,0,Nt.canvas.width,Nt.canvas.height),Nt.translate(-Pt[0],-Pt[1]),Ot=ut.Util.transform(Ot,[1,0,0,1,Pt[0],Pt[1]]),Nt.transform.apply(Nt,Ut.baseTransform),this.matrix&&Nt.transform.apply(Nt,this.matrix),mt(Nt,this._bbox),Nt.fillStyle=this._createGradient(Nt),Nt.fill(),wt=er.createPattern(It.canvas,"no-repeat");var Jt=new DOMMatrix(Ot);try{wt.setTransform(Jt)}catch(sr){(0,ut.warn)('RadialAxialShadingPattern.getPattern: "'.concat(sr==null?void 0:sr.message,'".'))}}else mt(er,this._bbox),wt=this._createGradient(er);return wt}}]),Kt}(gt);function _t(zt,Xt,Kt,qt,er,Ut,Ot,Et){var wt=Xt.coords,Pt=Xt.colors,Lt=zt.data,Dt=zt.width*4,It;wt[Kt+1]>wt[qt+1]&&(It=Kt,Kt=qt,qt=It,It=Ut,Ut=Ot,Ot=It),wt[qt+1]>wt[er+1]&&(It=qt,qt=er,er=It,It=Ot,Ot=Et,Et=It),wt[Kt+1]>wt[qt+1]&&(It=Kt,Kt=qt,qt=It,It=Ut,Ut=Ot,Ot=It);var Nt=(wt[Kt]+Xt.offsetX)*Xt.scaleX,Jt=(wt[Kt+1]+Xt.offsetY)*Xt.scaleY,sr=(wt[qt]+Xt.offsetX)*Xt.scaleX,lr=(wt[qt+1]+Xt.offsetY)*Xt.scaleY,Ht=(wt[er]+Xt.offsetX)*Xt.scaleX,Bt=(wt[er+1]+Xt.offsetY)*Xt.scaleY;if(!(Jt>=Bt))for(var Ft=Pt[Ut],At=Pt[Ut+1],Rt=Pt[Ut+2],$t=Pt[Ot],Wt=Pt[Ot+1],Vt=Pt[Ot+2],Zt=Pt[Et],ir=Pt[Et+1],vr=Pt[Et+2],cr=Math.round(Jt),or=Math.round(Bt),br,Cr,Ar,kr,Or,Lr,dr,mr,Qt=cr;Qt<=or;Qt++){if(Qt<lr){var nr=void 0;Qt<Jt?nr=0:nr=(Jt-Qt)/(Jt-lr),br=Nt-(Nt-sr)*nr,Cr=Ft-(Ft-$t)*nr,Ar=At-(At-Wt)*nr,kr=Rt-(Rt-Vt)*nr}else{var tr=void 0;Qt>Bt?tr=1:lr===Bt?tr=0:tr=(lr-Qt)/(lr-Bt),br=sr-(sr-Ht)*tr,Cr=$t-($t-Zt)*tr,Ar=Wt-(Wt-ir)*tr,kr=Vt-(Vt-vr)*tr}var fr=void 0;Qt<Jt?fr=0:Qt>Bt?fr=1:fr=(Jt-Qt)/(Jt-Bt),Or=Nt-(Nt-Ht)*fr,Lr=Ft-(Ft-Zt)*fr,dr=At-(At-ir)*fr,mr=Rt-(Rt-vr)*fr;for(var ar=Math.round(Math.min(br,Or)),rr=Math.round(Math.max(br,Or)),yr=Dt*Qt+ar*4,gr=ar;gr<=rr;gr++)fr=(br-gr)/(br-Or),fr<0?fr=0:fr>1&&(fr=1),Lt[yr++]=Cr-(Cr-Lr)*fr|0,Lt[yr++]=Ar-(Ar-dr)*fr|0,Lt[yr++]=kr-(kr-mr)*fr|0,Lt[yr++]=255}}function Ct(zt,Xt,Kt){var qt=Xt.coords,er=Xt.colors,Ut,Ot;switch(Xt.type){case"lattice":var Et=Xt.verticesPerRow,wt=Math.floor(qt.length/Et)-1,Pt=Et-1;for(Ut=0;Ut<wt;Ut++)for(var Lt=Ut*Et,Dt=0;Dt<Pt;Dt++,Lt++)_t(zt,Kt,qt[Lt],qt[Lt+1],qt[Lt+Et],er[Lt],er[Lt+1],er[Lt+Et]),_t(zt,Kt,qt[Lt+Et+1],qt[Lt+1],qt[Lt+Et],er[Lt+Et+1],er[Lt+1],er[Lt+Et]);break;case"triangles":for(Ut=0,Ot=qt.length;Ut<Ot;Ut+=3)_t(zt,Kt,qt[Ut],qt[Ut+1],qt[Ut+2],er[Ut],er[Ut+1],er[Ut+2]);break;default:throw new Error("illegal figure")}}var xt=function(zt){rt(Kt,zt);var Xt=ft(Kt);function Kt(qt){var er;return ht(this,Kt),er=Xt.call(this),er._coords=qt[2],er._colors=qt[3],er._figures=qt[4],er._bounds=qt[5],er._bbox=qt[7],er._background=qt[8],er.matrix=null,er}return dt(Kt,[{key:"_createMeshCanvas",value:function(er,Ut,Ot){var Et=1.1,wt=3e3,Pt=2,Lt=Math.floor(this._bounds[0]),Dt=Math.floor(this._bounds[1]),It=Math.ceil(this._bounds[2])-Lt,Nt=Math.ceil(this._bounds[3])-Dt,Jt=Math.min(Math.ceil(Math.abs(It*er[0]*Et)),wt),sr=Math.min(Math.ceil(Math.abs(Nt*er[1]*Et)),wt),lr=It/Jt,Ht=Nt/sr,Bt={coords:this._coords,colors:this._colors,offsetX:-Lt,offsetY:-Dt,scaleX:1/lr,scaleY:1/Ht},Ft=Jt+Pt*2,At=sr+Pt*2,Rt=Ot.getCanvas("mesh",Ft,At,!1),$t=Rt.context,Wt=$t.createImageData(Jt,sr);if(Ut)for(var Vt=Wt.data,Zt=0,ir=Vt.length;Zt<ir;Zt+=4)Vt[Zt]=Ut[0],Vt[Zt+1]=Ut[1],Vt[Zt+2]=Ut[2],Vt[Zt+3]=255;var vr=pt(this._figures),cr;try{for(vr.s();!(cr=vr.n()).done;){var or=cr.value;Ct(Wt,or,Bt)}}catch(Cr){vr.e(Cr)}finally{vr.f()}$t.putImageData(Wt,Pt,Pt);var br=Rt.canvas;return{canvas:br,offsetX:Lt-Pt*lr,offsetY:Dt-Pt*Ht,scaleX:lr,scaleY:Ht}}},{key:"getPattern",value:function(er,Ut,Ot,Et){mt(er,this._bbox);var wt;if(Et===vt.SHADING)wt=ut.Util.singularValueDecompose2dScale(er.mozCurrentTransform);else if(wt=ut.Util.singularValueDecompose2dScale(Ut.baseTransform),this.matrix){var Pt=ut.Util.singularValueDecompose2dScale(this.matrix);wt=[wt[0]*Pt[0],wt[1]*Pt[1]]}var Lt=this._createMeshCanvas(wt,Et===vt.SHADING?null:this._background,Ut.cachedCanvases);return Et!==vt.SHADING&&(er.setTransform.apply(er,Ut.baseTransform),this.matrix&&er.transform.apply(er,this.matrix)),er.translate(Lt.offsetX,Lt.offsetY),er.scale(Lt.scaleX,Lt.scaleY),er.createPattern(Lt.canvas,"no-repeat")}}]),Kt}(gt),Tt=function(zt){rt(Kt,zt);var Xt=ft(Kt);function Kt(){return ht(this,Kt),Xt.apply(this,arguments)}return dt(Kt,[{key:"getPattern",value:function(){return"hotpink"}}]),Kt}(gt);function Mt(zt){switch(zt[0]){case"RadialAxial":return new bt(zt);case"Mesh":return new xt(zt);case"Dummy":return new Tt}throw new Error("Unknown IR type: ".concat(zt[0]))}var jt={COLORED:1,UNCOLORED:2},Gt=function(){function zt(Xt,Kt,qt,er,Ut){ht(this,zt),this.operatorList=Xt[2],this.matrix=Xt[3]||[1,0,0,1,0,0],this.bbox=Xt[4],this.xstep=Xt[5],this.ystep=Xt[6],this.paintType=Xt[7],this.tilingType=Xt[8],this.color=Kt,this.ctx=qt,this.canvasGraphicsFactory=er,this.baseTransform=Ut}return dt(zt,[{key:"createPatternCanvas",value:function(Kt){var qt=this.operatorList,er=this.bbox,Ut=this.xstep,Ot=this.ystep,Et=this.paintType,wt=this.tilingType,Pt=this.color,Lt=this.canvasGraphicsFactory;(0,ut.info)("TilingType: "+wt);var Dt=er[0],It=er[1],Nt=er[2],Jt=er[3],sr=ut.Util.singularValueDecompose2dScale(this.matrix),lr=ut.Util.singularValueDecompose2dScale(this.baseTransform),Ht=[sr[0]*lr[0],sr[1]*lr[1]],Bt=this.getSizeAndScale(Ut,this.ctx.canvas.width,Ht[0]),Ft=this.getSizeAndScale(Ot,this.ctx.canvas.height,Ht[1]),At=Kt.cachedCanvases.getCanvas("pattern",Bt.size,Ft.size,!0),Rt=At.context,$t=Lt.createCanvasGraphics(Rt);$t.groupLevel=Kt.groupLevel,this.setFillAndStrokeStyleToContext($t,Et,Pt);var Wt=Dt,Vt=It,Zt=Nt,ir=Jt;return Dt<0&&(Wt=0,Zt+=Math.abs(Dt)),It<0&&(Vt=0,ir+=Math.abs(It)),Rt.translate(-(Bt.scale*Wt),-(Ft.scale*Vt)),$t.transform(Bt.scale,0,0,Ft.scale,0,0),this.clipBbox($t,Wt,Vt,Zt,ir),$t.baseTransform=$t.ctx.mozCurrentTransform.slice(),$t.executeOperatorList(qt),$t.endDrawing(),{canvas:At.canvas,scaleX:Bt.scale,scaleY:Ft.scale,offsetX:Wt,offsetY:Vt}}},{key:"getSizeAndScale",value:function(Kt,qt,er){Kt=Math.abs(Kt);var Ut=Math.max(zt.MAX_PATTERN_SIZE,qt),Ot=Math.ceil(Kt*er);return Ot>=Ut?Ot=Ut:er=Ot/Kt,{scale:er,size:Ot}}},{key:"clipBbox",value:function(Kt,qt,er,Ut,Ot){var Et=Ut-qt,wt=Ot-er;Kt.ctx.rect(qt,er,Et,wt),Kt.clip(),Kt.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(Kt,qt,er){var Ut=Kt.ctx,Ot=Kt.current;switch(qt){case jt.COLORED:var Et=this.ctx;Ut.fillStyle=Et.fillStyle,Ut.strokeStyle=Et.strokeStyle,Ot.fillColor=Et.fillStyle,Ot.strokeColor=Et.strokeStyle;break;case jt.UNCOLORED:var wt=ut.Util.makeHexColor(er[0],er[1],er[2]);Ut.fillStyle=wt,Ut.strokeStyle=wt,Ot.fillColor=wt,Ot.strokeColor=wt;break;default:throw new ut.FormatError("Unsupported paint type: ".concat(qt))}}},{key:"getPattern",value:function(Kt,qt,er,Ut){var Ot=er;Ut!==vt.SHADING&&(Ot=ut.Util.transform(Ot,qt.baseTransform),this.matrix&&(Ot=ut.Util.transform(Ot,this.matrix)));var Et=this.createPatternCanvas(qt),wt=new DOMMatrix(Ot);wt=wt.translate(Et.offsetX,Et.offsetY),wt=wt.scale(1/Et.scaleX,1/Et.scaleY);var Pt=Kt.createPattern(Et.canvas,"repeat");try{Pt.setTransform(wt)}catch(Lt){(0,ut.warn)('TilingPattern.getPattern: "'.concat(Lt==null?void 0:Lt.message,'".'))}return Pt}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,ut.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),zt}();_e.TilingPattern=Gt},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.GlobalWorkerOptions=void 0;var et=Object.create(null);_e.GlobalWorkerOptions=et,et.workerPort=et.workerPort===void 0?null:et.workerPort,et.workerSrc=et.workerSrc===void 0?"":et.workerSrc},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.MessageHandler=void 0;var tt=pt(et(2)),ut=et(4);function pt(st){return st&&st.__esModule?st:{default:st}}function yt(st,dt,vt,mt,gt,bt,_t){try{var Ct=st[bt](_t),xt=Ct.value}catch(Tt){vt(Tt);return}Ct.done?dt(xt):Promise.resolve(xt).then(mt,gt)}function ct(st){return function(){var dt=this,vt=arguments;return new Promise(function(mt,gt){var bt=st.apply(dt,vt);function _t(xt){yt(bt,mt,gt,_t,Ct,"next",xt)}function Ct(xt){yt(bt,mt,gt,_t,Ct,"throw",xt)}_t(void 0)})}}function rt(st,dt){if(!(st instanceof dt))throw new TypeError("Cannot call a class as a function")}function lt(st,dt){for(var vt=0;vt<dt.length;vt++){var mt=dt[vt];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(st,mt.key,mt)}}function ft(st,dt,vt){return dt&&lt(st.prototype,dt),vt&&lt(st,vt),st}function it(st){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?it=function(vt){return typeof vt}:it=function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},it(st)}var at={UNKNOWN:0,DATA:1,ERROR:2},nt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ot(st){if(!(st instanceof Error||it(st)==="object"&&st!==null))return(0,ut.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),st;switch(st.name){case"AbortException":return new ut.AbortException(st.message);case"MissingPDFException":return new ut.MissingPDFException(st.message);case"PasswordException":return new ut.PasswordException(st.message,st.code);case"UnexpectedResponseException":return new ut.UnexpectedResponseException(st.message,st.status);case"UnknownErrorException":return new ut.UnknownErrorException(st.message,st.details);default:return new ut.UnknownErrorException(st.message,st.toString())}}var ht=function(){function st(dt,vt,mt){var gt=this;rt(this,st),this.sourceName=dt,this.targetName=vt,this.comObj=mt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(bt){var _t=bt.data;if(_t.targetName===gt.sourceName){if(_t.stream){gt._processStreamMessage(_t);return}if(_t.callback){var Ct=_t.callbackId,xt=gt.callbackCapabilities[Ct];if(!xt)throw new Error("Cannot resolve callback ".concat(Ct));if(delete gt.callbackCapabilities[Ct],_t.callback===at.DATA)xt.resolve(_t.data);else if(_t.callback===at.ERROR)xt.reject(ot(_t.reason));else throw new Error("Unexpected callback case");return}var Tt=gt.actionHandler[_t.action];if(!Tt)throw new Error("Unknown action from worker: ".concat(_t.action));if(_t.callbackId){var Mt=gt.sourceName,jt=_t.sourceName;new Promise(function(Gt){Gt(Tt(_t.data))}).then(function(Gt){mt.postMessage({sourceName:Mt,targetName:jt,callback:at.DATA,callbackId:_t.callbackId,data:Gt})},function(Gt){mt.postMessage({sourceName:Mt,targetName:jt,callback:at.ERROR,callbackId:_t.callbackId,reason:ot(Gt)})});return}if(_t.streamId){gt._createStreamSink(_t);return}Tt(_t.data)}},mt.addEventListener("message",this._onComObjOnMessage)}return ft(st,[{key:"on",value:function(vt,mt){var gt=this.actionHandler;if(gt[vt])throw new Error('There is already an actionName called "'.concat(vt,'"'));gt[vt]=mt}},{key:"send",value:function(vt,mt,gt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:vt,data:mt},gt)}},{key:"sendWithPromise",value:function(vt,mt,gt){var bt=this.callbackId++,_t=(0,ut.createPromiseCapability)();this.callbackCapabilities[bt]=_t;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:vt,callbackId:bt,data:mt},gt)}catch(Ct){_t.reject(Ct)}return _t.promise}},{key:"sendWithStream",value:function(vt,mt,gt,bt){var _t=this,Ct=this.streamId++,xt=this.sourceName,Tt=this.targetName,Mt=this.comObj;return new ReadableStream({start:function(Gt){var zt=(0,ut.createPromiseCapability)();return _t.streamControllers[Ct]={controller:Gt,startCall:zt,pullCall:null,cancelCall:null,isClosed:!1},Mt.postMessage({sourceName:xt,targetName:Tt,action:vt,streamId:Ct,data:mt,desiredSize:Gt.desiredSize},bt),zt.promise},pull:function(Gt){var zt=(0,ut.createPromiseCapability)();return _t.streamControllers[Ct].pullCall=zt,Mt.postMessage({sourceName:xt,targetName:Tt,stream:nt.PULL,streamId:Ct,desiredSize:Gt.desiredSize}),zt.promise},cancel:function(Gt){(0,ut.assert)(Gt instanceof Error,"cancel must have a valid reason");var zt=(0,ut.createPromiseCapability)();return _t.streamControllers[Ct].cancelCall=zt,_t.streamControllers[Ct].isClosed=!0,Mt.postMessage({sourceName:xt,targetName:Tt,stream:nt.CANCEL,streamId:Ct,reason:ot(Gt)}),zt.promise}},gt)}},{key:"_createStreamSink",value:function(vt){var mt=vt.streamId,gt=this.sourceName,bt=vt.sourceName,_t=this.comObj,Ct=this,xt=this.actionHandler[vt.action],Tt={enqueue:function(jt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,zt=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var Xt=this.desiredSize;this.desiredSize-=Gt,Xt>0&&this.desiredSize<=0&&(this.sinkCapability=(0,ut.createPromiseCapability)(),this.ready=this.sinkCapability.promise),_t.postMessage({sourceName:gt,targetName:bt,stream:nt.ENQUEUE,streamId:mt,chunk:jt},zt)}},close:function(){this.isCancelled||(this.isCancelled=!0,_t.postMessage({sourceName:gt,targetName:bt,stream:nt.CLOSE,streamId:mt}),delete Ct.streamSinks[mt])},error:function(jt){(0,ut.assert)(jt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,_t.postMessage({sourceName:gt,targetName:bt,stream:nt.ERROR,streamId:mt,reason:ot(jt)}))},sinkCapability:(0,ut.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:vt.desiredSize,ready:null};Tt.sinkCapability.resolve(),Tt.ready=Tt.sinkCapability.promise,this.streamSinks[mt]=Tt,new Promise(function(Mt){Mt(xt(vt.data,Tt))}).then(function(){_t.postMessage({sourceName:gt,targetName:bt,stream:nt.START_COMPLETE,streamId:mt,success:!0})},function(Mt){_t.postMessage({sourceName:gt,targetName:bt,stream:nt.START_COMPLETE,streamId:mt,reason:ot(Mt)})})}},{key:"_processStreamMessage",value:function(vt){var mt=vt.streamId,gt=this.sourceName,bt=vt.sourceName,_t=this.comObj,Ct=this.streamControllers[mt],xt=this.streamSinks[mt];switch(vt.stream){case nt.START_COMPLETE:vt.success?Ct.startCall.resolve():Ct.startCall.reject(ot(vt.reason));break;case nt.PULL_COMPLETE:vt.success?Ct.pullCall.resolve():Ct.pullCall.reject(ot(vt.reason));break;case nt.PULL:if(!xt){_t.postMessage({sourceName:gt,targetName:bt,stream:nt.PULL_COMPLETE,streamId:mt,success:!0});break}xt.desiredSize<=0&&vt.desiredSize>0&&xt.sinkCapability.resolve(),xt.desiredSize=vt.desiredSize,new Promise(function(Tt){Tt(xt.onPull&&xt.onPull())}).then(function(){_t.postMessage({sourceName:gt,targetName:bt,stream:nt.PULL_COMPLETE,streamId:mt,success:!0})},function(Tt){_t.postMessage({sourceName:gt,targetName:bt,stream:nt.PULL_COMPLETE,streamId:mt,reason:ot(Tt)})});break;case nt.ENQUEUE:if((0,ut.assert)(Ct,"enqueue should have stream controller"),Ct.isClosed)break;Ct.controller.enqueue(vt.chunk);break;case nt.CLOSE:if((0,ut.assert)(Ct,"close should have stream controller"),Ct.isClosed)break;Ct.isClosed=!0,Ct.controller.close(),this._deleteStreamController(Ct,mt);break;case nt.ERROR:(0,ut.assert)(Ct,"error should have stream controller"),Ct.controller.error(ot(vt.reason)),this._deleteStreamController(Ct,mt);break;case nt.CANCEL_COMPLETE:vt.success?Ct.cancelCall.resolve():Ct.cancelCall.reject(ot(vt.reason)),this._deleteStreamController(Ct,mt);break;case nt.CANCEL:if(!xt)break;new Promise(function(Tt){Tt(xt.onCancel&&xt.onCancel(ot(vt.reason)))}).then(function(){_t.postMessage({sourceName:gt,targetName:bt,stream:nt.CANCEL_COMPLETE,streamId:mt,success:!0})},function(Tt){_t.postMessage({sourceName:gt,targetName:bt,stream:nt.CANCEL_COMPLETE,streamId:mt,reason:ot(Tt)})}),xt.sinkCapability.reject(ot(vt.reason)),xt.isCancelled=!0,delete this.streamSinks[mt];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var dt=ct(tt.default.mark(function mt(gt,bt){return tt.default.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return Ct.next=2,Promise.allSettled([gt.startCall&&gt.startCall.promise,gt.pullCall&&gt.pullCall.promise,gt.cancelCall&&gt.cancelCall.promise]);case 2:delete this.streamControllers[bt];case 3:case"end":return Ct.stop()}},mt,this)}));function vt(mt,gt){return dt.apply(this,arguments)}return vt}()},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),st}();_e.MessageHandler=ht},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Metadata=void 0;var tt=et(4);function ut(dt,vt){if(!(dt instanceof vt))throw new TypeError("Cannot call a class as a function")}function pt(dt,vt){for(var mt=0;mt<vt.length;mt++){var gt=vt[mt];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(dt,gt.key,gt)}}function yt(dt,vt,mt){return vt&&pt(dt.prototype,vt),mt&&pt(dt,mt),dt}function ct(dt,vt,mt){rt(dt,vt),vt.set(dt,mt)}function rt(dt,vt){if(vt.has(dt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lt(dt,vt){var mt=at(dt,vt,"get");return ft(dt,mt)}function ft(dt,vt){return vt.get?vt.get.call(dt):vt.value}function it(dt,vt,mt){var gt=at(dt,vt,"set");return nt(dt,gt,mt),mt}function at(dt,vt,mt){if(!vt.has(dt))throw new TypeError("attempted to "+mt+" private field on non-instance");return vt.get(dt)}function nt(dt,vt,mt){if(vt.set)vt.set.call(dt,mt);else{if(!vt.writable)throw new TypeError("attempted to set read only private field");vt.value=mt}}var ot=new WeakMap,ht=new WeakMap,st=function(){function dt(vt){var mt=vt.parsedData,gt=vt.rawData;ut(this,dt),ct(this,ot,{writable:!0,value:void 0}),ct(this,ht,{writable:!0,value:void 0}),it(this,ot,mt),it(this,ht,gt)}return yt(dt,[{key:"getRaw",value:function(){return lt(this,ht)}},{key:"get",value:function(mt){var gt;return(gt=lt(this,ot).get(mt))!==null&&gt!==void 0?gt:null}},{key:"getAll",value:function(){return(0,tt.objectFromMap)(lt(this,ot))}},{key:"has",value:function(mt){return lt(this,ot).has(mt)}}]),dt}();_e.Metadata=st},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.OptionalContentConfig=void 0;var tt=et(4);function ut(at,nt){var ot=typeof Symbol!="undefined"&&at[Symbol.iterator]||at["@@iterator"];if(!ot){if(Array.isArray(at)||(ot=pt(at))||nt&&at&&typeof at.length=="number"){ot&&(at=ot);var ht=0,st=function(){};return{s:st,n:function(){return ht>=at.length?{done:!0}:{done:!1,value:at[ht++]}},e:function(bt){throw bt},f:st}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dt=!0,vt=!1,mt;return{s:function(){ot=ot.call(at)},n:function(){var bt=ot.next();return dt=bt.done,bt},e:function(bt){vt=!0,mt=bt},f:function(){try{!dt&&ot.return!=null&&ot.return()}finally{if(vt)throw mt}}}}function pt(at,nt){if(!!at){if(typeof at=="string")return yt(at,nt);var ot=Object.prototype.toString.call(at).slice(8,-1);if(ot==="Object"&&at.constructor&&(ot=at.constructor.name),ot==="Map"||ot==="Set")return Array.from(at);if(ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ot))return yt(at,nt)}}function yt(at,nt){(nt==null||nt>at.length)&&(nt=at.length);for(var ot=0,ht=new Array(nt);ot<nt;ot++)ht[ot]=at[ot];return ht}function ct(at,nt){for(var ot=0;ot<nt.length;ot++){var ht=nt[ot];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(at,ht.key,ht)}}function rt(at,nt,ot){return nt&&ct(at.prototype,nt),ot&&ct(at,ot),at}function lt(at,nt){if(!(at instanceof nt))throw new TypeError("Cannot call a class as a function")}var ft=function at(nt,ot){lt(this,at),this.visible=!0,this.name=nt,this.intent=ot},it=function(){function at(nt){if(lt(this,at),this.name=null,this.creator=null,this._order=null,this._groups=new Map,nt!==null){this.name=nt.name,this.creator=nt.creator,this._order=nt.order;var ot=ut(nt.groups),ht;try{for(ot.s();!(ht=ot.n()).done;){var st=ht.value;this._groups.set(st.id,new ft(st.name,st.intent))}}catch(Mt){ot.e(Mt)}finally{ot.f()}if(nt.baseState==="OFF"){var dt=ut(this._groups),vt;try{for(dt.s();!(vt=dt.n()).done;){var mt=vt.value;mt.visible=!1}}catch(Mt){dt.e(Mt)}finally{dt.f()}}var gt=ut(nt.on),bt;try{for(gt.s();!(bt=gt.n()).done;){var _t=bt.value;this._groups.get(_t).visible=!0}}catch(Mt){gt.e(Mt)}finally{gt.f()}var Ct=ut(nt.off),xt;try{for(Ct.s();!(xt=Ct.n()).done;){var Tt=xt.value;this._groups.get(Tt).visible=!1}}catch(Mt){Ct.e(Mt)}finally{Ct.f()}}}return rt(at,[{key:"_evaluateVisibilityExpression",value:function(ot){var ht=ot.length;if(ht<2)return!0;for(var st=ot[0],dt=1;dt<ht;dt++){var vt=ot[dt],mt=void 0;if(Array.isArray(vt))mt=this._evaluateVisibilityExpression(vt);else if(this._groups.has(vt))mt=this._groups.get(vt).visible;else return(0,tt.warn)("Optional content group not found: ".concat(vt)),!0;switch(st){case"And":if(!mt)return!1;break;case"Or":if(mt)return!0;break;case"Not":return!mt;default:return!0}}return st==="And"}},{key:"isVisible",value:function(ot){if(this._groups.size===0)return!0;if(!ot)return(0,tt.warn)("Optional content group not defined."),!0;if(ot.type==="OCG")return this._groups.has(ot.id)?this._groups.get(ot.id).visible:((0,tt.warn)("Optional content group not found: ".concat(ot.id)),!0);if(ot.type==="OCMD"){if(ot.expression)return this._evaluateVisibilityExpression(ot.expression);if(!ot.policy||ot.policy==="AnyOn"){var ht=ut(ot.ids),st;try{for(ht.s();!(st=ht.n()).done;){var dt=st.value;if(!this._groups.has(dt))return(0,tt.warn)("Optional content group not found: ".concat(dt)),!0;if(this._groups.get(dt).visible)return!0}}catch(jt){ht.e(jt)}finally{ht.f()}return!1}else if(ot.policy==="AllOn"){var vt=ut(ot.ids),mt;try{for(vt.s();!(mt=vt.n()).done;){var gt=mt.value;if(!this._groups.has(gt))return(0,tt.warn)("Optional content group not found: ".concat(gt)),!0;if(!this._groups.get(gt).visible)return!1}}catch(jt){vt.e(jt)}finally{vt.f()}return!0}else if(ot.policy==="AnyOff"){var bt=ut(ot.ids),_t;try{for(bt.s();!(_t=bt.n()).done;){var Ct=_t.value;if(!this._groups.has(Ct))return(0,tt.warn)("Optional content group not found: ".concat(Ct)),!0;if(!this._groups.get(Ct).visible)return!0}}catch(jt){bt.e(jt)}finally{bt.f()}return!1}else if(ot.policy==="AllOff"){var xt=ut(ot.ids),Tt;try{for(xt.s();!(Tt=xt.n()).done;){var Mt=Tt.value;if(!this._groups.has(Mt))return(0,tt.warn)("Optional content group not found: ".concat(Mt)),!0;if(this._groups.get(Mt).visible)return!1}}catch(jt){xt.e(jt)}finally{xt.f()}return!0}return(0,tt.warn)("Unknown optional content policy ".concat(ot.policy,".")),!0}return(0,tt.warn)("Unknown group type ".concat(ot.type,".")),!0}},{key:"setVisibility",value:function(ot){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this._groups.has(ot)){(0,tt.warn)("Optional content group not found: ".concat(ot));return}this._groups.get(ot).visible=!!ht}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,tt.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(ot){return this._groups.get(ot)||null}}]),at}();_e.OptionalContentConfig=it},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFDataTransportStream=void 0;var tt=yt(et(2)),ut=et(4),pt=et(1);function yt(vt){return vt&&vt.__esModule?vt:{default:vt}}function ct(vt,mt,gt,bt,_t,Ct,xt){try{var Tt=vt[Ct](xt),Mt=Tt.value}catch(jt){gt(jt);return}Tt.done?mt(Mt):Promise.resolve(Mt).then(bt,_t)}function rt(vt){return function(){var mt=this,gt=arguments;return new Promise(function(bt,_t){var Ct=vt.apply(mt,gt);function xt(Mt){ct(Ct,bt,_t,xt,Tt,"next",Mt)}function Tt(Mt){ct(Ct,bt,_t,xt,Tt,"throw",Mt)}xt(void 0)})}}function lt(vt,mt){var gt=typeof Symbol!="undefined"&&vt[Symbol.iterator]||vt["@@iterator"];if(!gt){if(Array.isArray(vt)||(gt=ft(vt))||mt&&vt&&typeof vt.length=="number"){gt&&(vt=gt);var bt=0,_t=function(){};return{s:_t,n:function(){return bt>=vt.length?{done:!0}:{done:!1,value:vt[bt++]}},e:function(jt){throw jt},f:_t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ct=!0,xt=!1,Tt;return{s:function(){gt=gt.call(vt)},n:function(){var jt=gt.next();return Ct=jt.done,jt},e:function(jt){xt=!0,Tt=jt},f:function(){try{!Ct&&gt.return!=null&&gt.return()}finally{if(xt)throw Tt}}}}function ft(vt,mt){if(!!vt){if(typeof vt=="string")return it(vt,mt);var gt=Object.prototype.toString.call(vt).slice(8,-1);if(gt==="Object"&&vt.constructor&&(gt=vt.constructor.name),gt==="Map"||gt==="Set")return Array.from(vt);if(gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt))return it(vt,mt)}}function it(vt,mt){(mt==null||mt>vt.length)&&(mt=vt.length);for(var gt=0,bt=new Array(mt);gt<mt;gt++)bt[gt]=vt[gt];return bt}function at(vt,mt){if(!(vt instanceof mt))throw new TypeError("Cannot call a class as a function")}function nt(vt,mt){for(var gt=0;gt<mt.length;gt++){var bt=mt[gt];bt.enumerable=bt.enumerable||!1,bt.configurable=!0,"value"in bt&&(bt.writable=!0),Object.defineProperty(vt,bt.key,bt)}}function ot(vt,mt,gt){return mt&&nt(vt.prototype,mt),gt&&nt(vt,gt),vt}var ht=function(){function vt(mt,gt){var bt=this;at(this,vt),(0,ut.assert)(gt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=mt.progressiveDone||!1,this._contentDispositionFilename=mt.contentDispositionFilename||null;var _t=mt.initialData;if((_t==null?void 0:_t.length)>0){var Ct=new Uint8Array(_t).buffer;this._queuedChunks.push(Ct)}this._pdfDataRangeTransport=gt,this._isStreamingSupported=!mt.disableStream,this._isRangeSupported=!mt.disableRange,this._contentLength=mt.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(xt,Tt){bt._onReceiveData({begin:xt,chunk:Tt})}),this._pdfDataRangeTransport.addProgressListener(function(xt,Tt){bt._onProgress({loaded:xt,total:Tt})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(xt){bt._onReceiveData({chunk:xt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){bt._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return ot(vt,[{key:"_onReceiveData",value:function(gt){var bt=new Uint8Array(gt.chunk).buffer;if(gt.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(bt):this._queuedChunks.push(bt);else{var _t=this._rangeReaders.some(function(Ct){return Ct._begin!==gt.begin?!1:(Ct._enqueue(bt),!0)});(0,ut.assert)(_t,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var gt,bt;return(gt=(bt=this._fullRequestReader)===null||bt===void 0?void 0:bt._loaded)!==null&&gt!==void 0?gt:0}},{key:"_onProgress",value:function(gt){if(gt.total===void 0){var bt=this._rangeReaders[0];bt!=null&&bt.onProgress&&bt.onProgress({loaded:gt.loaded})}else{var _t=this._fullRequestReader;_t!=null&&_t.onProgress&&_t.onProgress({loaded:gt.loaded,total:gt.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(gt){var bt=this._rangeReaders.indexOf(gt);bt>=0&&this._rangeReaders.splice(bt,1)}},{key:"getFullReader",value:function(){(0,ut.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var gt=this._queuedChunks;return this._queuedChunks=null,new st(this,gt,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(gt,bt){if(bt<=this._progressiveDataLength)return null;var _t=new dt(this,gt,bt);return this._pdfDataRangeTransport.requestDataRange(gt,bt),this._rangeReaders.push(_t),_t}},{key:"cancelAllRequests",value:function(gt){this._fullRequestReader&&this._fullRequestReader.cancel(gt);var bt=lt(this._rangeReaders.slice(0)),_t;try{for(bt.s();!(_t=bt.n()).done;){var Ct=_t.value;Ct.cancel(gt)}}catch(xt){bt.e(xt)}finally{bt.f()}this._pdfDataRangeTransport.abort()}}]),vt}();_e.PDFDataTransportStream=ht;var st=function(){function vt(mt,gt){var bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;at(this,vt),this._stream=mt,this._done=bt||!1,this._filename=(0,pt.isPdfFile)(_t)?_t:null,this._queuedChunks=gt||[],this._loaded=0;var Ct=lt(this._queuedChunks),xt;try{for(Ct.s();!(xt=Ct.n()).done;){var Tt=xt.value;this._loaded+=Tt.byteLength}}catch(Mt){Ct.e(Mt)}finally{Ct.f()}this._requests=[],this._headersReady=Promise.resolve(),mt._fullRequestReader=this,this.onProgress=null}return ot(vt,[{key:"_enqueue",value:function(gt){if(!this._done){if(this._requests.length>0){var bt=this._requests.shift();bt.resolve({value:gt,done:!1})}else this._queuedChunks.push(gt);this._loaded+=gt.byteLength}}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){var mt=rt(tt.default.mark(function bt(){var _t,Ct;return tt.default.wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:if(!(this._queuedChunks.length>0)){Tt.next=3;break}return _t=this._queuedChunks.shift(),Tt.abrupt("return",{value:_t,done:!1});case 3:if(!this._done){Tt.next=5;break}return Tt.abrupt("return",{value:void 0,done:!0});case 5:return Ct=(0,ut.createPromiseCapability)(),this._requests.push(Ct),Tt.abrupt("return",Ct.promise);case 8:case"end":return Tt.stop()}},bt,this)}));function gt(){return mt.apply(this,arguments)}return gt}()},{key:"cancel",value:function(gt){this._done=!0;var bt=lt(this._requests),_t;try{for(bt.s();!(_t=bt.n()).done;){var Ct=_t.value;Ct.resolve({value:void 0,done:!0})}}catch(xt){bt.e(xt)}finally{bt.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),vt}(),dt=function(){function vt(mt,gt,bt){at(this,vt),this._stream=mt,this._begin=gt,this._end=bt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return ot(vt,[{key:"_enqueue",value:function(gt){if(!this._done){if(this._requests.length===0)this._queuedChunk=gt;else{var bt=this._requests.shift();bt.resolve({value:gt,done:!1});var _t=lt(this._requests),Ct;try{for(_t.s();!(Ct=_t.n()).done;){var xt=Ct.value;xt.resolve({value:void 0,done:!0})}}catch(Tt){_t.e(Tt)}finally{_t.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var mt=rt(tt.default.mark(function bt(){var _t,Ct;return tt.default.wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:if(!this._queuedChunk){Tt.next=4;break}return _t=this._queuedChunk,this._queuedChunk=null,Tt.abrupt("return",{value:_t,done:!1});case 4:if(!this._done){Tt.next=6;break}return Tt.abrupt("return",{value:void 0,done:!0});case 6:return Ct=(0,ut.createPromiseCapability)(),this._requests.push(Ct),Tt.abrupt("return",Ct.promise);case 9:case"end":return Tt.stop()}},bt,this)}));function gt(){return mt.apply(this,arguments)}return gt}()},{key:"cancel",value:function(gt){this._done=!0;var bt=lt(this._requests),_t;try{for(bt.s();!(_t=bt.n()).done;){var Ct=_t.value;Ct.resolve({value:void 0,done:!0})}}catch(xt){bt.e(xt)}finally{bt.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),vt}()},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XfaText=void 0;function et(lt,ft){var it=typeof Symbol!="undefined"&&lt[Symbol.iterator]||lt["@@iterator"];if(!it){if(Array.isArray(lt)||(it=tt(lt))||ft&&lt&&typeof lt.length=="number"){it&&(lt=it);var at=0,nt=function(){};return{s:nt,n:function(){return at>=lt.length?{done:!0}:{done:!1,value:lt[at++]}},e:function(vt){throw vt},f:nt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ot=!0,ht=!1,st;return{s:function(){it=it.call(lt)},n:function(){var vt=it.next();return ot=vt.done,vt},e:function(vt){ht=!0,st=vt},f:function(){try{!ot&&it.return!=null&&it.return()}finally{if(ht)throw st}}}}function tt(lt,ft){if(!!lt){if(typeof lt=="string")return ut(lt,ft);var it=Object.prototype.toString.call(lt).slice(8,-1);if(it==="Object"&&lt.constructor&&(it=lt.constructor.name),it==="Map"||it==="Set")return Array.from(lt);if(it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return ut(lt,ft)}}function ut(lt,ft){(ft==null||ft>lt.length)&&(ft=lt.length);for(var it=0,at=new Array(ft);it<ft;it++)at[it]=lt[it];return at}function pt(lt,ft){if(!(lt instanceof ft))throw new TypeError("Cannot call a class as a function")}function yt(lt,ft){for(var it=0;it<ft.length;it++){var at=ft[it];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(lt,at.key,at)}}function ct(lt,ft,it){return ft&&yt(lt.prototype,ft),it&&yt(lt,it),lt}var rt=function(){function lt(){pt(this,lt)}return ct(lt,null,[{key:"textContent",value:function(it){var at=[],nt={items:at,styles:Object.create(null)};function ot(ht){var st;if(!!ht){var dt=null,vt=ht.name;if(vt==="#text")dt=ht.value;else if(lt.shouldBuildText(vt))ht!=null&&(st=ht.attributes)!==null&&st!==void 0&&st.textContent?dt=ht.attributes.textContent:ht.value&&(dt=ht.value);else return;if(dt!==null&&at.push({str:dt}),!!ht.children){var mt=et(ht.children),gt;try{for(mt.s();!(gt=mt.n()).done;){var bt=gt.value;ot(bt)}}catch(_t){mt.e(_t)}finally{mt.f()}}}}return ot(it),nt}},{key:"shouldBuildText",value:function(it){return!(it==="textarea"||it==="input"||it==="option"||it==="select")}}]),lt}();_e.XfaText=rt},($,_e,et)=>{function tt(dr){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tt=function(Qt){return typeof Qt}:tt=function(Qt){return Qt&&typeof Symbol=="function"&&Qt.constructor===Symbol&&Qt!==Symbol.prototype?"symbol":typeof Qt},tt(dr)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationLayer=void 0;var ut=et(4),pt=et(1),yt=et(139),ct=et(149),rt=et(150);function lt(dr,mr,Qt){return ft(dr,mr),Qt}function ft(dr,mr){if(dr!==mr)throw new TypeError("Private static access of wrong provenance")}function it(dr,mr,Qt){return typeof Reflect!="undefined"&&Reflect.get?it=Reflect.get:it=function(tr,fr,ar){var rr=at(tr,fr);if(!!rr){var yr=Object.getOwnPropertyDescriptor(rr,fr);return yr.get?yr.get.call(ar):yr.value}},it(dr,mr,Qt||dr)}function at(dr,mr){for(;!Object.prototype.hasOwnProperty.call(dr,mr)&&(dr=xt(dr),dr!==null););return dr}function nt(dr,mr,Qt){return mr in dr?Object.defineProperty(dr,mr,{value:Qt,enumerable:!0,configurable:!0,writable:!0}):dr[mr]=Qt,dr}function ot(dr){return dt(dr)||st(dr)||Gt(dr)||ht()}function ht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function st(dr){if(typeof Symbol!="undefined"&&dr[Symbol.iterator]!=null||dr["@@iterator"]!=null)return Array.from(dr)}function dt(dr){if(Array.isArray(dr))return zt(dr)}function vt(dr,mr){if(typeof mr!="function"&&mr!==null)throw new TypeError("Super expression must either be null or a function");dr.prototype=Object.create(mr&&mr.prototype,{constructor:{value:dr,writable:!0,configurable:!0}}),mr&&mt(dr,mr)}function mt(dr,mr){return mt=Object.setPrototypeOf||function(nr,tr){return nr.__proto__=tr,nr},mt(dr,mr)}function gt(dr){var mr=Ct();return function(){var nr=xt(dr),tr;if(mr){var fr=xt(this).constructor;tr=Reflect.construct(nr,arguments,fr)}else tr=nr.apply(this,arguments);return bt(this,tr)}}function bt(dr,mr){if(mr&&(tt(mr)==="object"||typeof mr=="function"))return mr;if(mr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _t(dr)}function _t(dr){if(dr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return dr}function Ct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xt(dr){return xt=Object.setPrototypeOf?Object.getPrototypeOf:function(Qt){return Qt.__proto__||Object.getPrototypeOf(Qt)},xt(dr)}function Tt(dr,mr){var Qt=typeof Symbol!="undefined"&&dr[Symbol.iterator]||dr["@@iterator"];if(!Qt){if(Array.isArray(dr)||(Qt=Gt(dr))||mr&&dr&&typeof dr.length=="number"){Qt&&(dr=Qt);var nr=0,tr=function(){};return{s:tr,n:function(){return nr>=dr.length?{done:!0}:{done:!1,value:dr[nr++]}},e:function(gr){throw gr},f:tr}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fr=!0,ar=!1,rr;return{s:function(){Qt=Qt.call(dr)},n:function(){var gr=Qt.next();return fr=gr.done,gr},e:function(gr){ar=!0,rr=gr},f:function(){try{!fr&&Qt.return!=null&&Qt.return()}finally{if(ar)throw rr}}}}function Mt(dr,mr){return Kt(dr)||Xt(dr,mr)||Gt(dr,mr)||jt()}function jt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gt(dr,mr){if(!!dr){if(typeof dr=="string")return zt(dr,mr);var Qt=Object.prototype.toString.call(dr).slice(8,-1);if(Qt==="Object"&&dr.constructor&&(Qt=dr.constructor.name),Qt==="Map"||Qt==="Set")return Array.from(dr);if(Qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qt))return zt(dr,mr)}}function zt(dr,mr){(mr==null||mr>dr.length)&&(mr=dr.length);for(var Qt=0,nr=new Array(mr);Qt<mr;Qt++)nr[Qt]=dr[Qt];return nr}function Xt(dr,mr){var Qt=dr==null?null:typeof Symbol!="undefined"&&dr[Symbol.iterator]||dr["@@iterator"];if(Qt!=null){var nr=[],tr=!0,fr=!1,ar,rr;try{for(Qt=Qt.call(dr);!(tr=(ar=Qt.next()).done)&&(nr.push(ar.value),!(mr&&nr.length===mr));tr=!0);}catch(yr){fr=!0,rr=yr}finally{try{!tr&&Qt.return!=null&&Qt.return()}finally{if(fr)throw rr}}return nr}}function Kt(dr){if(Array.isArray(dr))return dr}function qt(dr,mr){if(!(dr instanceof mr))throw new TypeError("Cannot call a class as a function")}function er(dr,mr){for(var Qt=0;Qt<mr.length;Qt++){var nr=mr[Qt];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(dr,nr.key,nr)}}function Ut(dr,mr,Qt){return mr&&er(dr.prototype,mr),Qt&&er(dr,Qt),dr}var Ot=1e3,Et=new WeakSet,wt=function(){function dr(){qt(this,dr)}return Ut(dr,null,[{key:"create",value:function(Qt){var nr=Qt.data.annotationType;switch(nr){case ut.AnnotationType.LINK:return new Lt(Qt);case ut.AnnotationType.TEXT:return new Dt(Qt);case ut.AnnotationType.WIDGET:var tr=Qt.data.fieldType;switch(tr){case"Tx":return new Nt(Qt);case"Btn":return Qt.data.radioButton?new sr(Qt):Qt.data.checkBox?new Jt(Qt):new lr(Qt);case"Ch":return new Ht(Qt)}return new It(Qt);case ut.AnnotationType.POPUP:return new Bt(Qt);case ut.AnnotationType.FREETEXT:return new At(Qt);case ut.AnnotationType.LINE:return new Rt(Qt);case ut.AnnotationType.SQUARE:return new $t(Qt);case ut.AnnotationType.CIRCLE:return new Wt(Qt);case ut.AnnotationType.POLYLINE:return new Vt(Qt);case ut.AnnotationType.CARET:return new ir(Qt);case ut.AnnotationType.INK:return new vr(Qt);case ut.AnnotationType.POLYGON:return new Zt(Qt);case ut.AnnotationType.HIGHLIGHT:return new cr(Qt);case ut.AnnotationType.UNDERLINE:return new or(Qt);case ut.AnnotationType.SQUIGGLY:return new br(Qt);case ut.AnnotationType.STRIKEOUT:return new Cr(Qt);case ut.AnnotationType.STAMP:return new Ar(Qt);case ut.AnnotationType.FILEATTACHMENT:return new kr(Qt);default:return new Pt(Qt)}}}]),dr}(),Pt=function(){function dr(mr){var Qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nr=Qt.isRenderable,tr=nr===void 0?!1:nr,fr=Qt.ignoreBorder,ar=fr===void 0?!1:fr,rr=Qt.createQuadrilaterals,yr=rr===void 0?!1:rr;qt(this,dr),this.isRenderable=tr,this.data=mr.data,this.layer=mr.layer,this.page=mr.page,this.viewport=mr.viewport,this.linkService=mr.linkService,this.downloadManager=mr.downloadManager,this.imageResourcesPath=mr.imageResourcesPath,this.renderForms=mr.renderForms,this.svgFactory=mr.svgFactory,this.annotationStorage=mr.annotationStorage,this.enableScripting=mr.enableScripting,this.hasJSActions=mr.hasJSActions,this._fieldObjects=mr.fieldObjects,this._mouseState=mr.mouseState,tr&&(this.container=this._createContainer(ar)),yr&&(this.quadrilaterals=this._createQuadrilaterals(ar))}return Ut(dr,[{key:"_createContainer",value:function(){var Qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,nr=this.data,tr=this.page,fr=this.viewport,ar=document.createElement("section"),rr=nr.rect[2]-nr.rect[0],yr=nr.rect[3]-nr.rect[1];ar.setAttribute("data-annotation-id",nr.id);var gr=ut.Util.normalizeRect([nr.rect[0],tr.view[3]-nr.rect[1]+tr.view[1],nr.rect[2],tr.view[3]-nr.rect[3]+tr.view[1]]);if(nr.hasOwnCanvas){var wr=fr.transform.slice(),Er=ut.Util.singularValueDecompose2dScale(wr),Ir=Mt(Er,2),Dr=Ir[0],xr=Ir[1];rr=Math.ceil(rr*Dr),yr=Math.ceil(yr*xr),gr[0]*=Dr,gr[1]*=xr;for(var $r=0;$r<4;$r++)wr[$r]=Math.sign(wr[$r]);ar.style.transform="matrix(".concat(wr.join(","),")")}else ar.style.transform="matrix(".concat(fr.transform.join(","),")");if(ar.style.transformOrigin="".concat(-gr[0],"px ").concat(-gr[1],"px"),!Qt&&nr.borderStyle.width>0){ar.style.borderWidth="".concat(nr.borderStyle.width,"px"),nr.borderStyle.style!==ut.AnnotationBorderStyleType.UNDERLINE&&(rr-=2*nr.borderStyle.width,yr-=2*nr.borderStyle.width);var Rr=nr.borderStyle.horizontalCornerRadius,Fr=nr.borderStyle.verticalCornerRadius;if(Rr>0||Fr>0){var Nr="".concat(Rr,"px / ").concat(Fr,"px");ar.style.borderRadius=Nr}switch(nr.borderStyle.style){case ut.AnnotationBorderStyleType.SOLID:ar.style.borderStyle="solid";break;case ut.AnnotationBorderStyleType.DASHED:ar.style.borderStyle="dashed";break;case ut.AnnotationBorderStyleType.BEVELED:(0,ut.warn)("Unimplemented border style: beveled");break;case ut.AnnotationBorderStyleType.INSET:(0,ut.warn)("Unimplemented border style: inset");break;case ut.AnnotationBorderStyleType.UNDERLINE:ar.style.borderBottomStyle="solid";break}var jr=nr.borderColor||nr.color||null;jr?ar.style.borderColor=ut.Util.makeHexColor(nr.color[0]|0,nr.color[1]|0,nr.color[2]|0):ar.style.borderWidth=0}return ar.style.left="".concat(gr[0],"px"),ar.style.top="".concat(gr[1],"px"),nr.hasOwnCanvas?ar.style.width=ar.style.height="auto":(ar.style.width="".concat(rr,"px"),ar.style.height="".concat(yr,"px")),ar}},{key:"_createQuadrilaterals",value:function(){var Qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;var nr=[],tr=this.data.rect,fr=Tt(this.data.quadPoints),ar;try{for(fr.s();!(ar=fr.n()).done;){var rr=ar.value;this.data.rect=[rr[2].x,rr[2].y,rr[1].x,rr[1].y],nr.push(this._createContainer(Qt))}}catch(yr){fr.e(yr)}finally{fr.f()}return this.data.rect=tr,nr}},{key:"_createPopup",value:function(Qt,nr){var tr=this.container;this.quadrilaterals&&(Qt=Qt||this.quadrilaterals,tr=this.quadrilaterals[0]),Qt||(Qt=document.createElement("div"),Qt.style.height=tr.style.height,Qt.style.width=tr.style.width,tr.appendChild(Qt));var fr=new Ft({container:tr,trigger:Qt,color:nr.color,titleObj:nr.titleObj,modificationDate:nr.modificationDate,contentsObj:nr.contentsObj,richText:nr.richText,hideWrapper:!0}),ar=fr.render();ar.style.left=tr.style.width,tr.appendChild(ar)}},{key:"_renderQuadrilaterals",value:function(Qt){var nr=Tt(this.quadrilaterals),tr;try{for(nr.s();!(tr=nr.n()).done;){var fr=tr.value;fr.className=Qt}}catch(ar){nr.e(ar)}finally{nr.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,ut.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(Qt){var nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,tr=[];if(this._fieldObjects){var fr=this._fieldObjects[Qt];if(fr){var ar=Tt(fr),rr;try{for(ar.s();!(rr=ar.n()).done;){var yr=rr.value,gr=yr.page,wr=yr.id,Er=yr.exportValues;if(gr!==-1&&wr!==nr){var Ir=typeof Er=="string"?Er:null,Dr=document.getElementById(wr);if(Dr&&!Et.has(Dr)){(0,ut.warn)("_getElementsByName - element not allowed: ".concat(wr));continue}tr.push({id:wr,exportValue:Ir,domElement:Dr})}}}catch(jr){ar.e(jr)}finally{ar.f()}}return tr}var xr=Tt(document.getElementsByName(Qt)),$r;try{for(xr.s();!($r=xr.n()).done;){var Rr=$r.value,Fr=Rr.id,Nr=Rr.exportValue;Fr!==nr&&(!Et.has(Rr)||tr.push({id:Fr,exportValue:Nr,domElement:Rr}))}}catch(jr){xr.e(jr)}finally{xr.f()}return tr}}],[{key:"platform",get:function(){var Qt=typeof navigator!="undefined"?navigator.platform:"";return(0,ut.shadow)(this,"platform",{isWin:Qt.includes("Win"),isMac:Qt.includes("Mac")})}}]),dr}(),Lt=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;qt(this,Qt);var fr=!!(nr.data.url||nr.data.dest||nr.data.action||nr.data.isTooltipOnly||nr.data.resetForm||nr.data.actions&&(nr.data.actions.Action||nr.data.actions["Mouse Up"]||nr.data.actions["Mouse Down"]));return mr.call(this,nr,{isRenderable:fr,ignoreBorder:!!(tr!=null&&tr.ignoreBorder),createQuadrilaterals:!0})}return Ut(Qt,[{key:"render",value:function(){var tr=this.data,fr=this.linkService,ar=document.createElement("a");if(tr.url){var rr;fr.addLinkAttributes||(0,ut.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),(rr=fr.addLinkAttributes)===null||rr===void 0||rr.call(fr,ar,tr.url,tr.newWindow)}else if(tr.action)this._bindNamedAction(ar,tr.action);else if(tr.dest)this._bindLink(ar,tr.dest);else{var yr=!1;tr.actions&&(tr.actions.Action||tr.actions["Mouse Up"]||tr.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(yr=!0,this._bindJSAction(ar,tr)),tr.resetForm?this._bindResetFormAction(ar,tr.resetForm):yr||this._bindLink(ar,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(gr,wr){var Er=wr===0?ar:ar.cloneNode();return gr.appendChild(Er),gr}):(this.container.className="linkAnnotation",this.container.appendChild(ar),this.container)}},{key:"_bindLink",value:function(tr,fr){var ar=this;tr.href=this.linkService.getDestinationHash(fr),tr.onclick=function(){return fr&&ar.linkService.goToDestination(fr),!1},(fr||fr==="")&&(tr.className="internalLink")}},{key:"_bindNamedAction",value:function(tr,fr){var ar=this;tr.href=this.linkService.getAnchorUrl(""),tr.onclick=function(){return ar.linkService.executeNamedAction(fr),!1},tr.className="internalLink"}},{key:"_bindJSAction",value:function(tr,fr){var ar=this;tr.href=this.linkService.getAnchorUrl("");for(var rr=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),yr=function(){var Dr=wr[gr],xr=rr.get(Dr);if(!xr)return"continue";tr[xr]=function(){var $r;return($r=ar.linkService.eventBus)===null||$r===void 0||$r.dispatch("dispatcheventinsandbox",{source:ar,detail:{id:fr.id,name:Dr}}),!1}},gr=0,wr=Object.keys(fr.actions);gr<wr.length;gr++)var Er=yr();tr.onclick||(tr.onclick=function(){return!1}),tr.className="internalLink"}},{key:"_bindResetFormAction",value:function(tr,fr){var ar=this,rr=tr.onclick;if(rr||(tr.href=this.linkService.getAnchorUrl("")),tr.className="internalLink",!this._fieldObjects){(0,ut.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),rr||(tr.onclick=function(){return!1});return}tr.onclick=function(){rr&&rr();var yr=fr.fields,gr=fr.refs,wr=fr.include,Er=[];if(yr.length!==0||gr.length!==0){var Ir=new Set(gr),Dr=Tt(yr),xr;try{for(Dr.s();!(xr=Dr.n()).done;){var $r=xr.value,Rr=ar._fieldObjects[$r]||[],Fr=Tt(Rr),Nr;try{for(Fr.s();!(Nr=Fr.n()).done;){var jr=Nr.value.id;Ir.add(jr)}}catch(Wr){Fr.e(Wr)}finally{Fr.f()}}}catch(Wr){Dr.e(Wr)}finally{Dr.f()}for(var zr=0,Gr=Object.values(ar._fieldObjects);zr<Gr.length;zr++){var qr=Gr[zr],sn=Tt(qr),hn;try{for(sn.s();!(hn=sn.n()).done;){var wn=hn.value;Ir.has(wn.id)===wr&&Er.push(wn)}}catch(Wr){sn.e(Wr)}finally{sn.f()}}}else for(var Sn=0,In=Object.values(ar._fieldObjects);Sn<In.length;Sn++){var _i=In[Sn];Er.push.apply(Er,ot(_i))}for(var jn=ar.annotationStorage,Nn=[],Bn=0,na=Er;Bn<na.length;Bn++){var Pn=na[Bn],Dn=Pn.id;switch(Nn.push(Dn),Pn.type){case"text":{var pr=Pn.defaultValue||"";jn.setValue(Dn,{value:pr,valueAsString:pr});break}case"checkbox":case"radiobutton":{var Tr=Pn.defaultValue===Pn.exportValues;jn.setValue(Dn,{value:Tr});break}case"combobox":case"listbox":{var hr=Pn.defaultValue||"";jn.setValue(Dn,{value:hr});break}default:continue}var Sr=document.getElementById(Dn);!Sr||!Et.has(Sr)||Sr.dispatchEvent(new Event("resetform"))}if(ar.enableScripting){var Br;(Br=ar.linkService.eventBus)===null||Br===void 0||Br.dispatch("dispatcheventinsandbox",{source:ar,detail:{id:"app",ids:Nn,name:"ResetForm"}})}return!1}}}]),Qt}(Pt),Dt=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar;qt(this,Qt);var rr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return mr.call(this,nr,{isRenderable:rr})}return Ut(Qt,[{key:"render",value:function(){this.container.className="textAnnotation";var tr=document.createElement("img");return tr.style.height=this.container.style.height,tr.style.width=this.container.style.width,tr.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",tr.alt="[{{type}} Annotation]",tr.dataset.l10nId="text_annotation_type",tr.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(tr,this.data),this.container.appendChild(tr),this.container}}]),Qt}(Pt),It=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(){return qt(this,Qt),mr.apply(this,arguments)}return Ut(Qt,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(tr){var fr=Pt.platform,ar=fr.isWin,rr=fr.isMac;return ar&&tr.ctrlKey||rr&&tr.metaKey}},{key:"_setEventListener",value:function(tr,fr,ar,rr){var yr=this;fr.includes("mouse")?tr.addEventListener(fr,function(gr){var wr;(wr=yr.linkService.eventBus)===null||wr===void 0||wr.dispatch("dispatcheventinsandbox",{source:yr,detail:{id:yr.data.id,name:ar,value:rr(gr),shift:gr.shiftKey,modifier:yr._getKeyModifier(gr)}})}):tr.addEventListener(fr,function(gr){var wr;(wr=yr.linkService.eventBus)===null||wr===void 0||wr.dispatch("dispatcheventinsandbox",{source:yr,detail:{id:yr.data.id,name:ar,value:gr.target.checked}})})}},{key:"_setEventListeners",value:function(tr,fr,ar){var rr=Tt(fr),yr;try{for(rr.s();!(yr=rr.n()).done;){var gr,wr=Mt(yr.value,2),Er=wr[0],Ir=wr[1];(Ir==="Action"||(gr=this.data.actions)!==null&&gr!==void 0&&gr[Ir])&&this._setEventListener(tr,Er,Ir,ar)}}catch(Dr){rr.e(Dr)}finally{rr.f()}}},{key:"_setBackgroundColor",value:function(tr){var fr=this.data.backgroundColor||null;tr.style.backgroundColor=fr===null?"transparent":ut.Util.makeHexColor(fr[0],fr[1],fr[2])}},{key:"_dispatchEventFromSandbox",value:function(tr,fr){for(var ar=this,rr=function(xr,$r,Rr){var Fr=Rr.detail[xr];Rr.target.style[$r]=ct.ColorConverters["".concat(Fr[0],"_HTML")](Fr.slice(1))},yr={display:function(xr){var $r=xr.detail.display%2===1;xr.target.style.visibility=$r?"hidden":"visible",ar.annotationStorage.setValue(ar.data.id,{hidden:$r,print:xr.detail.display===0||xr.detail.display===3})},print:function(xr){ar.annotationStorage.setValue(ar.data.id,{print:xr.detail.print})},hidden:function(xr){xr.target.style.visibility=xr.detail.hidden?"hidden":"visible",ar.annotationStorage.setValue(ar.data.id,{hidden:xr.detail.hidden})},focus:function(xr){setTimeout(function(){return xr.target.focus({preventScroll:!1})},0)},userName:function(xr){xr.target.title=xr.detail.userName},readonly:function(xr){xr.detail.readonly?xr.target.setAttribute("readonly",""):xr.target.removeAttribute("readonly")},required:function(xr){xr.detail.required?xr.target.setAttribute("required",""):xr.target.removeAttribute("required")},bgColor:function(xr){rr("bgColor","backgroundColor",xr)},fillColor:function(xr){rr("fillColor","backgroundColor",xr)},fgColor:function(xr){rr("fgColor","color",xr)},textColor:function(xr){rr("textColor","color",xr)},borderColor:function(xr){rr("borderColor","borderColor",xr)},strokeColor:function(xr){rr("strokeColor","borderColor",xr)}},gr=0,wr=Object.keys(fr.detail);gr<wr.length;gr++){var Er=wr[gr],Ir=tr[Er]||yr[Er];Ir&&Ir(fr)}}}]),Qt}(Pt),Nt=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){qt(this,Qt);var tr=nr.renderForms||!nr.data.hasAppearance&&!!nr.data.fieldValue;return mr.call(this,nr,{isRenderable:tr})}return Ut(Qt,[{key:"setPropertyOnSiblings",value:function(tr,fr,ar,rr){var yr=this.annotationStorage,gr=Tt(this._getElementsByName(tr.name,tr.id)),wr;try{for(gr.s();!(wr=gr.n()).done;){var Er=wr.value;Er.domElement&&(Er.domElement[fr]=ar),yr.setValue(Er.id,nt({},rr,ar))}}catch(Ir){gr.e(Ir)}finally{gr.f()}}},{key:"render",value:function(){var tr=this,fr=this.annotationStorage,ar=this.data.id;this.container.className="textWidgetAnnotation";var rr=null;if(this.renderForms){var yr=fr.getValue(ar,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),gr=yr.valueAsString||yr.value||"",wr={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(rr=document.createElement("textarea"),rr.textContent=gr):(rr=document.createElement("input"),rr.type="text",rr.setAttribute("value",gr)),Et.add(rr),rr.disabled=this.data.readOnly,rr.name=this.data.fieldName,rr.tabIndex=Ot,wr.userValue=gr,rr.setAttribute("id",ar),rr.addEventListener("input",function(Rr){fr.setValue(ar,{value:Rr.target.value}),tr.setPropertyOnSiblings(rr,"value",Rr.target.value,"value")}),rr.addEventListener("resetform",function(Rr){var Fr=tr.data.defaultFieldValue||"";rr.value=wr.userValue=Fr,delete wr.formattedValue});var Er=function(Fr){wr.formattedValue&&(Fr.target.value=wr.formattedValue),Fr.target.scrollLeft=0,wr.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var Ir;rr.addEventListener("focus",function(Rr){wr.userValue&&(Rr.target.value=wr.userValue)}),rr.addEventListener("updatefromsandbox",function(Rr){var Fr={value:function(jr){wr.userValue=jr.detail.value||"",fr.setValue(ar,{value:wr.userValue.toString()}),wr.formattedValue||(jr.target.value=wr.userValue)},valueAsString:function(jr){wr.formattedValue=jr.detail.valueAsString||"",jr.target!==document.activeElement&&(jr.target.value=wr.formattedValue),fr.setValue(ar,{formattedValue:wr.formattedValue})},selRange:function(jr){var zr=Mt(jr.detail.selRange,2),Gr=zr[0],qr=zr[1];Gr>=0&&qr<jr.target.value.length&&jr.target.setSelectionRange(Gr,qr)}};tr._dispatchEventFromSandbox(Fr,Rr)}),rr.addEventListener("keydown",function(Rr){var Fr;wr.beforeInputValue=Rr.target.value;var Nr=-1;Rr.key==="Escape"?Nr=0:Rr.key==="Enter"?Nr=2:Rr.key==="Tab"&&(Nr=3),Nr!==-1&&(wr.userValue=Rr.target.value,(Fr=tr.linkService.eventBus)===null||Fr===void 0||Fr.dispatch("dispatcheventinsandbox",{source:tr,detail:{id:ar,name:"Keystroke",value:Rr.target.value,willCommit:!0,commitKey:Nr,selStart:Rr.target.selectionStart,selEnd:Rr.target.selectionEnd}}))});var Dr=Er;Er=null,rr.addEventListener("blur",function(Rr){if(tr._mouseState.isDown){var Fr;wr.userValue=Rr.target.value,(Fr=tr.linkService.eventBus)===null||Fr===void 0||Fr.dispatch("dispatcheventinsandbox",{source:tr,detail:{id:ar,name:"Keystroke",value:Rr.target.value,willCommit:!0,commitKey:1,selStart:Rr.target.selectionStart,selEnd:Rr.target.selectionEnd}})}Dr(Rr)}),rr.addEventListener("mousedown",function(Rr){wr.beforeInputValue=Rr.target.value,wr.beforeInputSelectionRange=null}),rr.addEventListener("keyup",function(Rr){Rr.target.selectionStart===Rr.target.selectionEnd&&(wr.beforeInputSelectionRange=null)}),rr.addEventListener("select",function(Rr){wr.beforeInputSelectionRange=[Rr.target.selectionStart,Rr.target.selectionEnd]}),(Ir=this.data.actions)!==null&&Ir!==void 0&&Ir.Keystroke&&rr.addEventListener("input",function(Rr){var Fr,Nr=-1,jr=-1;if(wr.beforeInputSelectionRange){var zr=Mt(wr.beforeInputSelectionRange,2);Nr=zr[0],jr=zr[1]}(Fr=tr.linkService.eventBus)===null||Fr===void 0||Fr.dispatch("dispatcheventinsandbox",{source:tr,detail:{id:ar,name:"Keystroke",value:wr.beforeInputValue,change:Rr.data,willCommit:!1,selStart:Nr,selEnd:jr}})}),this._setEventListeners(rr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Rr){return Rr.target.value})}if(Er&&rr.addEventListener("blur",Er),this.data.maxLen!==null&&(rr.maxLength=this.data.maxLen),this.data.comb){var xr=this.data.rect[2]-this.data.rect[0],$r=xr/this.data.maxLen;rr.classList.add("comb"),rr.style.letterSpacing="calc(".concat($r,"px - 1ch)")}}else rr=document.createElement("div"),rr.textContent=this.data.fieldValue,rr.style.verticalAlign="middle",rr.style.display="table-cell";return this._setTextStyle(rr),this._setBackgroundColor(rr),this.container.appendChild(rr),this.container}},{key:"_setTextStyle",value:function(tr){var fr=["left","center","right"],ar=this.data.defaultAppearanceData,rr=ar.fontSize,yr=ar.fontColor,gr=tr.style;rr&&(gr.fontSize="".concat(rr,"px")),gr.color=ut.Util.makeHexColor(yr[0],yr[1],yr[2]),this.data.textAlignment!==null&&(gr.textAlign=fr[this.data.textAlignment])}}]),Qt}(It),Jt=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){return qt(this,Qt),mr.call(this,nr,{isRenderable:nr.renderForms})}return Ut(Qt,[{key:"render",value:function(){var tr=this,fr=this.annotationStorage,ar=this.data,rr=ar.id,yr=fr.getValue(rr,{value:ar.exportValue===ar.fieldValue}).value;typeof yr=="string"&&(yr=yr!=="Off",fr.setValue(rr,{value:yr})),this.container.className="buttonWidgetAnnotation checkBox";var gr=document.createElement("input");return Et.add(gr),gr.disabled=ar.readOnly,gr.type="checkbox",gr.name=ar.fieldName,yr&&gr.setAttribute("checked",!0),gr.setAttribute("id",rr),gr.setAttribute("exportValue",ar.exportValue),gr.tabIndex=Ot,gr.addEventListener("change",function(wr){var Er=wr.target,Ir=Er.name,Dr=Er.checked,xr=Tt(tr._getElementsByName(Ir,rr)),$r;try{for(xr.s();!($r=xr.n()).done;){var Rr=$r.value,Fr=Dr&&Rr.exportValue===ar.exportValue;Rr.domElement&&(Rr.domElement.checked=Fr),fr.setValue(Rr.id,{value:Fr})}}catch(Nr){xr.e(Nr)}finally{xr.f()}fr.setValue(rr,{value:Dr})}),gr.addEventListener("resetform",function(wr){var Er=ar.defaultFieldValue||"Off";wr.target.checked=Er===ar.exportValue}),this.enableScripting&&this.hasJSActions&&(gr.addEventListener("updatefromsandbox",function(wr){var Er={value:function(Dr){Dr.target.checked=Dr.detail.value!=="Off",fr.setValue(rr,{value:Dr.target.checked})}};tr._dispatchEventFromSandbox(Er,wr)}),this._setEventListeners(gr,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(wr){return wr.target.checked})),this._setBackgroundColor(gr),this.container.appendChild(gr),this.container}}]),Qt}(It),sr=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){return qt(this,Qt),mr.call(this,nr,{isRenderable:nr.renderForms})}return Ut(Qt,[{key:"render",value:function(){var tr=this;this.container.className="buttonWidgetAnnotation radioButton";var fr=this.annotationStorage,ar=this.data,rr=ar.id,yr=fr.getValue(rr,{value:ar.fieldValue===ar.buttonValue}).value;typeof yr=="string"&&(yr=yr!==ar.buttonValue,fr.setValue(rr,{value:yr}));var gr=document.createElement("input");if(Et.add(gr),gr.disabled=ar.readOnly,gr.type="radio",gr.name=ar.fieldName,yr&&gr.setAttribute("checked",!0),gr.setAttribute("id",rr),gr.tabIndex=Ot,gr.addEventListener("change",function(Er){var Ir=Er.target,Dr=Ir.name,xr=Ir.checked,$r=Tt(tr._getElementsByName(Dr,rr)),Rr;try{for($r.s();!(Rr=$r.n()).done;){var Fr=Rr.value;fr.setValue(Fr.id,{value:!1})}}catch(Nr){$r.e(Nr)}finally{$r.f()}fr.setValue(rr,{value:xr})}),gr.addEventListener("resetform",function(Er){var Ir=ar.defaultFieldValue;Er.target.checked=Ir!=null&&Ir===ar.buttonValue}),this.enableScripting&&this.hasJSActions){var wr=ar.buttonValue;gr.addEventListener("updatefromsandbox",function(Er){var Ir={value:function(xr){var $r=wr===xr.detail.value,Rr=Tt(tr._getElementsByName(xr.target.name)),Fr;try{for(Rr.s();!(Fr=Rr.n()).done;){var Nr=Fr.value,jr=$r&&Nr.id===rr;Nr.domElement&&(Nr.domElement.checked=jr),fr.setValue(Nr.id,{value:jr})}}catch(zr){Rr.e(zr)}finally{Rr.f()}}};tr._dispatchEventFromSandbox(Ir,Er)}),this._setEventListeners(gr,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Er){return Er.target.checked})}return this._setBackgroundColor(gr),this.container.appendChild(gr),this.container}}]),Qt}(It),lr=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){return qt(this,Qt),mr.call(this,nr,{ignoreBorder:nr.data.hasAppearance})}return Ut(Qt,[{key:"render",value:function(){var tr=it(xt(Qt.prototype),"render",this).call(this);return tr.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(tr.title=this.data.alternativeText),tr}}]),Qt}(Lt),Ht=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){return qt(this,Qt),mr.call(this,nr,{isRenderable:nr.renderForms})}return Ut(Qt,[{key:"render",value:function(){var tr=this;this.container.className="choiceWidgetAnnotation";var fr=this.annotationStorage,ar=this.data.id;fr.getValue(ar,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var rr=this.data.defaultAppearanceData.fontSize;rr||(rr=9);var yr="calc(".concat(rr,"px * var(--zoom-factor))"),gr=document.createElement("select");Et.add(gr),gr.disabled=this.data.readOnly,gr.name=this.data.fieldName,gr.setAttribute("id",ar),gr.tabIndex=Ot,gr.style.fontSize="".concat(rr,"px"),this.data.combo||(gr.size=this.data.options.length,this.data.multiSelect&&(gr.multiple=!0)),gr.addEventListener("resetform",function(Rr){var Fr=tr.data.defaultFieldValue,Nr=Tt(gr.options),jr;try{for(Nr.s();!(jr=Nr.n()).done;){var zr=jr.value;zr.selected=zr.value===Fr}}catch(Gr){Nr.e(Gr)}finally{Nr.f()}});var wr=Tt(this.data.options),Er;try{for(wr.s();!(Er=wr.n()).done;){var Ir=Er.value,Dr=document.createElement("option");Dr.textContent=Ir.displayValue,Dr.value=Ir.exportValue,this.data.combo&&(Dr.style.fontSize=yr),this.data.fieldValue.includes(Ir.exportValue)&&Dr.setAttribute("selected",!0),gr.appendChild(Dr)}}catch(Rr){wr.e(Rr)}finally{wr.f()}var xr=function(Fr,Nr){var jr=Nr?"value":"textContent",zr=Fr.target.options;return Fr.target.multiple?Array.prototype.filter.call(zr,function(Gr){return Gr.selected}).map(function(Gr){return Gr[jr]}):zr.selectedIndex===-1?null:zr[zr.selectedIndex][jr]},$r=function(Fr){var Nr=Fr.target.options;return Array.prototype.map.call(Nr,function(jr){return{displayValue:jr.textContent,exportValue:jr.value}})};return this.enableScripting&&this.hasJSActions?(gr.addEventListener("updatefromsandbox",function(Rr){var Fr={value:function(jr){var zr=jr.detail.value,Gr=new Set(Array.isArray(zr)?zr:[zr]),qr=Tt(gr.options),sn;try{for(qr.s();!(sn=qr.n()).done;){var hn=sn.value;hn.selected=Gr.has(hn.value)}}catch(wn){qr.e(wn)}finally{qr.f()}fr.setValue(ar,{value:xr(jr,!0)})},multipleSelection:function(jr){gr.multiple=!0},remove:function(jr){var zr=gr.options,Gr=jr.detail.remove;if(zr[Gr].selected=!1,gr.remove(Gr),zr.length>0){var qr=Array.prototype.findIndex.call(zr,function(sn){return sn.selected});qr===-1&&(zr[0].selected=!0)}fr.setValue(ar,{value:xr(jr,!0),items:$r(jr)})},clear:function(jr){for(;gr.length!==0;)gr.remove(0);fr.setValue(ar,{value:null,items:[]})},insert:function(jr){var zr=jr.detail.insert,Gr=zr.index,qr=zr.displayValue,sn=zr.exportValue,hn=document.createElement("option");hn.textContent=qr,hn.value=sn,gr.insertBefore(hn,gr.children[Gr]),fr.setValue(ar,{value:xr(jr,!0),items:$r(jr)})},items:function(jr){for(var zr=jr.detail.items;gr.length!==0;)gr.remove(0);var Gr=Tt(zr),qr;try{for(Gr.s();!(qr=Gr.n()).done;){var sn=qr.value,hn=sn.displayValue,wn=sn.exportValue,Sn=document.createElement("option");Sn.textContent=hn,Sn.value=wn,gr.appendChild(Sn)}}catch(In){Gr.e(In)}finally{Gr.f()}gr.options.length>0&&(gr.options[0].selected=!0),fr.setValue(ar,{value:xr(jr,!0),items:$r(jr)})},indices:function(jr){var zr=new Set(jr.detail.indices),Gr=Tt(jr.target.options),qr;try{for(Gr.s();!(qr=Gr.n()).done;){var sn=qr.value;sn.selected=zr.has(sn.index)}}catch(hn){Gr.e(hn)}finally{Gr.f()}fr.setValue(ar,{value:xr(jr,!0)})},editable:function(jr){jr.target.disabled=!jr.detail.editable}};tr._dispatchEventFromSandbox(Fr,Rr)}),gr.addEventListener("input",function(Rr){var Fr,Nr=xr(Rr,!0),jr=xr(Rr,!1);fr.setValue(ar,{value:Nr}),(Fr=tr.linkService.eventBus)===null||Fr===void 0||Fr.dispatch("dispatcheventinsandbox",{source:tr,detail:{id:ar,name:"Keystroke",value:jr,changeEx:Nr,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(gr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(Rr){return Rr.target.checked})):gr.addEventListener("input",function(Rr){fr.setValue(ar,{value:xr(Rr)})}),this._setBackgroundColor(gr),this.container.appendChild(gr),this.container}}]),Qt}(It),Bt=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar;qt(this,Qt);var rr=!!((tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return mr.call(this,nr,{isRenderable:rr})}return Ut(Qt,[{key:"render",value:function(){var tr=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",tr.includes(this.data.parentType))return this.container;var fr='[data-annotation-id="'.concat(this.data.parentId,'"]'),ar=this.layer.querySelectorAll(fr);if(ar.length===0)return this.container;var rr=new Ft({container:this.container,trigger:Array.from(ar),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),yr=this.page,gr=ut.Util.normalizeRect([this.data.parentRect[0],yr.view[3]-this.data.parentRect[1]+yr.view[1],this.data.parentRect[2],yr.view[3]-this.data.parentRect[3]+yr.view[1]]),wr=gr[0]+this.data.parentRect[2]-this.data.parentRect[0],Er=gr[1];return this.container.style.transformOrigin="".concat(-wr,"px ").concat(-Er,"px"),this.container.style.left="".concat(wr,"px"),this.container.style.top="".concat(Er,"px"),this.container.appendChild(rr.render()),this.container}}]),Qt}(Pt),Ft=function(){function dr(mr){qt(this,dr),this.container=mr.container,this.trigger=mr.trigger,this.color=mr.color,this.titleObj=mr.titleObj,this.modificationDate=mr.modificationDate,this.contentsObj=mr.contentsObj,this.richText=mr.richText,this.hideWrapper=mr.hideWrapper||!1,this.pinned=!1}return Ut(dr,[{key:"render",value:function(){var Qt,nr,tr=.7,fr=document.createElement("div");fr.className="popupWrapper",this.hideElement=this.hideWrapper?fr:this.container,this.hideElement.hidden=!0;var ar=document.createElement("div");ar.className="popup";var rr=this.color;if(rr){var yr=tr*(255-rr[0])+rr[0],gr=tr*(255-rr[1])+rr[1],wr=tr*(255-rr[2])+rr[2];ar.style.backgroundColor=ut.Util.makeHexColor(yr|0,gr|0,wr|0)}var Er=document.createElement("h1");Er.dir=this.titleObj.dir,Er.textContent=this.titleObj.str,ar.appendChild(Er);var Ir=pt.PDFDateString.toDateObject(this.modificationDate);if(Ir){var Dr=document.createElement("span");Dr.className="popupDate",Dr.textContent="{{date}}, {{time}}",Dr.dataset.l10nId="annotation_date_string",Dr.dataset.l10nArgs=JSON.stringify({date:Ir.toLocaleDateString(),time:Ir.toLocaleTimeString()}),ar.appendChild(Dr)}if((Qt=this.richText)!==null&&Qt!==void 0&&Qt.str&&(!((nr=this.contentsObj)!==null&&nr!==void 0&&nr.str)||this.contentsObj.str===this.richText.str))rt.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ar}),ar.lastChild.className="richText popupContent";else{var xr=this._formatContents(this.contentsObj);ar.appendChild(xr)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var $r=Tt(this.trigger),Rr;try{for($r.s();!(Rr=$r.n()).done;){var Fr=Rr.value;Fr.addEventListener("click",this._toggle.bind(this)),Fr.addEventListener("mouseover",this._show.bind(this,!1)),Fr.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(Nr){$r.e(Nr)}finally{$r.f()}return ar.addEventListener("click",this._hide.bind(this,!0)),fr.appendChild(ar),fr}},{key:"_formatContents",value:function(Qt){var nr=Qt.str,tr=Qt.dir,fr=document.createElement("p");fr.className="popupContent",fr.dir=tr;for(var ar=nr.split(/(?:\r\n?|\n)/),rr=0,yr=ar.length;rr<yr;++rr){var gr=ar[rr];fr.appendChild(document.createTextNode(gr)),rr<yr-1&&fr.appendChild(document.createElement("br"))}return fr}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var Qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Qt&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var Qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Qt&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),dr}(),At=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar;qt(this,Qt);var rr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return mr.call(this,nr,{isRenderable:rr,ignoreBorder:!0})}return Ut(Qt,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),Qt}(Pt),Rt=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar;qt(this,Qt);var rr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return mr.call(this,nr,{isRenderable:rr,ignoreBorder:!0})}return Ut(Qt,[{key:"render",value:function(){this.container.className="lineAnnotation";var tr=this.data,fr=tr.rect[2]-tr.rect[0],ar=tr.rect[3]-tr.rect[1],rr=this.svgFactory.create(fr,ar),yr=this.svgFactory.createElement("svg:line");return yr.setAttribute("x1",tr.rect[2]-tr.lineCoordinates[0]),yr.setAttribute("y1",tr.rect[3]-tr.lineCoordinates[1]),yr.setAttribute("x2",tr.rect[2]-tr.lineCoordinates[2]),yr.setAttribute("y2",tr.rect[3]-tr.lineCoordinates[3]),yr.setAttribute("stroke-width",tr.borderStyle.width||1),yr.setAttribute("stroke","transparent"),yr.setAttribute("fill","transparent"),rr.appendChild(yr),this.container.append(rr),this._createPopup(yr,tr),this.container}}]),Qt}(Pt),$t=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar;qt(this,Qt);var rr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return mr.call(this,nr,{isRenderable:rr,ignoreBorder:!0})}return Ut(Qt,[{key:"render",value:function(){this.container.className="squareAnnotation";var tr=this.data,fr=tr.rect[2]-tr.rect[0],ar=tr.rect[3]-tr.rect[1],rr=this.svgFactory.create(fr,ar),yr=tr.borderStyle.width,gr=this.svgFactory.createElement("svg:rect");return gr.setAttribute("x",yr/2),gr.setAttribute("y",yr/2),gr.setAttribute("width",fr-yr),gr.setAttribute("height",ar-yr),gr.setAttribute("stroke-width",yr||1),gr.setAttribute("stroke","transparent"),gr.setAttribute("fill","transparent"),rr.appendChild(gr),this.container.append(rr),this._createPopup(gr,tr),this.container}}]),Qt}(Pt),Wt=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar;qt(this,Qt);var rr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return mr.call(this,nr,{isRenderable:rr,ignoreBorder:!0})}return Ut(Qt,[{key:"render",value:function(){this.container.className="circleAnnotation";var tr=this.data,fr=tr.rect[2]-tr.rect[0],ar=tr.rect[3]-tr.rect[1],rr=this.svgFactory.create(fr,ar),yr=tr.borderStyle.width,gr=this.svgFactory.createElement("svg:ellipse");return gr.setAttribute("cx",fr/2),gr.setAttribute("cy",ar/2),gr.setAttribute("rx",fr/2-yr/2),gr.setAttribute("ry",ar/2-yr/2),gr.setAttribute("stroke-width",yr||1),gr.setAttribute("stroke","transparent"),gr.setAttribute("fill","transparent"),rr.appendChild(gr),this.container.append(rr),this._createPopup(gr,tr),this.container}}]),Qt}(Pt),Vt=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar,rr;qt(this,Qt);var yr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return rr=mr.call(this,nr,{isRenderable:yr,ignoreBorder:!0}),rr.containerClassName="polylineAnnotation",rr.svgElementName="svg:polyline",rr}return Ut(Qt,[{key:"render",value:function(){this.container.className=this.containerClassName;var tr=this.data,fr=tr.rect[2]-tr.rect[0],ar=tr.rect[3]-tr.rect[1],rr=this.svgFactory.create(fr,ar),yr=[],gr=Tt(tr.vertices),wr;try{for(gr.s();!(wr=gr.n()).done;){var Er=wr.value,Ir=Er.x-tr.rect[0],Dr=tr.rect[3]-Er.y;yr.push(Ir+","+Dr)}}catch($r){gr.e($r)}finally{gr.f()}yr=yr.join(" ");var xr=this.svgFactory.createElement(this.svgElementName);return xr.setAttribute("points",yr),xr.setAttribute("stroke-width",tr.borderStyle.width||1),xr.setAttribute("stroke","transparent"),xr.setAttribute("fill","transparent"),rr.appendChild(xr),this.container.append(rr),this._createPopup(xr,tr),this.container}}]),Qt}(Pt),Zt=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr;return qt(this,Qt),tr=mr.call(this,nr),tr.containerClassName="polygonAnnotation",tr.svgElementName="svg:polygon",tr}return Qt}(Vt),ir=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar;qt(this,Qt);var rr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return mr.call(this,nr,{isRenderable:rr,ignoreBorder:!0})}return Ut(Qt,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),Qt}(Pt),vr=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar,rr;qt(this,Qt);var yr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return rr=mr.call(this,nr,{isRenderable:yr,ignoreBorder:!0}),rr.containerClassName="inkAnnotation",rr.svgElementName="svg:polyline",rr}return Ut(Qt,[{key:"render",value:function(){this.container.className=this.containerClassName;var tr=this.data,fr=tr.rect[2]-tr.rect[0],ar=tr.rect[3]-tr.rect[1],rr=this.svgFactory.create(fr,ar),yr=Tt(tr.inkLists),gr;try{for(yr.s();!(gr=yr.n()).done;){var wr=gr.value,Er=[],Ir=Tt(wr),Dr;try{for(Ir.s();!(Dr=Ir.n()).done;){var xr=Dr.value,$r=xr.x-tr.rect[0],Rr=tr.rect[3]-xr.y;Er.push("".concat($r,",").concat(Rr))}}catch(Nr){Ir.e(Nr)}finally{Ir.f()}Er=Er.join(" ");var Fr=this.svgFactory.createElement(this.svgElementName);Fr.setAttribute("points",Er),Fr.setAttribute("stroke-width",tr.borderStyle.width||1),Fr.setAttribute("stroke","transparent"),Fr.setAttribute("fill","transparent"),this._createPopup(Fr,tr),rr.appendChild(Fr)}}catch(Nr){yr.e(Nr)}finally{yr.f()}return this.container.append(rr),this.container}}]),Qt}(Pt),cr=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar;qt(this,Qt);var rr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return mr.call(this,nr,{isRenderable:rr,ignoreBorder:!0,createQuadrilaterals:!0})}return Ut(Qt,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),Qt}(Pt),or=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar;qt(this,Qt);var rr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return mr.call(this,nr,{isRenderable:rr,ignoreBorder:!0,createQuadrilaterals:!0})}return Ut(Qt,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),Qt}(Pt),br=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar;qt(this,Qt);var rr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return mr.call(this,nr,{isRenderable:rr,ignoreBorder:!0,createQuadrilaterals:!0})}return Ut(Qt,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),Qt}(Pt),Cr=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar;qt(this,Qt);var rr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return mr.call(this,nr,{isRenderable:rr,ignoreBorder:!0,createQuadrilaterals:!0})}return Ut(Qt,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),Qt}(Pt),Ar=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr,ar;qt(this,Qt);var rr=!!(nr.data.hasPopup||(tr=nr.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=nr.data.contentsObj)!==null&&fr!==void 0&&fr.str||(ar=nr.data.richText)!==null&&ar!==void 0&&ar.str);return mr.call(this,nr,{isRenderable:rr,ignoreBorder:!0})}return Ut(Qt,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),Qt}(Pt),kr=function(dr){vt(Qt,dr);var mr=gt(Qt);function Qt(nr){var tr,fr;qt(this,Qt),fr=mr.call(this,nr,{isRenderable:!0});var ar=fr.data.file,rr=ar.filename,yr=ar.content;return fr.filename=(0,pt.getFilenameFromUrl)(rr),fr.content=yr,(tr=fr.linkService.eventBus)===null||tr===void 0||tr.dispatch("fileattachmentannotation",{source:_t(fr),id:(0,ut.stringToPDFString)(rr),filename:rr,content:yr}),fr}return Ut(Qt,[{key:"render",value:function(){var tr,fr;this.container.className="fileAttachmentAnnotation";var ar=document.createElement("div");return ar.style.height=this.container.style.height,ar.style.width=this.container.style.width,ar.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((tr=this.data.titleObj)!==null&&tr!==void 0&&tr.str||(fr=this.data.contentsObj)!==null&&fr!==void 0&&fr.str||this.data.richText)&&this._createPopup(ar,this.data),this.container.appendChild(ar),this.container}},{key:"_download",value:function(){var tr;(tr=this.downloadManager)===null||tr===void 0||tr.openOrDownloadData(this.container,this.content,this.filename)}}]),Qt}(Pt),Or=function(){function dr(){qt(this,dr)}return Ut(dr,null,[{key:"render",value:function(Qt){var nr=[],tr=[],fr=Tt(Qt.annotations),ar;try{for(fr.s();!(ar=fr.n()).done;){var rr=ar.value;if(!!rr){if(rr.annotationType===ut.AnnotationType.POPUP){tr.push(rr);continue}nr.push(rr)}}}catch(Fr){fr.e(Fr)}finally{fr.f()}tr.length&&nr.push.apply(nr,tr);for(var yr=Qt.div,gr=0,wr=nr;gr<wr.length;gr++){var Er=wr[gr],Ir=wt.create({data:Er,layer:yr,page:Qt.page,viewport:Qt.viewport,linkService:Qt.linkService,downloadManager:Qt.downloadManager,imageResourcesPath:Qt.imageResourcesPath||"",renderForms:Qt.renderForms!==!1,svgFactory:new pt.DOMSVGFactory,annotationStorage:Qt.annotationStorage||new yt.AnnotationStorage,enableScripting:Qt.enableScripting,hasJSActions:Qt.hasJSActions,fieldObjects:Qt.fieldObjects,mouseState:Qt.mouseState||{isDown:!1}});if(Ir.isRenderable){var Dr=Ir.render();if(Er.hidden&&(Dr.style.visibility="hidden"),Array.isArray(Dr)){var xr=Tt(Dr),$r;try{for(xr.s();!($r=xr.n()).done;){var Rr=$r.value;yr.appendChild(Rr)}}catch(Fr){xr.e(Fr)}finally{xr.f()}}else Ir instanceof Bt?yr.prepend(Dr):yr.appendChild(Dr)}}lt(this,dr,Lr).call(this,yr,Qt.annotationCanvasMap)}},{key:"update",value:function(Qt){var nr=Qt.page,tr=Qt.viewport,fr=Qt.annotations,ar=Qt.annotationCanvasMap,rr=Qt.div,yr=tr.transform,gr="matrix(".concat(yr.join(","),")"),wr,Er,Ir=Tt(fr),Dr;try{for(Ir.s();!(Dr=Ir.n()).done;){var xr=Dr.value,$r=rr.querySelectorAll('[data-annotation-id="'.concat(xr.id,'"]'));if($r){var Rr=Tt($r),Fr;try{for(Rr.s();!(Fr=Rr.n()).done;){var Nr=Fr.value;if(xr.hasOwnCanvas){var jr=ut.Util.normalizeRect([xr.rect[0],nr.view[3]-xr.rect[1]+nr.view[1],xr.rect[2],nr.view[3]-xr.rect[3]+nr.view[1]]);if(!Er){wr=Math.abs(yr[0]||yr[1]);for(var zr=yr.slice(),Gr=0;Gr<4;Gr++)zr[Gr]=Math.sign(zr[Gr]);Er="matrix(".concat(zr.join(","),")")}var qr=jr[0]*wr,sn=jr[1]*wr;Nr.style.left="".concat(qr,"px"),Nr.style.top="".concat(sn,"px"),Nr.style.transformOrigin="".concat(-qr,"px ").concat(-sn,"px"),Nr.style.transform=Er}else Nr.style.transform=gr}}catch(hn){Rr.e(hn)}finally{Rr.f()}}}}catch(hn){Ir.e(hn)}finally{Ir.f()}lt(this,dr,Lr).call(this,rr,ar),rr.hidden=!1}}]),dr}();_e.AnnotationLayer=Or;function Lr(dr,mr){if(!!mr){var Qt=Tt(mr),nr;try{for(Qt.s();!(nr=Qt.n()).done;){var tr=Mt(nr.value,2),fr=tr[0],ar=tr[1],rr=dr.querySelector('[data-annotation-id="'.concat(fr,'"]'));if(!!rr){var yr=rr.firstChild;yr.nodeName==="CANVAS"?rr.replaceChild(ar,yr):rr.insertBefore(ar,yr)}}}catch(gr){Qt.e(gr)}finally{Qt.f()}mr.clear()}}},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ColorConverters=void 0;function et(nt,ot){return ct(nt)||yt(nt,ot)||ut(nt,ot)||tt()}function tt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ut(nt,ot){if(!!nt){if(typeof nt=="string")return pt(nt,ot);var ht=Object.prototype.toString.call(nt).slice(8,-1);if(ht==="Object"&&nt.constructor&&(ht=nt.constructor.name),ht==="Map"||ht==="Set")return Array.from(nt);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return pt(nt,ot)}}function pt(nt,ot){(ot==null||ot>nt.length)&&(ot=nt.length);for(var ht=0,st=new Array(ot);ht<ot;ht++)st[ht]=nt[ht];return st}function yt(nt,ot){var ht=nt==null?null:typeof Symbol!="undefined"&&nt[Symbol.iterator]||nt["@@iterator"];if(ht!=null){var st=[],dt=!0,vt=!1,mt,gt;try{for(ht=ht.call(nt);!(dt=(mt=ht.next()).done)&&(st.push(mt.value),!(ot&&st.length===ot));dt=!0);}catch(bt){vt=!0,gt=bt}finally{try{!dt&&ht.return!=null&&ht.return()}finally{if(vt)throw gt}}return st}}function ct(nt){if(Array.isArray(nt))return nt}function rt(nt,ot){if(!(nt instanceof ot))throw new TypeError("Cannot call a class as a function")}function lt(nt,ot){for(var ht=0;ht<ot.length;ht++){var st=ot[ht];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(nt,st.key,st)}}function ft(nt,ot,ht){return ot&&lt(nt.prototype,ot),ht&&lt(nt,ht),nt}function it(nt){return Math.floor(Math.max(0,Math.min(1,nt))*255).toString(16).padStart(2,"0")}var at=function(){function nt(){rt(this,nt)}return ft(nt,null,[{key:"CMYK_G",value:function(ht){var st=et(ht,4),dt=st[0],vt=st[1],mt=st[2],gt=st[3];return["G",1-Math.min(1,.3*dt+.59*mt+.11*vt+gt)]}},{key:"G_CMYK",value:function(ht){var st=et(ht,1),dt=st[0];return["CMYK",0,0,0,1-dt]}},{key:"G_RGB",value:function(ht){var st=et(ht,1),dt=st[0];return["RGB",dt,dt,dt]}},{key:"G_HTML",value:function(ht){var st=et(ht,1),dt=st[0],vt=it(dt);return"#".concat(vt).concat(vt).concat(vt)}},{key:"RGB_G",value:function(ht){var st=et(ht,3),dt=st[0],vt=st[1],mt=st[2];return["G",.3*dt+.59*vt+.11*mt]}},{key:"RGB_HTML",value:function(ht){var st=et(ht,3),dt=st[0],vt=st[1],mt=st[2],gt=it(dt),bt=it(vt),_t=it(mt);return"#".concat(gt).concat(bt).concat(_t)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(ht){var st=et(ht,4),dt=st[0],vt=st[1],mt=st[2],gt=st[3];return["RGB",1-Math.min(1,dt+gt),1-Math.min(1,mt+gt),1-Math.min(1,vt+gt)]}},{key:"CMYK_HTML",value:function(ht){return this.RGB_HTML(this.CMYK_RGB(ht))}},{key:"RGB_CMYK",value:function(ht){var st=et(ht,3),dt=st[0],vt=st[1],mt=st[2],gt=1-dt,bt=1-vt,_t=1-mt,Ct=Math.min(gt,bt,_t);return["CMYK",gt,bt,_t,Ct]}}]),nt}();_e.ColorConverters=at},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XfaLayer=void 0;var tt=et(4),ut=et(147);function pt(st,dt){return rt(st)||ct(st,dt)||ft(st,dt)||yt()}function yt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ct(st,dt){var vt=st==null?null:typeof Symbol!="undefined"&&st[Symbol.iterator]||st["@@iterator"];if(vt!=null){var mt=[],gt=!0,bt=!1,_t,Ct;try{for(vt=vt.call(st);!(gt=(_t=vt.next()).done)&&(mt.push(_t.value),!(dt&&mt.length===dt));gt=!0);}catch(xt){bt=!0,Ct=xt}finally{try{!gt&&vt.return!=null&&vt.return()}finally{if(bt)throw Ct}}return mt}}function rt(st){if(Array.isArray(st))return st}function lt(st,dt){var vt=typeof Symbol!="undefined"&&st[Symbol.iterator]||st["@@iterator"];if(!vt){if(Array.isArray(st)||(vt=ft(st))||dt&&st&&typeof st.length=="number"){vt&&(st=vt);var mt=0,gt=function(){};return{s:gt,n:function(){return mt>=st.length?{done:!0}:{done:!1,value:st[mt++]}},e:function(Tt){throw Tt},f:gt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bt=!0,_t=!1,Ct;return{s:function(){vt=vt.call(st)},n:function(){var Tt=vt.next();return bt=Tt.done,Tt},e:function(Tt){_t=!0,Ct=Tt},f:function(){try{!bt&&vt.return!=null&&vt.return()}finally{if(_t)throw Ct}}}}function ft(st,dt){if(!!st){if(typeof st=="string")return it(st,dt);var vt=Object.prototype.toString.call(st).slice(8,-1);if(vt==="Object"&&st.constructor&&(vt=st.constructor.name),vt==="Map"||vt==="Set")return Array.from(st);if(vt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vt))return it(st,dt)}}function it(st,dt){(dt==null||dt>st.length)&&(dt=st.length);for(var vt=0,mt=new Array(dt);vt<dt;vt++)mt[vt]=st[vt];return mt}function at(st,dt){if(!(st instanceof dt))throw new TypeError("Cannot call a class as a function")}function nt(st,dt){for(var vt=0;vt<dt.length;vt++){var mt=dt[vt];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(st,mt.key,mt)}}function ot(st,dt,vt){return dt&&nt(st.prototype,dt),vt&&nt(st,vt),st}var ht=function(){function st(){at(this,st)}return ot(st,null,[{key:"setupStorage",value:function(vt,mt,gt,bt,_t){var Ct=bt.getValue(mt,{value:null});switch(gt.name){case"textarea":if(Ct.value!==null&&(vt.textContent=Ct.value),_t==="print")break;vt.addEventListener("input",function(jt){bt.setValue(mt,{value:jt.target.value})});break;case"input":if(gt.attributes.type==="radio"||gt.attributes.type==="checkbox"){if(Ct.value===gt.attributes.xfaOn?vt.setAttribute("checked",!0):Ct.value===gt.attributes.xfaOff&&vt.removeAttribute("checked"),_t==="print")break;vt.addEventListener("change",function(jt){bt.setValue(mt,{value:jt.target.checked?jt.target.getAttribute("xfaOn"):jt.target.getAttribute("xfaOff")})})}else{if(Ct.value!==null&&vt.setAttribute("value",Ct.value),_t==="print")break;vt.addEventListener("input",function(jt){bt.setValue(mt,{value:jt.target.value})})}break;case"select":if(Ct.value!==null){var xt=lt(gt.children),Tt;try{for(xt.s();!(Tt=xt.n()).done;){var Mt=Tt.value;Mt.attributes.value===Ct.value&&(Mt.attributes.selected=!0)}}catch(jt){xt.e(jt)}finally{xt.f()}}vt.addEventListener("input",function(jt){var Gt=jt.target.options,zt=Gt.selectedIndex===-1?"":Gt[Gt.selectedIndex].value;bt.setValue(mt,{value:zt})});break}}},{key:"setAttributes",value:function(vt){var mt=vt.html,gt=vt.element,bt=vt.storage,_t=bt===void 0?null:bt,Ct=vt.intent,xt=vt.linkService,Tt=gt.attributes,Mt=mt instanceof HTMLAnchorElement;Tt.type==="radio"&&(Tt.name="".concat(Tt.name,"-").concat(Ct));for(var jt=0,Gt=Object.entries(Tt);jt<Gt.length;jt++){var zt=pt(Gt[jt],2),Xt=zt[0],Kt=zt[1];if(!(Kt==null||Xt==="dataId"))if(Xt!=="style")if(Xt==="textContent")mt.textContent=Kt;else if(Xt==="class")Kt.length&&mt.setAttribute(Xt,Kt.join(" "));else{if(Mt&&(Xt==="href"||Xt==="newWindow"))continue;mt.setAttribute(Xt,Kt)}else Object.assign(mt.style,Kt)}if(Mt){var qt;xt.addLinkAttributes||(0,tt.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),(qt=xt.addLinkAttributes)===null||qt===void 0||qt.call(xt,mt,Tt.href,Tt.newWindow)}_t&&Tt.dataId&&this.setupStorage(mt,Tt.dataId,gt,_t)}},{key:"render",value:function(vt){var mt=vt.annotationStorage,gt=vt.linkService,bt=vt.xfaHtml,_t=vt.intent||"display",Ct=document.createElement(bt.name);bt.attributes&&this.setAttributes({html:Ct,element:bt,intent:_t,linkService:gt});var xt=[[bt,-1,Ct]],Tt=vt.div;if(Tt.appendChild(Ct),vt.viewport){var Mt="matrix(".concat(vt.viewport.transform.join(","),")");Tt.style.transform=Mt}_t!=="richText"&&Tt.setAttribute("class","xfaLayer xfaFont");for(var jt=[];xt.length>0;){var Gt,zt=pt(xt[xt.length-1],3),Xt=zt[0],Kt=zt[1],qt=zt[2];if(Kt+1===Xt.children.length){xt.pop();continue}var er=Xt.children[++xt[xt.length-1][1]];if(er!==null){var Ut=er.name;if(Ut==="#text"){var Ot=document.createTextNode(er.value);jt.push(Ot),qt.appendChild(Ot);continue}var Et=void 0;if(er!=null&&(Gt=er.attributes)!==null&&Gt!==void 0&&Gt.xmlns?Et=document.createElementNS(er.attributes.xmlns,Ut):Et=document.createElement(Ut),qt.appendChild(Et),er.attributes&&this.setAttributes({html:Et,element:er,storage:mt,intent:_t,linkService:gt}),er.children&&er.children.length>0)xt.push([er,-1,Et]);else if(er.value){var wt=document.createTextNode(er.value);ut.XfaText.shouldBuildText(Ut)&&jt.push(wt),Et.appendChild(wt)}}}var Pt=lt(Tt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea")),Lt;try{for(Pt.s();!(Lt=Pt.n()).done;){var Dt=Lt.value;Dt.setAttribute("readOnly",!0)}}catch(It){Pt.e(It)}finally{Pt.f()}return{textDivs:jt}}},{key:"update",value:function(vt){var mt="matrix(".concat(vt.viewport.transform.join(","),")");vt.div.style.transform=mt,vt.div.hidden=!1}}]),st}();_e.XfaLayer=ht},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.renderTextLayer=Ct;var tt=et(4);function ut(xt,Tt){if(!(xt instanceof Tt))throw new TypeError("Cannot call a class as a function")}function pt(xt,Tt){for(var Mt=0;Mt<Tt.length;Mt++){var jt=Tt[Mt];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(xt,jt.key,jt)}}function yt(xt,Tt,Mt){return Tt&&pt(xt.prototype,Tt),Mt&&pt(xt,Mt),xt}function ct(xt,Tt){var Mt=typeof Symbol!="undefined"&&xt[Symbol.iterator]||xt["@@iterator"];if(!Mt){if(Array.isArray(xt)||(Mt=rt(xt))||Tt&&xt&&typeof xt.length=="number"){Mt&&(xt=Mt);var jt=0,Gt=function(){};return{s:Gt,n:function(){return jt>=xt.length?{done:!0}:{done:!1,value:xt[jt++]}},e:function(er){throw er},f:Gt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var zt=!0,Xt=!1,Kt;return{s:function(){Mt=Mt.call(xt)},n:function(){var er=Mt.next();return zt=er.done,er},e:function(er){Xt=!0,Kt=er},f:function(){try{!zt&&Mt.return!=null&&Mt.return()}finally{if(Xt)throw Kt}}}}function rt(xt,Tt){if(!!xt){if(typeof xt=="string")return lt(xt,Tt);var Mt=Object.prototype.toString.call(xt).slice(8,-1);if(Mt==="Object"&&xt.constructor&&(Mt=xt.constructor.name),Mt==="Map"||Mt==="Set")return Array.from(xt);if(Mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mt))return lt(xt,Tt)}}function lt(xt,Tt){(Tt==null||Tt>xt.length)&&(Tt=xt.length);for(var Mt=0,jt=new Array(Tt);Mt<Tt;Mt++)jt[Mt]=xt[Mt];return jt}var ft=1e5,it=30,at=.8,nt=new Map,ot=/^\s+$/g;function ht(xt,Tt){var Mt=nt.get(xt);if(Mt)return Mt;Tt.save(),Tt.font="".concat(it,"px ").concat(xt);var jt=Tt.measureText(""),Gt=jt.fontBoundingBoxAscent,zt=Math.abs(jt.fontBoundingBoxDescent);if(Gt){Tt.restore();var Xt=Gt/(Gt+zt);return nt.set(xt,Xt),Xt}Tt.strokeStyle="red",Tt.clearRect(0,0,it,it),Tt.strokeText("g",0,0);var Kt=Tt.getImageData(0,0,it,it).data;zt=0;for(var qt=Kt.length-1-3;qt>=0;qt-=4)if(Kt[qt]>0){zt=Math.ceil(qt/4/it);break}Tt.clearRect(0,0,it,it),Tt.strokeText("A",0,it),Kt=Tt.getImageData(0,0,it,it).data,Gt=0;for(var er=0,Ut=Kt.length;er<Ut;er+=4)if(Kt[er]>0){Gt=it-Math.floor(er/4/it);break}if(Tt.restore(),Gt){var Ot=Gt/(Gt+zt);return nt.set(xt,Ot),Ot}return nt.set(xt,at),at}function st(xt,Tt,Mt,jt){var Gt=document.createElement("span"),zt=xt._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:Tt.str!=="",hasEOL:Tt.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:Tt.str!=="",hasEOL:Tt.hasEOL};xt._textDivs.push(Gt);var Xt=tt.Util.transform(xt._viewport.transform,Tt.transform),Kt=Math.atan2(Xt[1],Xt[0]),qt=Mt[Tt.fontName];qt.vertical&&(Kt+=Math.PI/2);var er=Math.hypot(Xt[2],Xt[3]),Ut=er*ht(qt.fontFamily,jt),Ot,Et;Kt===0?(Ot=Xt[4],Et=Xt[5]-Ut):(Ot=Xt[4]+Ut*Math.sin(Kt),Et=Xt[5]-Ut*Math.cos(Kt)),Gt.style.left="".concat(Ot,"px"),Gt.style.top="".concat(Et,"px"),Gt.style.fontSize="".concat(er,"px"),Gt.style.fontFamily=qt.fontFamily,Gt.setAttribute("role","presentation"),Gt.textContent=Tt.str,Gt.dir=Tt.dir,xt._fontInspectorEnabled&&(Gt.dataset.fontName=Tt.fontName),Kt!==0&&(zt.angle=Kt*(180/Math.PI));var wt=!1;if(Tt.str.length>1||xt._enhanceTextSelection&&ot.test(Tt.str))wt=!0;else if(Tt.str!==" "&&Tt.transform[0]!==Tt.transform[3]){var Pt=Math.abs(Tt.transform[0]),Lt=Math.abs(Tt.transform[3]);Pt!==Lt&&Math.max(Pt,Lt)/Math.min(Pt,Lt)>1.5&&(wt=!0)}if(wt&&(qt.vertical?zt.canvasWidth=Tt.height*xt._viewport.scale:zt.canvasWidth=Tt.width*xt._viewport.scale),xt._textDivProperties.set(Gt,zt),xt._textContentStream&&xt._layoutText(Gt),xt._enhanceTextSelection&&zt.hasText){var Dt=1,It=0;Kt!==0&&(Dt=Math.cos(Kt),It=Math.sin(Kt));var Nt=(qt.vertical?Tt.height:Tt.width)*xt._viewport.scale,Jt=er,sr,lr;Kt!==0?(sr=[Dt,It,-It,Dt,Ot,Et],lr=tt.Util.getAxialAlignedBoundingBox([0,0,Nt,Jt],sr)):lr=[Ot,Et,Ot+Nt,Et+Jt],xt._bounds.push({left:lr[0],top:lr[1],right:lr[2],bottom:lr[3],div:Gt,size:[Nt,Jt],m:sr})}}function dt(xt){if(!xt._canceled){var Tt=xt._textDivs,Mt=xt._capability,jt=Tt.length;if(jt>ft){xt._renderingDone=!0,Mt.resolve();return}if(!xt._textContentStream)for(var Gt=0;Gt<jt;Gt++)xt._layoutText(Tt[Gt]);xt._renderingDone=!0,Mt.resolve()}}function vt(xt,Tt,Mt){for(var jt=0,Gt=0;Gt<Mt;Gt++){var zt=xt[Tt++];zt>0&&(jt=jt?Math.min(zt,jt):zt)}return jt}function mt(xt){for(var Tt=xt._bounds,Mt=xt._viewport,jt=gt(Mt.width,Mt.height,Tt),Gt=0;Gt<jt.length;Gt++){var zt=Tt[Gt].div,Xt=xt._textDivProperties.get(zt);if(Xt.angle===0){Xt.paddingLeft=Tt[Gt].left-jt[Gt].left,Xt.paddingTop=Tt[Gt].top-jt[Gt].top,Xt.paddingRight=jt[Gt].right-Tt[Gt].right,Xt.paddingBottom=jt[Gt].bottom-Tt[Gt].bottom,xt._textDivProperties.set(zt,Xt);continue}for(var Kt=jt[Gt],qt=Tt[Gt],er=qt.m,Ut=er[0],Ot=er[1],Et=[[0,0],[0,qt.size[1]],[qt.size[0],0],qt.size],wt=new Float64Array(64),Pt=0,Lt=Et.length;Pt<Lt;Pt++){var Dt=tt.Util.applyTransform(Et[Pt],er);wt[Pt+0]=Ut&&(Kt.left-Dt[0])/Ut,wt[Pt+4]=Ot&&(Kt.top-Dt[1])/Ot,wt[Pt+8]=Ut&&(Kt.right-Dt[0])/Ut,wt[Pt+12]=Ot&&(Kt.bottom-Dt[1])/Ot,wt[Pt+16]=Ot&&(Kt.left-Dt[0])/-Ot,wt[Pt+20]=Ut&&(Kt.top-Dt[1])/Ut,wt[Pt+24]=Ot&&(Kt.right-Dt[0])/-Ot,wt[Pt+28]=Ut&&(Kt.bottom-Dt[1])/Ut,wt[Pt+32]=Ut&&(Kt.left-Dt[0])/-Ut,wt[Pt+36]=Ot&&(Kt.top-Dt[1])/-Ot,wt[Pt+40]=Ut&&(Kt.right-Dt[0])/-Ut,wt[Pt+44]=Ot&&(Kt.bottom-Dt[1])/-Ot,wt[Pt+48]=Ot&&(Kt.left-Dt[0])/Ot,wt[Pt+52]=Ut&&(Kt.top-Dt[1])/-Ut,wt[Pt+56]=Ot&&(Kt.right-Dt[0])/Ot,wt[Pt+60]=Ut&&(Kt.bottom-Dt[1])/-Ut}var It=1+Math.min(Math.abs(Ut),Math.abs(Ot));Xt.paddingLeft=vt(wt,32,16)/It,Xt.paddingTop=vt(wt,48,16)/It,Xt.paddingRight=vt(wt,0,16)/It,Xt.paddingBottom=vt(wt,16,16)/It,xt._textDivProperties.set(zt,Xt)}}function gt(xt,Tt,Mt){var jt=Mt.map(function(wt,Pt){return{x1:wt.left,y1:wt.top,x2:wt.right,y2:wt.bottom,index:Pt,x1New:void 0,x2New:void 0}});bt(xt,jt);var Gt=new Array(Mt.length),zt=ct(jt),Xt;try{for(zt.s();!(Xt=zt.n()).done;){var Kt=Xt.value,qt=Kt.index;Gt[qt]={left:Kt.x1New,top:0,right:Kt.x2New,bottom:0}}}catch(wt){zt.e(wt)}finally{zt.f()}Mt.map(function(wt,Pt){var Lt=Gt[Pt],Dt=jt[Pt];Dt.x1=wt.top,Dt.y1=xt-Lt.right,Dt.x2=wt.bottom,Dt.y2=xt-Lt.left,Dt.index=Pt,Dt.x1New=void 0,Dt.x2New=void 0}),bt(Tt,jt);var er=ct(jt),Ut;try{for(er.s();!(Ut=er.n()).done;){var Ot=Ut.value,Et=Ot.index;Gt[Et].top=Ot.x1New,Gt[Et].bottom=Ot.x2New}}catch(wt){er.e(wt)}finally{er.f()}return Gt}function bt(xt,Tt){Tt.sort(function(Bt,Ft){return Bt.x1-Ft.x1||Bt.index-Ft.index});var Mt={x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0},jt=[{start:-1/0,end:1/0,boundary:Mt}],Gt=ct(Tt),zt;try{for(Gt.s();!(zt=Gt.n()).done;){for(var Xt=zt.value,Kt=0;Kt<jt.length&&jt[Kt].end<=Xt.y1;)Kt++;for(var qt=jt.length-1;qt>=0&&jt[qt].start>=Xt.y2;)qt--;var er=void 0,Ut=void 0,Ot=void 0,Et=void 0,wt=-1/0;for(Ot=Kt;Ot<=qt;Ot++){er=jt[Ot],Ut=er.boundary;var Pt=void 0;Ut.x2>Xt.x1?Pt=Ut.index>Xt.index?Ut.x1New:Xt.x1:Ut.x2New===void 0?Pt=(Ut.x2+Xt.x1)/2:Pt=Ut.x2New,Pt>wt&&(wt=Pt)}for(Xt.x1New=wt,Ot=Kt;Ot<=qt;Ot++)er=jt[Ot],Ut=er.boundary,Ut.x2New===void 0?Ut.x2>Xt.x1?Ut.index>Xt.index&&(Ut.x2New=Ut.x2):Ut.x2New=wt:Ut.x2New>wt&&(Ut.x2New=Math.max(wt,Ut.x2));var Lt=[],Dt=null;for(Ot=Kt;Ot<=qt;Ot++){er=jt[Ot],Ut=er.boundary;var It=Ut.x2>Xt.x2?Ut:Xt;Dt===It?Lt[Lt.length-1].end=er.end:(Lt.push({start:er.start,end:er.end,boundary:It}),Dt=It)}for(jt[Kt].start<Xt.y1&&(Lt[0].start=Xt.y1,Lt.unshift({start:jt[Kt].start,end:Xt.y1,boundary:jt[Kt].boundary})),Xt.y2<jt[qt].end&&(Lt[Lt.length-1].end=Xt.y2,Lt.push({start:Xt.y2,end:jt[qt].end,boundary:jt[qt].boundary})),Ot=Kt;Ot<=qt;Ot++)if(er=jt[Ot],Ut=er.boundary,Ut.x2New===void 0){var Nt=!1;for(Et=Kt-1;!Nt&&Et>=0&&jt[Et].start>=Ut.y1;Et--)Nt=jt[Et].boundary===Ut;for(Et=qt+1;!Nt&&Et<jt.length&&jt[Et].end<=Ut.y2;Et++)Nt=jt[Et].boundary===Ut;for(Et=0;!Nt&&Et<Lt.length;Et++)Nt=Lt[Et].boundary===Ut;Nt||(Ut.x2New=wt)}Array.prototype.splice.apply(jt,[Kt,qt-Kt+1].concat(Lt))}}catch(Bt){Gt.e(Bt)}finally{Gt.f()}for(var Jt=0,sr=jt;Jt<sr.length;Jt++){var lr=sr[Jt],Ht=lr.boundary;Ht.x2New===void 0&&(Ht.x2New=Math.max(xt,Ht.x2))}}var _t=function(){function xt(Tt){var Mt,jt=this,Gt=Tt.textContent,zt=Tt.textContentStream,Xt=Tt.container,Kt=Tt.viewport,qt=Tt.textDivs,er=Tt.textContentItemsStr,Ut=Tt.enhanceTextSelection;ut(this,xt),this._textContent=Gt,this._textContentStream=zt,this._container=Xt,this._document=Xt.ownerDocument,this._viewport=Kt,this._textDivs=qt||[],this._textContentItemsStr=er||[],this._enhanceTextSelection=!!Ut,this._fontInspectorEnabled=!!((Mt=globalThis.FontInspector)!==null&&Mt!==void 0&&Mt.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,tt.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){jt._enhanceTextSelection||(jt._textDivProperties=null),jt._layoutTextCtx&&(jt._layoutTextCtx.canvas.width=0,jt._layoutTextCtx.canvas.height=0,jt._layoutTextCtx=null)}).catch(function(){})}return yt(xt,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new tt.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(Mt,jt){for(var Gt=0,zt=Mt.length;Gt<zt;Gt++){if(Mt[Gt].str===void 0){if(Mt[Gt].type==="beginMarkedContentProps"||Mt[Gt].type==="beginMarkedContent"){var Xt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Mt[Gt].id!==null&&this._container.setAttribute("id","".concat(Mt[Gt].id)),Xt.appendChild(this._container)}else Mt[Gt].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Mt[Gt].str),st(this,Mt[Gt],jt,this._layoutTextCtx)}}},{key:"_layoutText",value:function(Mt){var jt=this._textDivProperties.get(Mt),Gt="";if(jt.canvasWidth!==0&&jt.hasText){var zt=Mt.style,Xt=zt.fontSize,Kt=zt.fontFamily;(Xt!==this._layoutTextLastFontSize||Kt!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(Xt," ").concat(Kt),this._layoutTextLastFontSize=Xt,this._layoutTextLastFontFamily=Kt);var qt=this._layoutTextCtx.measureText(Mt.textContent),er=qt.width;if(er>0){var Ut=jt.canvasWidth/er;this._enhanceTextSelection&&(jt.scale=Ut),Gt="scaleX(".concat(Ut,")")}}if(jt.angle!==0&&(Gt="rotate(".concat(jt.angle,"deg) ").concat(Gt)),Gt.length>0&&(this._enhanceTextSelection&&(jt.originalTransform=Gt),Mt.style.transform=Gt),jt.hasText&&this._container.appendChild(Mt),jt.hasEOL){var Ot=document.createElement("br");Ot.setAttribute("role","presentation"),this._container.appendChild(Ot)}}},{key:"_render",value:function(){var Mt=this,jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Gt=(0,tt.createPromiseCapability)(),zt=Object.create(null),Xt=this._document.createElement("canvas");if(Xt.height=Xt.width=it,Xt.mozOpaque=!0,this._layoutTextCtx=Xt.getContext("2d",{alpha:!1}),this._textContent){var Kt=this._textContent.items,qt=this._textContent.styles;this._processItems(Kt,qt),Gt.resolve()}else if(this._textContentStream){var er=function Ut(){Mt._reader.read().then(function(Ot){var Et=Ot.value,wt=Ot.done;if(wt){Gt.resolve();return}Object.assign(zt,Et.styles),Mt._processItems(Et.items,zt),Ut()},Gt.reject)};this._reader=this._textContentStream.getReader(),er()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');Gt.promise.then(function(){zt=null,jt?Mt._renderTimer=setTimeout(function(){dt(Mt),Mt._renderTimer=null},jt):dt(Mt)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!this._enhanceTextSelection||!this._renderingDone)){this._bounds!==null&&(mt(this),this._bounds=null);for(var jt=[],Gt=[],zt=0,Xt=this._textDivs.length;zt<Xt;zt++){var Kt=this._textDivs[zt],qt=this._textDivProperties.get(Kt);!qt.hasText||(Mt?(jt.length=0,Gt.length=0,qt.originalTransform&&jt.push(qt.originalTransform),qt.paddingTop>0?(Gt.push("".concat(qt.paddingTop,"px")),jt.push("translateY(".concat(-qt.paddingTop,"px)"))):Gt.push(0),qt.paddingRight>0?Gt.push("".concat(qt.paddingRight/qt.scale,"px")):Gt.push(0),qt.paddingBottom>0?Gt.push("".concat(qt.paddingBottom,"px")):Gt.push(0),qt.paddingLeft>0?(Gt.push("".concat(qt.paddingLeft/qt.scale,"px")),jt.push("translateX(".concat(-qt.paddingLeft/qt.scale,"px)"))):Gt.push(0),Kt.style.padding=Gt.join(" "),jt.length&&(Kt.style.transform=jt.join(" "))):(Kt.style.padding=null,Kt.style.transform=qt.originalTransform))}}}}]),xt}();function Ct(xt){var Tt=new _t({textContent:xt.textContent,textContentStream:xt.textContentStream,container:xt.container,viewport:xt.viewport,textDivs:xt.textDivs,textContentItemsStr:xt.textContentItemsStr,enhanceTextSelection:xt.enhanceTextSelection});return Tt._render(xt.timeout),Tt}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.SVGGraphics=void 0;var tt=et(4),ut=et(1),pt=et(6);function yt(Ut){return lt(Ut)||rt(Ut)||ht(Ut)||ct()}function ct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rt(Ut){if(typeof Symbol!="undefined"&&Ut[Symbol.iterator]!=null||Ut["@@iterator"]!=null)return Array.from(Ut)}function lt(Ut){if(Array.isArray(Ut))return st(Ut)}function ft(Ut,Ot){return nt(Ut)||at(Ut,Ot)||ht(Ut,Ot)||it()}function it(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function at(Ut,Ot){var Et=Ut==null?null:typeof Symbol!="undefined"&&Ut[Symbol.iterator]||Ut["@@iterator"];if(Et!=null){var wt=[],Pt=!0,Lt=!1,Dt,It;try{for(Et=Et.call(Ut);!(Pt=(Dt=Et.next()).done)&&(wt.push(Dt.value),!(Ot&&wt.length===Ot));Pt=!0);}catch(Nt){Lt=!0,It=Nt}finally{try{!Pt&&Et.return!=null&&Et.return()}finally{if(Lt)throw It}}return wt}}function nt(Ut){if(Array.isArray(Ut))return Ut}function ot(Ut,Ot){var Et=typeof Symbol!="undefined"&&Ut[Symbol.iterator]||Ut["@@iterator"];if(!Et){if(Array.isArray(Ut)||(Et=ht(Ut))||Ot&&Ut&&typeof Ut.length=="number"){Et&&(Ut=Et);var wt=0,Pt=function(){};return{s:Pt,n:function(){return wt>=Ut.length?{done:!0}:{done:!1,value:Ut[wt++]}},e:function(Jt){throw Jt},f:Pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Lt=!0,Dt=!1,It;return{s:function(){Et=Et.call(Ut)},n:function(){var Jt=Et.next();return Lt=Jt.done,Jt},e:function(Jt){Dt=!0,It=Jt},f:function(){try{!Lt&&Et.return!=null&&Et.return()}finally{if(Dt)throw It}}}}function ht(Ut,Ot){if(!!Ut){if(typeof Ut=="string")return st(Ut,Ot);var Et=Object.prototype.toString.call(Ut).slice(8,-1);if(Et==="Object"&&Ut.constructor&&(Et=Ut.constructor.name),Et==="Map"||Et==="Set")return Array.from(Ut);if(Et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Et))return st(Ut,Ot)}}function st(Ut,Ot){(Ot==null||Ot>Ut.length)&&(Ot=Ut.length);for(var Et=0,wt=new Array(Ot);Et<Ot;Et++)wt[Et]=Ut[Et];return wt}function dt(Ut,Ot){for(var Et=0;Et<Ot.length;Et++){var wt=Ot[Et];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(Ut,wt.key,wt)}}function vt(Ut,Ot,Et){return Ot&&dt(Ut.prototype,Ot),Et&&dt(Ut,Et),Ut}function mt(Ut,Ot){if(!(Ut instanceof Ot))throw new TypeError("Cannot call a class as a function")}var gt=function Ut(){mt(this,Ut),(0,tt.unreachable)("Not implemented: SVGGraphics")};_e.SVGGraphics=gt;{var bt=function(Ot){var Et=[],wt=[],Pt=ot(Ot),Lt;try{for(Pt.s();!(Lt=Pt.n()).done;){var Dt=Lt.value;if(Dt.fn==="save"){Et.push({fnId:92,fn:"group",items:[]}),wt.push(Et),Et=Et[Et.length-1].items;continue}Dt.fn==="restore"?Et=wt.pop():Et.push(Dt)}}catch(It){Pt.e(It)}finally{Pt.f()}return Et},_t=function(Ot){if(Number.isInteger(Ot))return Ot.toString();var Et=Ot.toFixed(10),wt=Et.length-1;if(Et[wt]!=="0")return Et;do wt--;while(Et[wt]==="0");return Et.substring(0,Et[wt]==="."?wt:wt+1)},Ct=function(Ot){if(Ot[4]===0&&Ot[5]===0){if(Ot[1]===0&&Ot[2]===0)return Ot[0]===1&&Ot[3]===1?"":"scale(".concat(_t(Ot[0])," ").concat(_t(Ot[3]),")");if(Ot[0]===Ot[3]&&Ot[1]===-Ot[2]){var Et=Math.acos(Ot[0])*180/Math.PI;return"rotate(".concat(_t(Et),")")}}else if(Ot[0]===1&&Ot[1]===0&&Ot[2]===0&&Ot[3]===1)return"translate(".concat(_t(Ot[4])," ").concat(_t(Ot[5]),")");return"matrix(".concat(_t(Ot[0])," ").concat(_t(Ot[1])," ").concat(_t(Ot[2])," ").concat(_t(Ot[3])," ").concat(_t(Ot[4])," ")+"".concat(_t(Ot[5]),")")},xt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Tt="http://www.w3.org/XML/1998/namespace",Mt="http://www.w3.org/1999/xlink",jt=["butt","round","square"],Gt=["miter","round","bevel"],zt=function(){for(var Ut=new Uint8Array([137,80,78,71,13,10,26,10]),Ot=12,Et=new Int32Array(256),wt=0;wt<256;wt++){for(var Pt=wt,Lt=0;Lt<8;Lt++)Pt&1?Pt=3988292384^Pt>>1&2147483647:Pt=Pt>>1&2147483647;Et[wt]=Pt}function Dt(Ht,Bt,Ft){for(var At=-1,Rt=Bt;Rt<Ft;Rt++){var $t=(At^Ht[Rt])&255,Wt=Et[$t];At=At>>>8^Wt}return At^-1}function It(Ht,Bt,Ft,At){var Rt=At,$t=Bt.length;Ft[Rt]=$t>>24&255,Ft[Rt+1]=$t>>16&255,Ft[Rt+2]=$t>>8&255,Ft[Rt+3]=$t&255,Rt+=4,Ft[Rt]=Ht.charCodeAt(0)&255,Ft[Rt+1]=Ht.charCodeAt(1)&255,Ft[Rt+2]=Ht.charCodeAt(2)&255,Ft[Rt+3]=Ht.charCodeAt(3)&255,Rt+=4,Ft.set(Bt,Rt),Rt+=Bt.length;var Wt=Dt(Ft,At+4,Rt);Ft[Rt]=Wt>>24&255,Ft[Rt+1]=Wt>>16&255,Ft[Rt+2]=Wt>>8&255,Ft[Rt+3]=Wt&255}function Nt(Ht,Bt,Ft){for(var At=1,Rt=0,$t=Bt;$t<Ft;++$t)At=(At+(Ht[$t]&255))%65521,Rt=(Rt+At)%65521;return Rt<<16|At}function Jt(Ht){if(!pt.isNodeJS)return sr(Ht);try{var Bt;parseInt(process.versions.node)>=8?Bt=Ht:Bt=Buffer.from(Ht);var Ft=require("zlib").deflateSync(Bt,{level:9});return Ft instanceof Uint8Array?Ft:new Uint8Array(Ft)}catch(At){(0,tt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+At)}return sr(Ht)}function sr(Ht){var Bt=Ht.length,Ft=65535,At=Math.ceil(Bt/Ft),Rt=new Uint8Array(2+Bt+At*5+4),$t=0;Rt[$t++]=120,Rt[$t++]=156;for(var Wt=0;Bt>Ft;)Rt[$t++]=0,Rt[$t++]=255,Rt[$t++]=255,Rt[$t++]=0,Rt[$t++]=0,Rt.set(Ht.subarray(Wt,Wt+Ft),$t),$t+=Ft,Wt+=Ft,Bt-=Ft;Rt[$t++]=1,Rt[$t++]=Bt&255,Rt[$t++]=Bt>>8&255,Rt[$t++]=~Bt&65535&255,Rt[$t++]=(~Bt&65535)>>8&255,Rt.set(Ht.subarray(Wt),$t),$t+=Ht.length-Wt;var Vt=Nt(Ht,0,Ht.length);return Rt[$t++]=Vt>>24&255,Rt[$t++]=Vt>>16&255,Rt[$t++]=Vt>>8&255,Rt[$t++]=Vt&255,Rt}function lr(Ht,Bt,Ft,At){var Rt=Ht.width,$t=Ht.height,Wt,Vt,Zt,ir=Ht.data;switch(Bt){case tt.ImageKind.GRAYSCALE_1BPP:Vt=0,Wt=1,Zt=Rt+7>>3;break;case tt.ImageKind.RGB_24BPP:Vt=2,Wt=8,Zt=Rt*3;break;case tt.ImageKind.RGBA_32BPP:Vt=6,Wt=8,Zt=Rt*4;break;default:throw new Error("invalid format")}for(var vr=new Uint8Array((1+Zt)*$t),cr=0,or=0,br=0;br<$t;++br)vr[cr++]=0,vr.set(ir.subarray(or,or+Zt),cr),or+=Zt,cr+=Zt;if(Bt===tt.ImageKind.GRAYSCALE_1BPP&&At){cr=0;for(var Cr=0;Cr<$t;Cr++){cr++;for(var Ar=0;Ar<Zt;Ar++)vr[cr++]^=255}}var kr=new Uint8Array([Rt>>24&255,Rt>>16&255,Rt>>8&255,Rt&255,$t>>24&255,$t>>16&255,$t>>8&255,$t&255,Wt,Vt,0,0,0]),Or=Jt(vr),Lr=Ut.length+Ot*3+kr.length+Or.length,dr=new Uint8Array(Lr),mr=0;return dr.set(Ut,mr),mr+=Ut.length,It("IHDR",kr,dr,mr),mr+=Ot+kr.length,It("IDATA",Or,dr,mr),mr+=Ot+Or.length,It("IEND",new Uint8Array(0),dr,mr),(0,tt.createObjectURL)(dr,"image/png",Ft)}return function(Bt,Ft,At){var Rt=Bt.kind===void 0?tt.ImageKind.GRAYSCALE_1BPP:Bt.kind;return lr(Bt,Rt,Ft,At)}}(),Xt=function(){function Ut(){mt(this,Ut),this.fontSizeScale=1,this.fontWeight=xt.fontWeight,this.fontSize=0,this.textMatrix=tt.IDENTITY_MATRIX,this.fontMatrix=tt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=tt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=xt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return vt(Ut,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(Et,wt){this.x=Et,this.y=wt}}]),Ut}(),Kt=0,qt=0,er=0;_e.SVGGraphics=gt=function(){function Ut(Ot,Et){var wt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;mt(this,Ut),this.svgFactory=new ut.DOMSVGFactory,this.current=new Xt,this.transformMatrix=tt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Ot,this.objs=Et,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!wt,this._operatorIdMapping=[];for(var Pt in tt.OPS)this._operatorIdMapping[tt.OPS[Pt]]=Pt}return vt(Ut,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var Et=this.current;this.extraStack.push(Et),this.current=Et.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(Et){this.save(),this.executeOpTree(Et),this.restore()}},{key:"loadDependencies",value:function(Et){for(var wt=this,Pt=Et.fnArray,Lt=Et.argsArray,Dt=0,It=Pt.length;Dt<It;Dt++)if(Pt[Dt]===tt.OPS.dependency){var Nt=ot(Lt[Dt]),Jt;try{var sr=function(){var Ht=Jt.value,Bt=Ht.startsWith("g_")?wt.commonObjs:wt.objs,Ft=new Promise(function(At){Bt.get(Ht,At)});wt.current.dependencies.push(Ft)};for(Nt.s();!(Jt=Nt.n()).done;)sr()}catch(lr){Nt.e(lr)}finally{Nt.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(Et,wt,Pt,Lt,Dt,It){var Nt=[Et,wt,Pt,Lt,Dt,It];this.transformMatrix=tt.Util.transform(this.transformMatrix,Nt),this.tgrp=null}},{key:"getSVG",value:function(Et,wt){var Pt=this;this.viewport=wt;var Lt=this._initialize(wt);return this.loadDependencies(Et).then(function(){return Pt.transformMatrix=tt.IDENTITY_MATRIX,Pt.executeOpTree(Pt.convertOpList(Et)),Lt})}},{key:"convertOpList",value:function(Et){for(var wt=this._operatorIdMapping,Pt=Et.argsArray,Lt=Et.fnArray,Dt=[],It=0,Nt=Lt.length;It<Nt;It++){var Jt=Lt[It];Dt.push({fnId:Jt,fn:wt[Jt],args:Pt[It]})}return bt(Dt)}},{key:"executeOpTree",value:function(Et){var wt=ot(Et),Pt;try{for(wt.s();!(Pt=wt.n()).done;){var Lt=Pt.value,Dt=Lt.fn,It=Lt.fnId,Nt=Lt.args;switch(It|0){case tt.OPS.beginText:this.beginText();break;case tt.OPS.dependency:break;case tt.OPS.setLeading:this.setLeading(Nt);break;case tt.OPS.setLeadingMoveText:this.setLeadingMoveText(Nt[0],Nt[1]);break;case tt.OPS.setFont:this.setFont(Nt);break;case tt.OPS.showText:this.showText(Nt[0]);break;case tt.OPS.showSpacedText:this.showText(Nt[0]);break;case tt.OPS.endText:this.endText();break;case tt.OPS.moveText:this.moveText(Nt[0],Nt[1]);break;case tt.OPS.setCharSpacing:this.setCharSpacing(Nt[0]);break;case tt.OPS.setWordSpacing:this.setWordSpacing(Nt[0]);break;case tt.OPS.setHScale:this.setHScale(Nt[0]);break;case tt.OPS.setTextMatrix:this.setTextMatrix(Nt[0],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5]);break;case tt.OPS.setTextRise:this.setTextRise(Nt[0]);break;case tt.OPS.setTextRenderingMode:this.setTextRenderingMode(Nt[0]);break;case tt.OPS.setLineWidth:this.setLineWidth(Nt[0]);break;case tt.OPS.setLineJoin:this.setLineJoin(Nt[0]);break;case tt.OPS.setLineCap:this.setLineCap(Nt[0]);break;case tt.OPS.setMiterLimit:this.setMiterLimit(Nt[0]);break;case tt.OPS.setFillRGBColor:this.setFillRGBColor(Nt[0],Nt[1],Nt[2]);break;case tt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Nt[0],Nt[1],Nt[2]);break;case tt.OPS.setStrokeColorN:this.setStrokeColorN(Nt);break;case tt.OPS.setFillColorN:this.setFillColorN(Nt);break;case tt.OPS.shadingFill:this.shadingFill(Nt[0]);break;case tt.OPS.setDash:this.setDash(Nt[0],Nt[1]);break;case tt.OPS.setRenderingIntent:this.setRenderingIntent(Nt[0]);break;case tt.OPS.setFlatness:this.setFlatness(Nt[0]);break;case tt.OPS.setGState:this.setGState(Nt[0]);break;case tt.OPS.fill:this.fill();break;case tt.OPS.eoFill:this.eoFill();break;case tt.OPS.stroke:this.stroke();break;case tt.OPS.fillStroke:this.fillStroke();break;case tt.OPS.eoFillStroke:this.eoFillStroke();break;case tt.OPS.clip:this.clip("nonzero");break;case tt.OPS.eoClip:this.clip("evenodd");break;case tt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case tt.OPS.paintImageXObject:this.paintImageXObject(Nt[0]);break;case tt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Nt[0]);break;case tt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Nt[0]);break;case tt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Nt[0],Nt[1]);break;case tt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case tt.OPS.closePath:this.closePath();break;case tt.OPS.closeStroke:this.closeStroke();break;case tt.OPS.closeFillStroke:this.closeFillStroke();break;case tt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case tt.OPS.nextLine:this.nextLine();break;case tt.OPS.transform:this.transform(Nt[0],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5]);break;case tt.OPS.constructPath:this.constructPath(Nt[0],Nt[1]);break;case tt.OPS.endPath:this.endPath();break;case 92:this.group(Lt.items);break;default:(0,tt.warn)("Unimplemented operator ".concat(Dt));break}}}catch(Jt){wt.e(Jt)}finally{wt.f()}}},{key:"setWordSpacing",value:function(Et){this.current.wordSpacing=Et}},{key:"setCharSpacing",value:function(Et){this.current.charSpacing=Et}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(Et,wt,Pt,Lt,Dt,It){var Nt=this.current;Nt.textMatrix=Nt.lineMatrix=[Et,wt,Pt,Lt,Dt,It],Nt.textMatrixScale=Math.hypot(Et,wt),Nt.x=Nt.lineX=0,Nt.y=Nt.lineY=0,Nt.xcoords=[],Nt.ycoords=[],Nt.tspan=this.svgFactory.createElement("svg:tspan"),Nt.tspan.setAttributeNS(null,"font-family",Nt.fontFamily),Nt.tspan.setAttributeNS(null,"font-size","".concat(_t(Nt.fontSize),"px")),Nt.tspan.setAttributeNS(null,"y",_t(-Nt.y)),Nt.txtElement=this.svgFactory.createElement("svg:text"),Nt.txtElement.appendChild(Nt.tspan)}},{key:"beginText",value:function(){var Et=this.current;Et.x=Et.lineX=0,Et.y=Et.lineY=0,Et.textMatrix=tt.IDENTITY_MATRIX,Et.lineMatrix=tt.IDENTITY_MATRIX,Et.textMatrixScale=1,Et.tspan=this.svgFactory.createElement("svg:tspan"),Et.txtElement=this.svgFactory.createElement("svg:text"),Et.txtgrp=this.svgFactory.createElement("svg:g"),Et.xcoords=[],Et.ycoords=[]}},{key:"moveText",value:function(Et,wt){var Pt=this.current;Pt.x=Pt.lineX+=Et,Pt.y=Pt.lineY+=wt,Pt.xcoords=[],Pt.ycoords=[],Pt.tspan=this.svgFactory.createElement("svg:tspan"),Pt.tspan.setAttributeNS(null,"font-family",Pt.fontFamily),Pt.tspan.setAttributeNS(null,"font-size","".concat(_t(Pt.fontSize),"px")),Pt.tspan.setAttributeNS(null,"y",_t(-Pt.y))}},{key:"showText",value:function(Et){var wt=this.current,Pt=wt.font,Lt=wt.fontSize;if(Lt!==0){var Dt=wt.fontSizeScale,It=wt.charSpacing,Nt=wt.wordSpacing,Jt=wt.fontDirection,sr=wt.textHScale*Jt,lr=Pt.vertical,Ht=lr?1:-1,Bt=Pt.defaultVMetrics,Ft=Lt*wt.fontMatrix[0],At=0,Rt=ot(Et),$t;try{for(Rt.s();!($t=Rt.n()).done;){var Wt=$t.value;if(Wt===null){At+=Jt*Nt;continue}else if((0,tt.isNum)(Wt)){At+=Ht*Wt*Lt/1e3;continue}var Vt=(Wt.isSpace?Nt:0)+It,Zt=Wt.fontChar,ir=void 0,vr=void 0,cr=Wt.width;if(lr){var or=void 0,br=Wt.vmetric||Bt;or=Wt.vmetric?br[1]:cr*.5,or=-or*Ft;var Cr=br[2]*Ft;cr=br?-br[0]:cr,ir=or/Dt,vr=(At+Cr)/Dt}else ir=At/Dt,vr=0;(Wt.isInFont||Pt.missingFile)&&(wt.xcoords.push(wt.x+ir),lr&&wt.ycoords.push(-wt.y+vr),wt.tspan.textContent+=Zt);var Ar=void 0;lr?Ar=cr*Ft-Vt*Jt:Ar=cr*Ft+Vt*Jt,At+=Ar}}catch(dr){Rt.e(dr)}finally{Rt.f()}wt.tspan.setAttributeNS(null,"x",wt.xcoords.map(_t).join(" ")),lr?wt.tspan.setAttributeNS(null,"y",wt.ycoords.map(_t).join(" ")):wt.tspan.setAttributeNS(null,"y",_t(-wt.y)),lr?wt.y-=At:wt.x+=At*sr,wt.tspan.setAttributeNS(null,"font-family",wt.fontFamily),wt.tspan.setAttributeNS(null,"font-size","".concat(_t(wt.fontSize),"px")),wt.fontStyle!==xt.fontStyle&&wt.tspan.setAttributeNS(null,"font-style",wt.fontStyle),wt.fontWeight!==xt.fontWeight&&wt.tspan.setAttributeNS(null,"font-weight",wt.fontWeight);var kr=wt.textRenderingMode&tt.TextRenderingMode.FILL_STROKE_MASK;if(kr===tt.TextRenderingMode.FILL||kr===tt.TextRenderingMode.FILL_STROKE?(wt.fillColor!==xt.fillColor&&wt.tspan.setAttributeNS(null,"fill",wt.fillColor),wt.fillAlpha<1&&wt.tspan.setAttributeNS(null,"fill-opacity",wt.fillAlpha)):wt.textRenderingMode===tt.TextRenderingMode.ADD_TO_PATH?wt.tspan.setAttributeNS(null,"fill","transparent"):wt.tspan.setAttributeNS(null,"fill","none"),kr===tt.TextRenderingMode.STROKE||kr===tt.TextRenderingMode.FILL_STROKE){var Or=1/(wt.textMatrixScale||1);this._setStrokeAttributes(wt.tspan,Or)}var Lr=wt.textMatrix;wt.textRise!==0&&(Lr=Lr.slice(),Lr[5]+=wt.textRise),wt.txtElement.setAttributeNS(null,"transform","".concat(Ct(Lr)," scale(").concat(_t(sr),", -1)")),wt.txtElement.setAttributeNS(Tt,"xml:space","preserve"),wt.txtElement.appendChild(wt.tspan),wt.txtgrp.appendChild(wt.txtElement),this._ensureTransformGroup().appendChild(wt.txtElement)}}},{key:"setLeadingMoveText",value:function(Et,wt){this.setLeading(-wt),this.moveText(Et,wt)}},{key:"addFontStyle",value:function(Et){if(!Et.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var wt=(0,tt.createObjectURL)(Et.data,Et.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(Et.loadedName,'";')+" src: url(".concat(wt,`); }
`)}},{key:"setFont",value:function(Et){var wt=this.current,Pt=this.commonObjs.get(Et[0]),Lt=Et[1];wt.font=Pt,this.embedFonts&&!Pt.missingFile&&!this.embeddedFonts[Pt.loadedName]&&(this.addFontStyle(Pt),this.embeddedFonts[Pt.loadedName]=Pt),wt.fontMatrix=Pt.fontMatrix||tt.FONT_IDENTITY_MATRIX;var Dt="normal";Pt.black?Dt="900":Pt.bold&&(Dt="bold");var It=Pt.italic?"italic":"normal";Lt<0?(Lt=-Lt,wt.fontDirection=-1):wt.fontDirection=1,wt.fontSize=Lt,wt.fontFamily=Pt.loadedName,wt.fontWeight=Dt,wt.fontStyle=It,wt.tspan=this.svgFactory.createElement("svg:tspan"),wt.tspan.setAttributeNS(null,"y",_t(-wt.y)),wt.xcoords=[],wt.ycoords=[]}},{key:"endText",value:function(){var Et,wt=this.current;wt.textRenderingMode&tt.TextRenderingMode.ADD_TO_PATH_FLAG&&(Et=wt.txtElement)!==null&&Et!==void 0&&Et.hasChildNodes()&&(wt.element=wt.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(Et){Et>0&&(this.current.lineWidth=Et)}},{key:"setLineCap",value:function(Et){this.current.lineCap=jt[Et]}},{key:"setLineJoin",value:function(Et){this.current.lineJoin=Gt[Et]}},{key:"setMiterLimit",value:function(Et){this.current.miterLimit=Et}},{key:"setStrokeAlpha",value:function(Et){this.current.strokeAlpha=Et}},{key:"setStrokeRGBColor",value:function(Et,wt,Pt){this.current.strokeColor=tt.Util.makeHexColor(Et,wt,Pt)}},{key:"setFillAlpha",value:function(Et){this.current.fillAlpha=Et}},{key:"setFillRGBColor",value:function(Et,wt,Pt){this.current.fillColor=tt.Util.makeHexColor(Et,wt,Pt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(Et){this.current.strokeColor=this._makeColorN_Pattern(Et)}},{key:"setFillColorN",value:function(Et){this.current.fillColor=this._makeColorN_Pattern(Et)}},{key:"shadingFill",value:function(Et){var wt=this.viewport.width,Pt=this.viewport.height,Lt=tt.Util.inverseTransform(this.transformMatrix),Dt=tt.Util.applyTransform([0,0],Lt),It=tt.Util.applyTransform([0,Pt],Lt),Nt=tt.Util.applyTransform([wt,0],Lt),Jt=tt.Util.applyTransform([wt,Pt],Lt),sr=Math.min(Dt[0],It[0],Nt[0],Jt[0]),lr=Math.min(Dt[1],It[1],Nt[1],Jt[1]),Ht=Math.max(Dt[0],It[0],Nt[0],Jt[0]),Bt=Math.max(Dt[1],It[1],Nt[1],Jt[1]),Ft=this.svgFactory.createElement("svg:rect");Ft.setAttributeNS(null,"x",sr),Ft.setAttributeNS(null,"y",lr),Ft.setAttributeNS(null,"width",Ht-sr),Ft.setAttributeNS(null,"height",Bt-lr),Ft.setAttributeNS(null,"fill",this._makeShadingPattern(Et)),this.current.fillAlpha<1&&Ft.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Ft)}},{key:"_makeColorN_Pattern",value:function(Et){return Et[0]==="TilingPattern"?this._makeTilingPattern(Et):this._makeShadingPattern(Et)}},{key:"_makeTilingPattern",value:function(Et){var wt=Et[1],Pt=Et[2],Lt=Et[3]||tt.IDENTITY_MATRIX,Dt=ft(Et[4],4),It=Dt[0],Nt=Dt[1],Jt=Dt[2],sr=Dt[3],lr=Et[5],Ht=Et[6],Bt=Et[7],Ft="shading".concat(er++),At=tt.Util.normalizeRect([].concat(yt(tt.Util.applyTransform([It,Nt],Lt)),yt(tt.Util.applyTransform([Jt,sr],Lt)))),Rt=ft(At,4),$t=Rt[0],Wt=Rt[1],Vt=Rt[2],Zt=Rt[3],ir=tt.Util.singularValueDecompose2dScale(Lt),vr=ft(ir,2),cr=vr[0],or=vr[1],br=lr*cr,Cr=Ht*or,Ar=this.svgFactory.createElement("svg:pattern");Ar.setAttributeNS(null,"id",Ft),Ar.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Ar.setAttributeNS(null,"width",br),Ar.setAttributeNS(null,"height",Cr),Ar.setAttributeNS(null,"x","".concat($t)),Ar.setAttributeNS(null,"y","".concat(Wt));var kr=this.svg,Or=this.transformMatrix,Lr=this.current.fillColor,dr=this.current.strokeColor,mr=this.svgFactory.create(Vt-$t,Zt-Wt);if(this.svg=mr,this.transformMatrix=Lt,Bt===2){var Qt=tt.Util.makeHexColor.apply(tt.Util,yt(wt));this.current.fillColor=Qt,this.current.strokeColor=Qt}return this.executeOpTree(this.convertOpList(Pt)),this.svg=kr,this.transformMatrix=Or,this.current.fillColor=Lr,this.current.strokeColor=dr,Ar.appendChild(mr.childNodes[0]),this.defs.appendChild(Ar),"url(#".concat(Ft,")")}},{key:"_makeShadingPattern",value:function(Et){switch(typeof Et=="string"&&(Et=this.objs.get(Et)),Et[0]){case"RadialAxial":var wt="shading".concat(er++),Pt=Et[3],Lt;switch(Et[1]){case"axial":var Dt=Et[4],It=Et[5];Lt=this.svgFactory.createElement("svg:linearGradient"),Lt.setAttributeNS(null,"id",wt),Lt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Lt.setAttributeNS(null,"x1",Dt[0]),Lt.setAttributeNS(null,"y1",Dt[1]),Lt.setAttributeNS(null,"x2",It[0]),Lt.setAttributeNS(null,"y2",It[1]);break;case"radial":var Nt=Et[4],Jt=Et[5],sr=Et[6],lr=Et[7];Lt=this.svgFactory.createElement("svg:radialGradient"),Lt.setAttributeNS(null,"id",wt),Lt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Lt.setAttributeNS(null,"cx",Jt[0]),Lt.setAttributeNS(null,"cy",Jt[1]),Lt.setAttributeNS(null,"r",lr),Lt.setAttributeNS(null,"fx",Nt[0]),Lt.setAttributeNS(null,"fy",Nt[1]),Lt.setAttributeNS(null,"fr",sr);break;default:throw new Error("Unknown RadialAxial type: ".concat(Et[1]))}var Ht=ot(Pt),Bt;try{for(Ht.s();!(Bt=Ht.n()).done;){var Ft=Bt.value,At=this.svgFactory.createElement("svg:stop");At.setAttributeNS(null,"offset",Ft[0]),At.setAttributeNS(null,"stop-color",Ft[1]),Lt.appendChild(At)}}catch(Rt){Ht.e(Rt)}finally{Ht.f()}return this.defs.appendChild(Lt),"url(#".concat(wt,")");case"Mesh":return(0,tt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(Et[0]))}}},{key:"setDash",value:function(Et,wt){this.current.dashArray=Et,this.current.dashPhase=wt}},{key:"constructPath",value:function(Et,wt){var Pt=this.current,Lt=Pt.x,Dt=Pt.y,It=[],Nt=0,Jt=ot(Et),sr;try{for(Jt.s();!(sr=Jt.n()).done;){var lr=sr.value;switch(lr|0){case tt.OPS.rectangle:Lt=wt[Nt++],Dt=wt[Nt++];var Ht=wt[Nt++],Bt=wt[Nt++],Ft=Lt+Ht,At=Dt+Bt;It.push("M",_t(Lt),_t(Dt),"L",_t(Ft),_t(Dt),"L",_t(Ft),_t(At),"L",_t(Lt),_t(At),"Z");break;case tt.OPS.moveTo:Lt=wt[Nt++],Dt=wt[Nt++],It.push("M",_t(Lt),_t(Dt));break;case tt.OPS.lineTo:Lt=wt[Nt++],Dt=wt[Nt++],It.push("L",_t(Lt),_t(Dt));break;case tt.OPS.curveTo:Lt=wt[Nt+4],Dt=wt[Nt+5],It.push("C",_t(wt[Nt]),_t(wt[Nt+1]),_t(wt[Nt+2]),_t(wt[Nt+3]),_t(Lt),_t(Dt)),Nt+=6;break;case tt.OPS.curveTo2:It.push("C",_t(Lt),_t(Dt),_t(wt[Nt]),_t(wt[Nt+1]),_t(wt[Nt+2]),_t(wt[Nt+3])),Lt=wt[Nt+2],Dt=wt[Nt+3],Nt+=4;break;case tt.OPS.curveTo3:Lt=wt[Nt+2],Dt=wt[Nt+3],It.push("C",_t(wt[Nt]),_t(wt[Nt+1]),_t(Lt),_t(Dt),_t(Lt),_t(Dt)),Nt+=4;break;case tt.OPS.closePath:It.push("Z");break}}}catch(Rt){Jt.e(Rt)}finally{Jt.f()}It=It.join(" "),Pt.path&&Et.length>0&&Et[0]!==tt.OPS.rectangle&&Et[0]!==tt.OPS.moveTo?It=Pt.path.getAttributeNS(null,"d")+It:(Pt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(Pt.path)),Pt.path.setAttributeNS(null,"d",It),Pt.path.setAttributeNS(null,"fill","none"),Pt.element=Pt.path,Pt.setCurrentPoint(Lt,Dt)}},{key:"endPath",value:function(){var Et=this.current;if(Et.path=null,!!this.pendingClip){if(!Et.element){this.pendingClip=null;return}var wt="clippath".concat(Kt++),Pt=this.svgFactory.createElement("svg:clipPath");Pt.setAttributeNS(null,"id",wt),Pt.setAttributeNS(null,"transform",Ct(this.transformMatrix));var Lt=Et.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Lt.setAttributeNS(null,"clip-rule","evenodd"):Lt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Pt.appendChild(Lt),this.defs.appendChild(Pt),Et.activeClipUrl){Et.clipGroup=null;var Dt=ot(this.extraStack),It;try{for(Dt.s();!(It=Dt.n()).done;){var Nt=It.value;Nt.clipGroup=null}}catch(Jt){Dt.e(Jt)}finally{Dt.f()}Pt.setAttributeNS(null,"clip-path",Et.activeClipUrl)}Et.activeClipUrl="url(#".concat(wt,")"),this.tgrp=null}}},{key:"clip",value:function(Et){this.pendingClip=Et}},{key:"closePath",value:function(){var Et=this.current;if(Et.path){var wt="".concat(Et.path.getAttributeNS(null,"d"),"Z");Et.path.setAttributeNS(null,"d",wt)}}},{key:"setLeading",value:function(Et){this.current.leading=-Et}},{key:"setTextRise",value:function(Et){this.current.textRise=Et}},{key:"setTextRenderingMode",value:function(Et){this.current.textRenderingMode=Et}},{key:"setHScale",value:function(Et){this.current.textHScale=Et/100}},{key:"setRenderingIntent",value:function(Et){}},{key:"setFlatness",value:function(Et){}},{key:"setGState",value:function(Et){var wt=ot(Et),Pt;try{for(wt.s();!(Pt=wt.n()).done;){var Lt=ft(Pt.value,2),Dt=Lt[0],It=Lt[1];switch(Dt){case"LW":this.setLineWidth(It);break;case"LC":this.setLineCap(It);break;case"LJ":this.setLineJoin(It);break;case"ML":this.setMiterLimit(It);break;case"D":this.setDash(It[0],It[1]);break;case"RI":this.setRenderingIntent(It);break;case"FL":this.setFlatness(It);break;case"Font":this.setFont(It);break;case"CA":this.setStrokeAlpha(It);break;case"ca":this.setFillAlpha(It);break;default:(0,tt.warn)("Unimplemented graphic state operator ".concat(Dt));break}}}catch(Nt){wt.e(Nt)}finally{wt.f()}}},{key:"fill",value:function(){var Et=this.current;Et.element&&(Et.element.setAttributeNS(null,"fill",Et.fillColor),Et.element.setAttributeNS(null,"fill-opacity",Et.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var Et=this.current;Et.element&&(this._setStrokeAttributes(Et.element),Et.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(Et){var wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Pt=this.current,Lt=Pt.dashArray;wt!==1&&Lt.length>0&&(Lt=Lt.map(function(Dt){return wt*Dt})),Et.setAttributeNS(null,"stroke",Pt.strokeColor),Et.setAttributeNS(null,"stroke-opacity",Pt.strokeAlpha),Et.setAttributeNS(null,"stroke-miterlimit",_t(Pt.miterLimit)),Et.setAttributeNS(null,"stroke-linecap",Pt.lineCap),Et.setAttributeNS(null,"stroke-linejoin",Pt.lineJoin),Et.setAttributeNS(null,"stroke-width",_t(wt*Pt.lineWidth)+"px"),Et.setAttributeNS(null,"stroke-dasharray",Lt.map(_t).join(" ")),Et.setAttributeNS(null,"stroke-dashoffset",_t(wt*Pt.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width","1px"),Et.setAttributeNS(null,"height","1px"),Et.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(Et)}},{key:"paintImageXObject",value:function(Et){var wt=Et.startsWith("g_")?this.commonObjs.get(Et):this.objs.get(Et);if(!wt){(0,tt.warn)("Dependent image with object ID ".concat(Et," is not ready yet"));return}this.paintInlineImageXObject(wt)}},{key:"paintInlineImageXObject",value:function(Et,wt){var Pt=Et.width,Lt=Et.height,Dt=zt(Et,this.forceDataSchema,!!wt),It=this.svgFactory.createElement("svg:rect");It.setAttributeNS(null,"x","0"),It.setAttributeNS(null,"y","0"),It.setAttributeNS(null,"width",_t(Pt)),It.setAttributeNS(null,"height",_t(Lt)),this.current.element=It,this.clip("nonzero");var Nt=this.svgFactory.createElement("svg:image");Nt.setAttributeNS(Mt,"xlink:href",Dt),Nt.setAttributeNS(null,"x","0"),Nt.setAttributeNS(null,"y",_t(-Lt)),Nt.setAttributeNS(null,"width",_t(Pt)+"px"),Nt.setAttributeNS(null,"height",_t(Lt)+"px"),Nt.setAttributeNS(null,"transform","scale(".concat(_t(1/Pt)," ").concat(_t(-1/Lt),")")),wt?wt.appendChild(Nt):this._ensureTransformGroup().appendChild(Nt)}},{key:"paintImageMaskXObject",value:function(Et){var wt=this.current,Pt=Et.width,Lt=Et.height,Dt=wt.fillColor;wt.maskId="mask".concat(qt++);var It=this.svgFactory.createElement("svg:mask");It.setAttributeNS(null,"id",wt.maskId);var Nt=this.svgFactory.createElement("svg:rect");Nt.setAttributeNS(null,"x","0"),Nt.setAttributeNS(null,"y","0"),Nt.setAttributeNS(null,"width",_t(Pt)),Nt.setAttributeNS(null,"height",_t(Lt)),Nt.setAttributeNS(null,"fill",Dt),Nt.setAttributeNS(null,"mask","url(#".concat(wt.maskId,")")),this.defs.appendChild(It),this._ensureTransformGroup().appendChild(Nt),this.paintInlineImageXObject(Et,It)}},{key:"paintFormXObjectBegin",value:function(Et,wt){if(Array.isArray(Et)&&Et.length===6&&this.transform(Et[0],Et[1],Et[2],Et[3],Et[4],Et[5]),wt){var Pt=wt[2]-wt[0],Lt=wt[3]-wt[1],Dt=this.svgFactory.createElement("svg:rect");Dt.setAttributeNS(null,"x",wt[0]),Dt.setAttributeNS(null,"y",wt[1]),Dt.setAttributeNS(null,"width",_t(Pt)),Dt.setAttributeNS(null,"height",_t(Lt)),this.current.element=Dt,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(Et){var wt=this.svgFactory.create(Et.width,Et.height),Pt=this.svgFactory.createElement("svg:defs");wt.appendChild(Pt),this.defs=Pt;var Lt=this.svgFactory.createElement("svg:g");return Lt.setAttributeNS(null,"transform",Ct(Et.transform)),wt.appendChild(Lt),this.svg=Lt,wt}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var Et=this.svgFactory.createElement("svg:g");Et.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(Et),this.current.clipGroup=Et}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Ct(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),Ut}()}},($,_e,et)=>{function tt(wt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tt=function(Lt){return typeof Lt}:tt=function(Lt){return Lt&&typeof Symbol=="function"&&Lt.constructor===Symbol&&Lt!==Symbol.prototype?"symbol":typeof Lt},tt(wt)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFNodeStream=void 0;var ut=ct(et(2)),pt=et(4),yt=et(154);function ct(wt){return wt&&wt.__esModule?wt:{default:wt}}function rt(wt,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function");wt.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:wt,writable:!0,configurable:!0}}),Pt&&lt(wt,Pt)}function lt(wt,Pt){return lt=Object.setPrototypeOf||function(Dt,It){return Dt.__proto__=It,Dt},lt(wt,Pt)}function ft(wt){var Pt=nt();return function(){var Dt=ot(wt),It;if(Pt){var Nt=ot(this).constructor;It=Reflect.construct(Dt,arguments,Nt)}else It=Dt.apply(this,arguments);return it(this,It)}}function it(wt,Pt){if(Pt&&(tt(Pt)==="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(wt)}function at(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}function nt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ot(wt){return ot=Object.setPrototypeOf?Object.getPrototypeOf:function(Lt){return Lt.__proto__||Object.getPrototypeOf(Lt)},ot(wt)}function ht(wt,Pt,Lt,Dt,It,Nt,Jt){try{var sr=wt[Nt](Jt),lr=sr.value}catch(Ht){Lt(Ht);return}sr.done?Pt(lr):Promise.resolve(lr).then(Dt,It)}function st(wt){return function(){var Pt=this,Lt=arguments;return new Promise(function(Dt,It){var Nt=wt.apply(Pt,Lt);function Jt(lr){ht(Nt,Dt,It,Jt,sr,"next",lr)}function sr(lr){ht(Nt,Dt,It,Jt,sr,"throw",lr)}Jt(void 0)})}}function dt(wt,Pt){var Lt=typeof Symbol!="undefined"&&wt[Symbol.iterator]||wt["@@iterator"];if(!Lt){if(Array.isArray(wt)||(Lt=vt(wt))||Pt&&wt&&typeof wt.length=="number"){Lt&&(wt=Lt);var Dt=0,It=function(){};return{s:It,n:function(){return Dt>=wt.length?{done:!0}:{done:!1,value:wt[Dt++]}},e:function(Ht){throw Ht},f:It}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nt=!0,Jt=!1,sr;return{s:function(){Lt=Lt.call(wt)},n:function(){var Ht=Lt.next();return Nt=Ht.done,Ht},e:function(Ht){Jt=!0,sr=Ht},f:function(){try{!Nt&&Lt.return!=null&&Lt.return()}finally{if(Jt)throw sr}}}}function vt(wt,Pt){if(!!wt){if(typeof wt=="string")return mt(wt,Pt);var Lt=Object.prototype.toString.call(wt).slice(8,-1);if(Lt==="Object"&&wt.constructor&&(Lt=wt.constructor.name),Lt==="Map"||Lt==="Set")return Array.from(wt);if(Lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Lt))return mt(wt,Pt)}}function mt(wt,Pt){(Pt==null||Pt>wt.length)&&(Pt=wt.length);for(var Lt=0,Dt=new Array(Pt);Lt<Pt;Lt++)Dt[Lt]=wt[Lt];return Dt}function gt(wt,Pt){if(!(wt instanceof Pt))throw new TypeError("Cannot call a class as a function")}function bt(wt,Pt){for(var Lt=0;Lt<Pt.length;Lt++){var Dt=Pt[Lt];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(wt,Dt.key,Dt)}}function _t(wt,Pt,Lt){return Pt&&bt(wt.prototype,Pt),Lt&&bt(wt,Lt),wt}var Ct=require$$2,xt=require$$2,Tt=require$$2,Mt=require$$2,jt=/^file:\/\/\/[a-zA-Z]:\//;function Gt(wt){var Pt=Mt.parse(wt);return Pt.protocol==="file:"||Pt.host?Pt:/^[a-z]:[/\\]/i.test(wt)?Mt.parse("file:///".concat(wt)):(Pt.host||(Pt.protocol="file:"),Pt)}var zt=function(){function wt(Pt){gt(this,wt),this.source=Pt,this.url=Gt(Pt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Pt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _t(wt,[{key:"_progressiveDataLength",get:function(){var Lt,Dt;return(Lt=(Dt=this._fullRequestReader)===null||Dt===void 0?void 0:Dt._loaded)!==null&&Lt!==void 0?Lt:0}},{key:"getFullReader",value:function(){return(0,pt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Ot(this):new er(this),this._fullRequestReader}},{key:"getRangeReader",value:function(Lt,Dt){if(Dt<=this._progressiveDataLength)return null;var It=this.isFsUrl?new Et(this,Lt,Dt):new Ut(this,Lt,Dt);return this._rangeRequestReaders.push(It),It}},{key:"cancelAllRequests",value:function(Lt){this._fullRequestReader&&this._fullRequestReader.cancel(Lt);var Dt=dt(this._rangeRequestReaders.slice(0)),It;try{for(Dt.s();!(It=Dt.n()).done;){var Nt=It.value;Nt.cancel(Lt)}}catch(Jt){Dt.e(Jt)}finally{Dt.f()}}}]),wt}();_e.PDFNodeStream=zt;var Xt=function(){function wt(Pt){gt(this,wt),this._url=Pt.url,this._done=!1,this._storedError=null,this.onProgress=null;var Lt=Pt.source;this._contentLength=Lt.length,this._loaded=0,this._filename=null,this._disableRange=Lt.disableRange||!1,this._rangeChunkSize=Lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Lt.disableStream,this._isRangeSupported=!Lt.disableRange,this._readableStream=null,this._readCapability=(0,pt.createPromiseCapability)(),this._headersCapability=(0,pt.createPromiseCapability)()}return _t(wt,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var Pt=st(ut.default.mark(function Dt(){var It,Nt;return ut.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return sr.next=2,this._readCapability.promise;case 2:if(!this._done){sr.next=4;break}return sr.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){sr.next=6;break}throw this._storedError;case 6:if(It=this._readableStream.read(),It!==null){sr.next=10;break}return this._readCapability=(0,pt.createPromiseCapability)(),sr.abrupt("return",this.read());case 10:return this._loaded+=It.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),Nt=new Uint8Array(It).buffer,sr.abrupt("return",{value:Nt,done:!1});case 14:case"end":return sr.stop()}},Dt,this)}));function Lt(){return Pt.apply(this,arguments)}return Lt}()},{key:"cancel",value:function(Lt){if(!this._readableStream){this._error(Lt);return}this._readableStream.destroy(Lt)}},{key:"_error",value:function(Lt){this._storedError=Lt,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(Lt){var Dt=this;this._readableStream=Lt,Lt.on("readable",function(){Dt._readCapability.resolve()}),Lt.on("end",function(){Lt.destroy(),Dt._done=!0,Dt._readCapability.resolve()}),Lt.on("error",function(It){Dt._error(It)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new pt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),wt}(),Kt=function(){function wt(Pt){gt(this,wt),this._url=Pt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,pt.createPromiseCapability)();var Lt=Pt.source;this._isStreamingSupported=!Lt.disableStream}return _t(wt,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var Pt=st(ut.default.mark(function Dt(){var It,Nt;return ut.default.wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return sr.next=2,this._readCapability.promise;case 2:if(!this._done){sr.next=4;break}return sr.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){sr.next=6;break}throw this._storedError;case 6:if(It=this._readableStream.read(),It!==null){sr.next=10;break}return this._readCapability=(0,pt.createPromiseCapability)(),sr.abrupt("return",this.read());case 10:return this._loaded+=It.length,this.onProgress&&this.onProgress({loaded:this._loaded}),Nt=new Uint8Array(It).buffer,sr.abrupt("return",{value:Nt,done:!1});case 14:case"end":return sr.stop()}},Dt,this)}));function Lt(){return Pt.apply(this,arguments)}return Lt}()},{key:"cancel",value:function(Lt){if(!this._readableStream){this._error(Lt);return}this._readableStream.destroy(Lt)}},{key:"_error",value:function(Lt){this._storedError=Lt,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(Lt){var Dt=this;this._readableStream=Lt,Lt.on("readable",function(){Dt._readCapability.resolve()}),Lt.on("end",function(){Lt.destroy(),Dt._done=!0,Dt._readCapability.resolve()}),Lt.on("error",function(It){Dt._error(It)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),wt}();function qt(wt,Pt){return{protocol:wt.protocol,auth:wt.auth,host:wt.hostname,port:wt.port,path:wt.path,method:"GET",headers:Pt}}var er=function(wt){rt(Lt,wt);var Pt=ft(Lt);function Lt(Dt){var It;gt(this,Lt),It=Pt.call(this,Dt);var Nt=function(sr){if(sr.statusCode===404){var lr=new pt.MissingPDFException('Missing PDF "'.concat(It._url,'".'));It._storedError=lr,It._headersCapability.reject(lr);return}It._headersCapability.resolve(),It._setReadableStream(sr);var Ht=function($t){return It._readableStream.headers[$t.toLowerCase()]},Bt=(0,yt.validateRangeRequestCapabilities)({getResponseHeader:Ht,isHttp:Dt.isHttp,rangeChunkSize:It._rangeChunkSize,disableRange:It._disableRange}),Ft=Bt.allowRangeRequests,At=Bt.suggestedLength;It._isRangeSupported=Ft,It._contentLength=At||It._contentLength,It._filename=(0,yt.extractFilenameFromHeader)(Ht)};return It._request=null,It._url.protocol==="http:"?It._request=xt.request(qt(It._url,Dt.httpHeaders),Nt):It._request=Tt.request(qt(It._url,Dt.httpHeaders),Nt),It._request.on("error",function(Jt){It._storedError=Jt,It._headersCapability.reject(Jt)}),It._request.end(),It}return Lt}(Xt),Ut=function(wt){rt(Lt,wt);var Pt=ft(Lt);function Lt(Dt,It,Nt){var Jt;gt(this,Lt),Jt=Pt.call(this,Dt),Jt._httpHeaders={};for(var sr in Dt.httpHeaders){var lr=Dt.httpHeaders[sr];typeof lr!="undefined"&&(Jt._httpHeaders[sr]=lr)}Jt._httpHeaders.Range="bytes=".concat(It,"-").concat(Nt-1);var Ht=function(Ft){if(Ft.statusCode===404){var At=new pt.MissingPDFException('Missing PDF "'.concat(Jt._url,'".'));Jt._storedError=At;return}Jt._setReadableStream(Ft)};return Jt._request=null,Jt._url.protocol==="http:"?Jt._request=xt.request(qt(Jt._url,Jt._httpHeaders),Ht):Jt._request=Tt.request(qt(Jt._url,Jt._httpHeaders),Ht),Jt._request.on("error",function(Bt){Jt._storedError=Bt}),Jt._request.end(),Jt}return Lt}(Kt),Ot=function(wt){rt(Lt,wt);var Pt=ft(Lt);function Lt(Dt){var It;gt(this,Lt),It=Pt.call(this,Dt);var Nt=decodeURIComponent(It._url.path);return jt.test(It._url.href)&&(Nt=Nt.replace(/^\//,"")),Ct.lstat(Nt,function(Jt,sr){if(Jt){Jt.code==="ENOENT"&&(Jt=new pt.MissingPDFException('Missing PDF "'.concat(Nt,'".'))),It._storedError=Jt,It._headersCapability.reject(Jt);return}It._contentLength=sr.size,It._setReadableStream(Ct.createReadStream(Nt)),It._headersCapability.resolve()}),It}return Lt}(Xt),Et=function(wt){rt(Lt,wt);var Pt=ft(Lt);function Lt(Dt,It,Nt){var Jt;gt(this,Lt),Jt=Pt.call(this,Dt);var sr=decodeURIComponent(Jt._url.path);return jt.test(Jt._url.href)&&(sr=sr.replace(/^\//,"")),Jt._setReadableStream(Ct.createReadStream(sr,{start:It,end:Nt-1})),Jt}return Lt}(Kt)},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createResponseStatusError=rt,_e.extractFilenameFromHeader=ct,_e.validateRangeRequestCapabilities=yt,_e.validateResponseStatus=lt;var tt=et(4),ut=et(155),pt=et(1);function yt(ft){var it=ft.getResponseHeader,at=ft.isHttp,nt=ft.rangeChunkSize,ot=ft.disableRange;(0,tt.assert)(nt>0,"Range chunk size must be larger than zero");var ht={allowRangeRequests:!1,suggestedLength:void 0},st=parseInt(it("Content-Length"),10);if(!Number.isInteger(st)||(ht.suggestedLength=st,st<=2*nt)||ot||!at||it("Accept-Ranges")!=="bytes")return ht;var dt=it("Content-Encoding")||"identity";return dt!=="identity"||(ht.allowRangeRequests=!0),ht}function ct(ft){var it=ft("Content-Disposition");if(it){var at=(0,ut.getFilenameFromContentDispositionHeader)(it);if(at.includes("%"))try{at=decodeURIComponent(at)}catch{}if((0,pt.isPdfFile)(at))return at}return null}function rt(ft,it){return ft===404||ft===0&&it.startsWith("file:")?new tt.MissingPDFException('Missing PDF "'+it+'".'):new tt.UnexpectedResponseException("Unexpected server response (".concat(ft,') while retrieving PDF "').concat(it,'".'),ft)}function lt(ft){return ft===200||ft===206}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getFilenameFromContentDispositionHeader=ft;var tt=et(4);function ut(it,at){return lt(it)||rt(it,at)||yt(it,at)||pt()}function pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yt(it,at){if(!!it){if(typeof it=="string")return ct(it,at);var nt=Object.prototype.toString.call(it).slice(8,-1);if(nt==="Object"&&it.constructor&&(nt=it.constructor.name),nt==="Map"||nt==="Set")return Array.from(it);if(nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt))return ct(it,at)}}function ct(it,at){(at==null||at>it.length)&&(at=it.length);for(var nt=0,ot=new Array(at);nt<at;nt++)ot[nt]=it[nt];return ot}function rt(it,at){var nt=it==null?null:typeof Symbol!="undefined"&&it[Symbol.iterator]||it["@@iterator"];if(nt!=null){var ot=[],ht=!0,st=!1,dt,vt;try{for(nt=nt.call(it);!(ht=(dt=nt.next()).done)&&(ot.push(dt.value),!(at&&ot.length===at));ht=!0);}catch(mt){st=!0,vt=mt}finally{try{!ht&&nt.return!=null&&nt.return()}finally{if(st)throw vt}}return ot}}function lt(it){if(Array.isArray(it))return it}function ft(it){var at=!0,nt=dt("filename\\*","i").exec(it);if(nt){nt=nt[1];var ot=bt(nt);return ot=unescape(ot),ot=_t(ot),ot=Ct(ot),mt(ot)}if(nt=gt(it),nt){var ht=Ct(nt);return mt(ht)}if(nt=dt("filename","i").exec(it),nt){nt=nt[1];var st=bt(nt);return st=Ct(st),mt(st)}function dt(xt,Tt){return new RegExp("(?:^|;)\\s*"+xt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Tt)}function vt(xt,Tt){if(xt){if(!/^[\x00-\xFF]+$/.test(Tt))return Tt;try{var Mt=new TextDecoder(xt,{fatal:!0}),jt=(0,tt.stringToBytes)(Tt);Tt=Mt.decode(jt),at=!1}catch{if(/^utf-?8$/i.test(xt))try{Tt=decodeURIComponent(escape(Tt)),at=!1}catch{}}}return Tt}function mt(xt){return at&&/[\x80-\xff]/.test(xt)&&(xt=vt("utf-8",xt),at&&(xt=vt("iso-8859-1",xt))),xt}function gt(xt){for(var Tt=[],Mt,jt=dt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");(Mt=jt.exec(xt))!==null;){var Gt=Mt,zt=ut(Gt,4),Xt=zt[1],Kt=zt[2],qt=zt[3];if(Xt=parseInt(Xt,10),Xt in Tt){if(Xt===0)break;continue}Tt[Xt]=[Kt,qt]}for(var er=[],Ut=0;Ut<Tt.length&&Ut in Tt;++Ut){var Ot=ut(Tt[Ut],2),Et=Ot[0],wt=Ot[1];wt=bt(wt),Et&&(wt=unescape(wt),Ut===0&&(wt=_t(wt))),er.push(wt)}return er.join("")}function bt(xt){if(xt.startsWith('"')){for(var Tt=xt.slice(1).split('\\"'),Mt=0;Mt<Tt.length;++Mt){var jt=Tt[Mt].indexOf('"');jt!==-1&&(Tt[Mt]=Tt[Mt].slice(0,jt),Tt.length=Mt+1),Tt[Mt]=Tt[Mt].replace(/\\(.)/g,"$1")}xt=Tt.join('"')}return xt}function _t(xt){var Tt=xt.indexOf("'");if(Tt===-1)return xt;var Mt=xt.slice(0,Tt),jt=xt.slice(Tt+1),Gt=jt.replace(/^[^']*'/,"");return vt(Mt,Gt)}function Ct(xt){return!xt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(xt)?xt:xt.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Tt,Mt,jt,Gt){if(jt==="q"||jt==="Q")return Gt=Gt.replace(/_/g," "),Gt=Gt.replace(/=([0-9a-fA-F]{2})/g,function(zt,Xt){return String.fromCharCode(parseInt(Xt,16))}),vt(Mt,Gt);try{Gt=atob(Gt)}catch{}return vt(Mt,Gt)})}return""}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFNetworkStream=void 0;var tt=yt(et(2)),ut=et(4),pt=et(154);function yt(_t){return _t&&_t.__esModule?_t:{default:_t}}function ct(_t,Ct,xt,Tt,Mt,jt,Gt){try{var zt=_t[jt](Gt),Xt=zt.value}catch(Kt){xt(Kt);return}zt.done?Ct(Xt):Promise.resolve(Xt).then(Tt,Mt)}function rt(_t){return function(){var Ct=this,xt=arguments;return new Promise(function(Tt,Mt){var jt=_t.apply(Ct,xt);function Gt(Xt){ct(jt,Tt,Mt,Gt,zt,"next",Xt)}function zt(Xt){ct(jt,Tt,Mt,Gt,zt,"throw",Xt)}Gt(void 0)})}}function lt(_t,Ct){var xt=typeof Symbol!="undefined"&&_t[Symbol.iterator]||_t["@@iterator"];if(!xt){if(Array.isArray(_t)||(xt=ft(_t))||Ct&&_t&&typeof _t.length=="number"){xt&&(_t=xt);var Tt=0,Mt=function(){};return{s:Mt,n:function(){return Tt>=_t.length?{done:!0}:{done:!1,value:_t[Tt++]}},e:function(Kt){throw Kt},f:Mt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jt=!0,Gt=!1,zt;return{s:function(){xt=xt.call(_t)},n:function(){var Kt=xt.next();return jt=Kt.done,Kt},e:function(Kt){Gt=!0,zt=Kt},f:function(){try{!jt&&xt.return!=null&&xt.return()}finally{if(Gt)throw zt}}}}function ft(_t,Ct){if(!!_t){if(typeof _t=="string")return it(_t,Ct);var xt=Object.prototype.toString.call(_t).slice(8,-1);if(xt==="Object"&&_t.constructor&&(xt=_t.constructor.name),xt==="Map"||xt==="Set")return Array.from(_t);if(xt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xt))return it(_t,Ct)}}function it(_t,Ct){(Ct==null||Ct>_t.length)&&(Ct=_t.length);for(var xt=0,Tt=new Array(Ct);xt<Ct;xt++)Tt[xt]=_t[xt];return Tt}function at(_t,Ct){if(!(_t instanceof Ct))throw new TypeError("Cannot call a class as a function")}function nt(_t,Ct){for(var xt=0;xt<Ct.length;xt++){var Tt=Ct[xt];Tt.enumerable=Tt.enumerable||!1,Tt.configurable=!0,"value"in Tt&&(Tt.writable=!0),Object.defineProperty(_t,Tt.key,Tt)}}function ot(_t,Ct,xt){return Ct&&nt(_t.prototype,Ct),xt&&nt(_t,xt),_t}var ht=200,st=206;function dt(_t){var Ct=_t.response;if(typeof Ct!="string")return Ct;var xt=(0,ut.stringToBytes)(Ct);return xt.buffer}var vt=function(){function _t(Ct){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};at(this,_t),this.url=Ct,this.isHttp=/^https?:/i.test(Ct),this.httpHeaders=this.isHttp&&xt.httpHeaders||Object.create(null),this.withCredentials=xt.withCredentials||!1,this.getXhr=xt.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return ot(_t,[{key:"requestRange",value:function(xt,Tt,Mt){var jt={begin:xt,end:Tt};for(var Gt in Mt)jt[Gt]=Mt[Gt];return this.request(jt)}},{key:"requestFull",value:function(xt){return this.request(xt)}},{key:"request",value:function(xt){var Tt=this.getXhr(),Mt=this.currXhrId++,jt=this.pendingRequests[Mt]={xhr:Tt};Tt.open("GET",this.url),Tt.withCredentials=this.withCredentials;for(var Gt in this.httpHeaders){var zt=this.httpHeaders[Gt];typeof zt!="undefined"&&Tt.setRequestHeader(Gt,zt)}return this.isHttp&&"begin"in xt&&"end"in xt?(Tt.setRequestHeader("Range","bytes=".concat(xt.begin,"-").concat(xt.end-1)),jt.expectedStatus=st):jt.expectedStatus=ht,Tt.responseType="arraybuffer",xt.onError&&(Tt.onerror=function(Xt){xt.onError(Tt.status)}),Tt.onreadystatechange=this.onStateChange.bind(this,Mt),Tt.onprogress=this.onProgress.bind(this,Mt),jt.onHeadersReceived=xt.onHeadersReceived,jt.onDone=xt.onDone,jt.onError=xt.onError,jt.onProgress=xt.onProgress,Tt.send(null),Mt}},{key:"onProgress",value:function(xt,Tt){var Mt,jt=this.pendingRequests[xt];!jt||(Mt=jt.onProgress)===null||Mt===void 0||Mt.call(jt,Tt)}},{key:"onStateChange",value:function(xt,Tt){var Mt=this.pendingRequests[xt];if(!!Mt){var jt=Mt.xhr;if(jt.readyState>=2&&Mt.onHeadersReceived&&(Mt.onHeadersReceived(),delete Mt.onHeadersReceived),jt.readyState===4&&xt in this.pendingRequests){if(delete this.pendingRequests[xt],jt.status===0&&this.isHttp){var Gt;(Gt=Mt.onError)===null||Gt===void 0||Gt.call(Mt,jt.status);return}var zt=jt.status||ht,Xt=zt===ht&&Mt.expectedStatus===st;if(!Xt&&zt!==Mt.expectedStatus){var Kt;(Kt=Mt.onError)===null||Kt===void 0||Kt.call(Mt,jt.status);return}var qt=dt(jt);if(zt===st){var er=jt.getResponseHeader("Content-Range"),Ut=/bytes (\d+)-(\d+)\/(\d+)/.exec(er);Mt.onDone({begin:parseInt(Ut[1],10),chunk:qt})}else if(qt)Mt.onDone({begin:0,chunk:qt});else{var Ot;(Ot=Mt.onError)===null||Ot===void 0||Ot.call(Mt,jt.status)}}}}},{key:"getRequestXhr",value:function(xt){return this.pendingRequests[xt].xhr}},{key:"isPendingRequest",value:function(xt){return xt in this.pendingRequests}},{key:"abortRequest",value:function(xt){var Tt=this.pendingRequests[xt].xhr;delete this.pendingRequests[xt],Tt.abort()}}]),_t}(),mt=function(){function _t(Ct){at(this,_t),this._source=Ct,this._manager=new vt(Ct.url,{httpHeaders:Ct.httpHeaders,withCredentials:Ct.withCredentials}),this._rangeChunkSize=Ct.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return ot(_t,[{key:"_onRangeRequestReaderClosed",value:function(xt){var Tt=this._rangeRequestReaders.indexOf(xt);Tt>=0&&this._rangeRequestReaders.splice(Tt,1)}},{key:"getFullReader",value:function(){return(0,ut.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new gt(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(xt,Tt){var Mt=new bt(this._manager,xt,Tt);return Mt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Mt),Mt}},{key:"cancelAllRequests",value:function(xt){var Tt;(Tt=this._fullRequestReader)===null||Tt===void 0||Tt.cancel(xt);var Mt=lt(this._rangeRequestReaders.slice(0)),jt;try{for(Mt.s();!(jt=Mt.n()).done;){var Gt=jt.value;Gt.cancel(xt)}}catch(zt){Mt.e(zt)}finally{Mt.f()}}}]),_t}();_e.PDFNetworkStream=mt;var gt=function(){function _t(Ct,xt){at(this,_t),this._manager=Ct;var Tt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=xt.url,this._fullRequestId=Ct.requestFull(Tt),this._headersReceivedCapability=(0,ut.createPromiseCapability)(),this._disableRange=xt.disableRange||!1,this._contentLength=xt.length,this._rangeChunkSize=xt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return ot(_t,[{key:"_onHeadersReceived",value:function(){var xt=this._fullRequestId,Tt=this._manager.getRequestXhr(xt),Mt=function(Kt){return Tt.getResponseHeader(Kt)},jt=(0,pt.validateRangeRequestCapabilities)({getResponseHeader:Mt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),Gt=jt.allowRangeRequests,zt=jt.suggestedLength;Gt&&(this._isRangeSupported=!0),this._contentLength=zt||this._contentLength,this._filename=(0,pt.extractFilenameFromHeader)(Mt),this._isRangeSupported&&this._manager.abortRequest(xt),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(xt){if(xt)if(this._requests.length>0){var Tt=this._requests.shift();Tt.resolve({value:xt.chunk,done:!1})}else this._cachedChunks.push(xt.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){var Mt=lt(this._requests),jt;try{for(Mt.s();!(jt=Mt.n()).done;){var Gt=jt.value;Gt.resolve({value:void 0,done:!0})}}catch(zt){Mt.e(zt)}finally{Mt.f()}this._requests.length=0}}},{key:"_onError",value:function(xt){this._storedError=(0,pt.createResponseStatusError)(xt,this._url),this._headersReceivedCapability.reject(this._storedError);var Tt=lt(this._requests),Mt;try{for(Tt.s();!(Mt=Tt.n()).done;){var jt=Mt.value;jt.reject(this._storedError)}}catch(Gt){Tt.e(Gt)}finally{Tt.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(xt){var Tt;(Tt=this.onProgress)===null||Tt===void 0||Tt.call(this,{loaded:xt.loaded,total:xt.lengthComputable?xt.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){var Ct=rt(tt.default.mark(function Tt(){var Mt,jt;return tt.default.wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:if(!this._storedError){zt.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){zt.next=5;break}return Mt=this._cachedChunks.shift(),zt.abrupt("return",{value:Mt,done:!1});case 5:if(!this._done){zt.next=7;break}return zt.abrupt("return",{value:void 0,done:!0});case 7:return jt=(0,ut.createPromiseCapability)(),this._requests.push(jt),zt.abrupt("return",jt.promise);case 10:case"end":return zt.stop()}},Tt,this)}));function xt(){return Ct.apply(this,arguments)}return xt}()},{key:"cancel",value:function(xt){this._done=!0,this._headersReceivedCapability.reject(xt);var Tt=lt(this._requests),Mt;try{for(Tt.s();!(Mt=Tt.n()).done;){var jt=Mt.value;jt.resolve({value:void 0,done:!0})}}catch(Gt){Tt.e(Gt)}finally{Tt.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),_t}(),bt=function(){function _t(Ct,xt,Tt){at(this,_t),this._manager=Ct;var Mt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Ct.url,this._requestId=Ct.requestRange(xt,Tt,Mt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return ot(_t,[{key:"_close",value:function(){var xt;(xt=this.onClosed)===null||xt===void 0||xt.call(this,this)}},{key:"_onDone",value:function(xt){var Tt=xt.chunk;if(this._requests.length>0){var Mt=this._requests.shift();Mt.resolve({value:Tt,done:!1})}else this._queuedChunk=Tt;this._done=!0;var jt=lt(this._requests),Gt;try{for(jt.s();!(Gt=jt.n()).done;){var zt=Gt.value;zt.resolve({value:void 0,done:!0})}}catch(Xt){jt.e(Xt)}finally{jt.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(xt){this._storedError=(0,pt.createResponseStatusError)(xt,this._url);var Tt=lt(this._requests),Mt;try{for(Tt.s();!(Mt=Tt.n()).done;){var jt=Mt.value;jt.reject(this._storedError)}}catch(Gt){Tt.e(Gt)}finally{Tt.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(xt){if(!this.isStreamingSupported){var Tt;(Tt=this.onProgress)===null||Tt===void 0||Tt.call(this,{loaded:xt.loaded})}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var Ct=rt(tt.default.mark(function Tt(){var Mt,jt;return tt.default.wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:if(!this._storedError){zt.next=2;break}throw this._storedError;case 2:if(this._queuedChunk===null){zt.next=6;break}return Mt=this._queuedChunk,this._queuedChunk=null,zt.abrupt("return",{value:Mt,done:!1});case 6:if(!this._done){zt.next=8;break}return zt.abrupt("return",{value:void 0,done:!0});case 8:return jt=(0,ut.createPromiseCapability)(),this._requests.push(jt),zt.abrupt("return",jt.promise);case 11:case"end":return zt.stop()}},Tt,this)}));function xt(){return Ct.apply(this,arguments)}return xt}()},{key:"cancel",value:function(xt){this._done=!0;var Tt=lt(this._requests),Mt;try{for(Tt.s();!(Mt=Tt.n()).done;){var jt=Mt.value;jt.resolve({value:void 0,done:!0})}}catch(Gt){Tt.e(Gt)}finally{Tt.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),_t}()},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFFetchStream=void 0;var tt=yt(et(2)),ut=et(4),pt=et(154);function yt(gt){return gt&&gt.__esModule?gt:{default:gt}}function ct(gt,bt,_t,Ct,xt,Tt,Mt){try{var jt=gt[Tt](Mt),Gt=jt.value}catch(zt){_t(zt);return}jt.done?bt(Gt):Promise.resolve(Gt).then(Ct,xt)}function rt(gt){return function(){var bt=this,_t=arguments;return new Promise(function(Ct,xt){var Tt=gt.apply(bt,_t);function Mt(Gt){ct(Tt,Ct,xt,Mt,jt,"next",Gt)}function jt(Gt){ct(Tt,Ct,xt,Mt,jt,"throw",Gt)}Mt(void 0)})}}function lt(gt,bt){var _t=typeof Symbol!="undefined"&&gt[Symbol.iterator]||gt["@@iterator"];if(!_t){if(Array.isArray(gt)||(_t=ft(gt))||bt&&gt&&typeof gt.length=="number"){_t&&(gt=_t);var Ct=0,xt=function(){};return{s:xt,n:function(){return Ct>=gt.length?{done:!0}:{done:!1,value:gt[Ct++]}},e:function(zt){throw zt},f:xt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Tt=!0,Mt=!1,jt;return{s:function(){_t=_t.call(gt)},n:function(){var zt=_t.next();return Tt=zt.done,zt},e:function(zt){Mt=!0,jt=zt},f:function(){try{!Tt&&_t.return!=null&&_t.return()}finally{if(Mt)throw jt}}}}function ft(gt,bt){if(!!gt){if(typeof gt=="string")return it(gt,bt);var _t=Object.prototype.toString.call(gt).slice(8,-1);if(_t==="Object"&&gt.constructor&&(_t=gt.constructor.name),_t==="Map"||_t==="Set")return Array.from(gt);if(_t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_t))return it(gt,bt)}}function it(gt,bt){(bt==null||bt>gt.length)&&(bt=gt.length);for(var _t=0,Ct=new Array(bt);_t<bt;_t++)Ct[_t]=gt[_t];return Ct}function at(gt,bt){if(!(gt instanceof bt))throw new TypeError("Cannot call a class as a function")}function nt(gt,bt){for(var _t=0;_t<bt.length;_t++){var Ct=bt[_t];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(gt,Ct.key,Ct)}}function ot(gt,bt,_t){return bt&&nt(gt.prototype,bt),_t&&nt(gt,_t),gt}function ht(gt,bt,_t){return{method:"GET",headers:gt,signal:_t==null?void 0:_t.signal,mode:"cors",credentials:bt?"include":"same-origin",redirect:"follow"}}function st(gt){var bt=new Headers;for(var _t in gt){var Ct=gt[_t];typeof Ct!="undefined"&&bt.append(_t,Ct)}return bt}var dt=function(){function gt(bt){at(this,gt),this.source=bt,this.isHttp=/^https?:/i.test(bt.url),this.httpHeaders=this.isHttp&&bt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return ot(gt,[{key:"_progressiveDataLength",get:function(){var _t,Ct;return(_t=(Ct=this._fullRequestReader)===null||Ct===void 0?void 0:Ct._loaded)!==null&&_t!==void 0?_t:0}},{key:"getFullReader",value:function(){return(0,ut.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new vt(this),this._fullRequestReader}},{key:"getRangeReader",value:function(_t,Ct){if(Ct<=this._progressiveDataLength)return null;var xt=new mt(this,_t,Ct);return this._rangeRequestReaders.push(xt),xt}},{key:"cancelAllRequests",value:function(_t){this._fullRequestReader&&this._fullRequestReader.cancel(_t);var Ct=lt(this._rangeRequestReaders.slice(0)),xt;try{for(Ct.s();!(xt=Ct.n()).done;){var Tt=xt.value;Tt.cancel(_t)}}catch(Mt){Ct.e(Mt)}finally{Ct.f()}}}]),gt}();_e.PDFFetchStream=dt;var vt=function(){function gt(bt){var _t=this;at(this,gt),this._stream=bt,this._reader=null,this._loaded=0,this._filename=null;var Ct=bt.source;this._withCredentials=Ct.withCredentials||!1,this._contentLength=Ct.length,this._headersCapability=(0,ut.createPromiseCapability)(),this._disableRange=Ct.disableRange||!1,this._rangeChunkSize=Ct.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._isStreamingSupported=!Ct.disableStream,this._isRangeSupported=!Ct.disableRange,this._headers=st(this._stream.httpHeaders);var xt=Ct.url;fetch(xt,ht(this._headers,this._withCredentials,this._abortController)).then(function(Tt){if(!(0,pt.validateResponseStatus)(Tt.status))throw(0,pt.createResponseStatusError)(Tt.status,xt);_t._reader=Tt.body.getReader(),_t._headersCapability.resolve();var Mt=function(Kt){return Tt.headers.get(Kt)},jt=(0,pt.validateRangeRequestCapabilities)({getResponseHeader:Mt,isHttp:_t._stream.isHttp,rangeChunkSize:_t._rangeChunkSize,disableRange:_t._disableRange}),Gt=jt.allowRangeRequests,zt=jt.suggestedLength;_t._isRangeSupported=Gt,_t._contentLength=zt||_t._contentLength,_t._filename=(0,pt.extractFilenameFromHeader)(Mt),!_t._isStreamingSupported&&_t._isRangeSupported&&_t.cancel(new ut.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return ot(gt,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var bt=rt(tt.default.mark(function Ct(){var xt,Tt,Mt,jt;return tt.default.wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:return zt.next=2,this._headersCapability.promise;case 2:return zt.next=4,this._reader.read();case 4:if(xt=zt.sent,Tt=xt.value,Mt=xt.done,!Mt){zt.next=9;break}return zt.abrupt("return",{value:Tt,done:Mt});case 9:return this._loaded+=Tt.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),jt=new Uint8Array(Tt).buffer,zt.abrupt("return",{value:jt,done:!1});case 13:case"end":return zt.stop()}},Ct,this)}));function _t(){return bt.apply(this,arguments)}return _t}()},{key:"cancel",value:function(_t){this._reader&&this._reader.cancel(_t),this._abortController&&this._abortController.abort()}}]),gt}(),mt=function(){function gt(bt,_t,Ct){var xt=this;at(this,gt),this._stream=bt,this._reader=null,this._loaded=0;var Tt=bt.source;this._withCredentials=Tt.withCredentials||!1,this._readCapability=(0,ut.createPromiseCapability)(),this._isStreamingSupported=!Tt.disableStream,typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._headers=st(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(_t,"-").concat(Ct-1));var Mt=Tt.url;fetch(Mt,ht(this._headers,this._withCredentials,this._abortController)).then(function(jt){if(!(0,pt.validateResponseStatus)(jt.status))throw(0,pt.createResponseStatusError)(jt.status,Mt);xt._readCapability.resolve(),xt._reader=jt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}return ot(gt,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var bt=rt(tt.default.mark(function Ct(){var xt,Tt,Mt,jt;return tt.default.wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:return zt.next=2,this._readCapability.promise;case 2:return zt.next=4,this._reader.read();case 4:if(xt=zt.sent,Tt=xt.value,Mt=xt.done,!Mt){zt.next=9;break}return zt.abrupt("return",{value:Tt,done:Mt});case 9:return this._loaded+=Tt.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),jt=new Uint8Array(Tt).buffer,zt.abrupt("return",{value:jt,done:!1});case 13:case"end":return zt.stop()}},Ct,this)}));function _t(){return bt.apply(this,arguments)}return _t}()},{key:"cancel",value:function(_t){this._reader&&this._reader.cancel(_t),this._abortController&&this._abortController.abort()}}]),gt}()}],__webpack_module_cache__={};function __w_pdfjs_require__($){var _e=__webpack_module_cache__[$];if(_e!==void 0)return _e.exports;var et=__webpack_module_cache__[$]={id:$,loaded:!1,exports:{}};return __webpack_modules__[$].call(et.exports,et,et.exports,__w_pdfjs_require__),et.loaded=!0,et.exports}__w_pdfjs_require__.nmd=$=>($.paths=[],$.children||($.children=[]),$);var __webpack_exports__={};return(()=>{var $=__webpack_exports__;Object.defineProperty($,"__esModule",{value:!0}),Object.defineProperty($,"AnnotationLayer",{enumerable:!0,get:function(){return ut.AnnotationLayer}}),Object.defineProperty($,"AnnotationMode",{enumerable:!0,get:function(){return et.AnnotationMode}}),Object.defineProperty($,"CMapCompressionType",{enumerable:!0,get:function(){return et.CMapCompressionType}}),Object.defineProperty($,"GlobalWorkerOptions",{enumerable:!0,get:function(){return pt.GlobalWorkerOptions}}),Object.defineProperty($,"InvalidPDFException",{enumerable:!0,get:function(){return et.InvalidPDFException}}),Object.defineProperty($,"LinkTarget",{enumerable:!0,get:function(){return _e.LinkTarget}}),Object.defineProperty($,"LoopbackPort",{enumerable:!0,get:function(){return tt.LoopbackPort}}),Object.defineProperty($,"MissingPDFException",{enumerable:!0,get:function(){return et.MissingPDFException}}),Object.defineProperty($,"OPS",{enumerable:!0,get:function(){return et.OPS}}),Object.defineProperty($,"PDFDataRangeTransport",{enumerable:!0,get:function(){return tt.PDFDataRangeTransport}}),Object.defineProperty($,"PDFDateString",{enumerable:!0,get:function(){return _e.PDFDateString}}),Object.defineProperty($,"PDFWorker",{enumerable:!0,get:function(){return tt.PDFWorker}}),Object.defineProperty($,"PasswordResponses",{enumerable:!0,get:function(){return et.PasswordResponses}}),Object.defineProperty($,"PermissionFlag",{enumerable:!0,get:function(){return et.PermissionFlag}}),Object.defineProperty($,"PixelsPerInch",{enumerable:!0,get:function(){return _e.PixelsPerInch}}),Object.defineProperty($,"RenderingCancelledException",{enumerable:!0,get:function(){return _e.RenderingCancelledException}}),Object.defineProperty($,"SVGGraphics",{enumerable:!0,get:function(){return rt.SVGGraphics}}),Object.defineProperty($,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return et.UNSUPPORTED_FEATURES}}),Object.defineProperty($,"UnexpectedResponseException",{enumerable:!0,get:function(){return et.UnexpectedResponseException}}),Object.defineProperty($,"Util",{enumerable:!0,get:function(){return et.Util}}),Object.defineProperty($,"VerbosityLevel",{enumerable:!0,get:function(){return et.VerbosityLevel}}),Object.defineProperty($,"XfaLayer",{enumerable:!0,get:function(){return lt.XfaLayer}}),Object.defineProperty($,"addLinkAttributes",{enumerable:!0,get:function(){return _e.addLinkAttributes}}),Object.defineProperty($,"build",{enumerable:!0,get:function(){return tt.build}}),Object.defineProperty($,"createObjectURL",{enumerable:!0,get:function(){return et.createObjectURL}}),Object.defineProperty($,"createPromiseCapability",{enumerable:!0,get:function(){return et.createPromiseCapability}}),Object.defineProperty($,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return et.createValidAbsoluteUrl}}),Object.defineProperty($,"getDocument",{enumerable:!0,get:function(){return tt.getDocument}}),Object.defineProperty($,"getFilenameFromUrl",{enumerable:!0,get:function(){return _e.getFilenameFromUrl}}),Object.defineProperty($,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _e.getPdfFilenameFromUrl}}),Object.defineProperty($,"getXfaPageViewport",{enumerable:!0,get:function(){return _e.getXfaPageViewport}}),Object.defineProperty($,"isPdfFile",{enumerable:!0,get:function(){return _e.isPdfFile}}),Object.defineProperty($,"loadScript",{enumerable:!0,get:function(){return _e.loadScript}}),Object.defineProperty($,"removeNullCharacters",{enumerable:!0,get:function(){return et.removeNullCharacters}}),Object.defineProperty($,"renderTextLayer",{enumerable:!0,get:function(){return ct.renderTextLayer}}),Object.defineProperty($,"shadow",{enumerable:!0,get:function(){return et.shadow}}),Object.defineProperty($,"version",{enumerable:!0,get:function(){return tt.version}});var _e=__w_pdfjs_require__(1),et=__w_pdfjs_require__(4),tt=__w_pdfjs_require__(136),ut=__w_pdfjs_require__(148),pt=__w_pdfjs_require__(142),yt=__w_pdfjs_require__(6),ct=__w_pdfjs_require__(151),rt=__w_pdfjs_require__(152),lt=__w_pdfjs_require__(150);if(yt.isNodeJS){var ft=__w_pdfjs_require__(153),it=ft.PDFNodeStream;(0,tt.setPDFNetworkStreamFactory)(function(st){return new it(st)})}else{var at=__w_pdfjs_require__(156),nt=at.PDFNetworkStream,ot=__w_pdfjs_require__(157),ht=ot.PDFFetchStream;(0,tt.setPDFNetworkStreamFactory)(function(st){return(0,_e.isValidFetchUrl)(st.url)?new ht(st):new nt(st)})}})(),__webpack_exports__})()})})(pdf);function _typeof($){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof($)}function _classCallCheck($,_e){if(!($ instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties($,_e){for(var et=0;et<_e.length;et++){var tt=_e[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty($,tt.key,tt)}}function _createClass($,_e,et){return _e&&_defineProperties($.prototype,_e),et&&_defineProperties($,et),Object.defineProperty($,"prototype",{writable:!1}),$}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function $(tt,ut,pt,yt,ct,rt){if(rt!==ReactPropTypesSecret){var lt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw lt.name="Invariant Violation",lt}}$.isRequired=$;function _e(){return $}var et={array:$,bigint:$,bool:$,func:$,number:$,object:$,string:$,symbol:$,any:$,arrayOf:_e,element:$,elementType:$,instanceOf:_e,node:$,objectOf:_e,oneOf:_e,oneOfType:_e,shape:_e,exact:_e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return et.PropTypes=et,et};propTypes.exports=factoryWithThrowingShims();var PropTypes=propTypes.exports,keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],isProduction$1=!0,prefix="Invariant failed";function invariant($,_e){if(!$){if(isProduction$1)throw new Error(prefix);var et=typeof _e=="function"?_e():_e,tt=et?"".concat(prefix,": ").concat(et):prefix;throw new Error(tt)}}var isProduction=!0;function warning($,_e){if(!isProduction){if($)return;var et="Warning: "+_e;typeof console!="undefined"&&console.warn(et);try{throw Error(et)}catch{}}}PropTypes.node,PropTypes.oneOf(["error","loading","no-data"]).isRequired;var DEFAULT_LINK_REL="noopener noreferrer nofollow",LinkService=function(){function $(){_classCallCheck(this,$),this.externalLinkTarget=null,this.externalLinkRel=null}return _createClass($,[{key:"setDocument",value:function(et){this.pdfDocument=et}},{key:"setViewer",value:function(et){this.pdfViewer=et}},{key:"setExternalLinkRel",value:function(et){this.externalLinkRel=et}},{key:"setExternalLinkTarget",value:function(et){this.externalLinkTarget=et}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(et){this.pdfViewer.currentPageNumber=et}},{key:"rotation",get:function(){return 0},set:function(et){}},{key:"goToDestination",value:function(et){var tt=this;new Promise(function(ut){typeof et=="string"?tt.pdfDocument.getDestination(et).then(ut):Array.isArray(et)?ut(et):et.then(ut)}).then(function(ut){invariant(Array.isArray(ut),'"'.concat(ut,'" is not a valid destination array.'));var pt=ut[0];new Promise(function(yt){pt instanceof Object?tt.pdfDocument.getPageIndex(pt).then(function(ct){yt(ct)}).catch(function(){invariant(!1,'"'.concat(pt,'" is not a valid page reference.'))}):typeof pt=="number"?yt(pt):invariant(!1,'"'.concat(pt,'" is not a valid destination reference.'))}).then(function(yt){var ct=yt+1;invariant(ct>=1&&ct<=tt.pagesCount,'"'.concat(ct,'" is not a valid page number.')),tt.pdfViewer.scrollPageIntoView({dest:et,pageIndex:yt,pageNumber:ct})})})}},{key:"navigateTo",value:function(et){this.goToDestination(et)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(et,tt,ut){et.href=tt,et.rel=this.externalLinkRel||DEFAULT_LINK_REL,et.target=ut?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),$}();function _arrayLikeToArray($,_e){(_e==null||_e>$.length)&&(_e=$.length);for(var et=0,tt=new Array(_e);et<_e;et++)tt[et]=$[et];return tt}function _unsupportedIterableToArray($,_e){if(!!$){if(typeof $=="string")return _arrayLikeToArray($,_e);var et=Object.prototype.toString.call($).slice(8,-1);if(et==="Object"&&$.constructor&&(et=$.constructor.name),et==="Map"||et==="Set")return Array.from($);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray($,_e)}}var isBrowser=typeof window!="undefined",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined($){return typeof $!="undefined"}var allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayWorkerWarning(){warning(!isLocalFileSystem,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function _arrayWithoutHoles($){if(Array.isArray($))return _arrayLikeToArray($)}function _iterableToArray($){if(typeof Symbol!="undefined"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray($){return _arrayWithoutHoles($)||_iterableToArray($)||_unsupportedIterableToArray($)||_nonIterableSpread()}var eventProps=function(){var $={};return[].concat(_toConsumableArray(mouseEvents),_toConsumableArray(touchEvents),_toConsumableArray(keyboardEvents)).forEach(function(_e){$[_e]=PropTypes.func}),$}(),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),httpHeaders:PropTypes.object,range:PropTypes.object,url:PropTypes.string,withCredentials:PropTypes.bool})];typeof File!="undefined"&&fileTypes.push(PropTypes.instanceOf(File));typeof Blob!="undefined"&&fileTypes.push(PropTypes.instanceOf(Blob));var isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes),isLinkService=PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);var isPage=PropTypes.shape({_transport:PropTypes.shape({fontLoader:PropTypes.object.isRequired}).isRequired,commonObjs:PropTypes.shape({_objs:PropTypes.object.isRequired}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired}),isPageIndex=function $(_e,et,tt){var ut=_e[et],pt=_e.pageNumber,yt=_e.pdf;if(!isDefined(yt))return null;if(isDefined(ut)){if(typeof ut!="number")return new Error("`".concat(et,"` of type `").concat(_typeof(ut),"` supplied to `").concat(tt,"`, expected `number`."));if(ut<0)return new Error("Expected `".concat(et,"` to be greater or equal to 0."));var ct=yt.numPages;if(ut+1>ct)return new Error("Expected `".concat(et,"` to be less or equal to ").concat(ct-1,"."))}else if(!isDefined(pt))return new Error("`".concat(et,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(tt,"`."));return null},isPageNumber=function $(_e,et,tt){var ut=_e[et],pt=_e.pageIndex,yt=_e.pdf;if(!isDefined(yt))return null;if(isDefined(ut)){if(typeof ut!="number")return new Error("`".concat(et,"` of type `").concat(_typeof(ut),"` supplied to `").concat(tt,"`, expected `number`."));if(ut<1)return new Error("Expected `".concat(et,"` to be greater or equal to 1."));var ct=yt.numPages;if(ut>ct)return new Error("Expected `".concat(et,"` to be less or equal to ").concat(ct,"."))}else if(!isDefined(pt))return new Error("`".concat(et,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(tt,"`."));return null},isPdf=PropTypes.oneOfType([PropTypes.shape({getDestination:PropTypes.func.isRequired,getOutline:PropTypes.func.isRequired,getPage:PropTypes.func.isRequired,numPages:PropTypes.number.isRequired}),PropTypes.bool]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.shape({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);function ownKeys$2($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor($,ut).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$2($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$2(Object(et),!0).forEach(function(tt){_defineProperty($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$2(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}var isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);_objectSpread$2(_objectSpread$2({},eventProps),{},{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.string,file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,rotate:PropTypes.number});var isDestination=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.any)]);PropTypes.shape({dest:isDestination,items:PropTypes.arrayOf(PropTypes.shape({dest:isDestination,title:PropTypes.string})),title:PropTypes.string}).isRequired,PropTypes.func,isPdf.isRequired;function ownKeys$1($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor($,ut).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$1($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$1(Object(et),!0).forEach(function(tt){_defineProperty($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys$1(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}_objectSpread$1({className:isClassName,inputRef:isRef,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,pdf:isPdf},eventProps);PropTypes.string,PropTypes.func,PropTypes.func,isPage.isRequired,PropTypes.bool,PropTypes.number.isRequired;PropTypes.func,PropTypes.func,isPage.isRequired,PropTypes.number.isRequired;PropTypes.func,PropTypes.string.isRequired,PropTypes.number.isRequired,isPage.isRequired,PropTypes.number,PropTypes.string.isRequired,PropTypes.arrayOf(PropTypes.number).isRequired,PropTypes.number.isRequired;PropTypes.func,PropTypes.func,isPage.isRequired,PropTypes.number;PropTypes.string,isLinkService.isRequired,PropTypes.func,PropTypes.func,PropTypes.func,PropTypes.func,PropTypes.bool,PropTypes.number;function ownKeys($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor($,ut).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(et),!0).forEach(function(tt){_defineProperty($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}var isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);_objectSpread(_objectSpread({},eventProps),{},{canvasBackground:PropTypes.string,children:PropTypes.node,className:isClassName,customTextRenderer:PropTypes.func,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,registerPage:PropTypes.func,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderInteractiveForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,unregisterPage:PropTypes.func,width:PropTypes.number});displayWorkerWarning();pdf.exports.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdf.exports.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdf.exports.version}/pdf.worker.js`;function useBgCanvas($){const{converCanvasToImage:_e,checkImageSize:et}=useImageUtil(),{showMsg:tt}=useMsgBox(),ut=$==null?void 0:$.getContext("2d"),pt=useAppDispatch(),yt=lt=>{const ft=lt.target.files?lt.target.files[0]:null;if(ft!=null&&ft.type.includes("image"))return ct(ft);if(ft!=null&&ft.type.includes("pdf"))return rt(ft);tt({type:Status.ERROR,title:"\u6A94\u6848\u8A0A\u606F",message:"\u6A94\u6848\u683C\u5F0F\u932F\u8AA4\uFF0C\u8ACB\u4E0A\u50B3PDF\u6216\u5716\u6A94"})},ct=lt=>{if(!et(lt.size))return;const ft=new Image;ft.onload=()=>{!$||($.height=ft.height,$.width=ft.width,ut.drawImage(ft,0,0))},ft.src=URL.createObjectURL(lt),pt(loadBGImg(ft.src))},rt=lt=>{let ft=new FileReader;ft.onload=function(){const it=new Uint8Array(this.result);pdf.exports.getDocument({data:it}).promise.then(function(ot){ot.getPage(1).then(st=>{const vt=st.getViewport({scale:1});!$||($.height=vt.height,$.width=vt.width,st.render({canvasContext:ut,viewport:vt}).promise.then(()=>{let mt=_e($);pt(loadBGImg(mt))}).catch(mt=>console.log(mt)))})},function(ot){console.log(ot)})},ft.readAsArrayBuffer(lt)};return{bgCanvas:$,handleOnchange:yt}}function BGCanvas($){const{width:_e,height:et,BGCanvas:tt}=$.BGCanvasObj;return jsx("canvas",{ref:tt,className:"signCanvas",width:_e,height:et,children:"Your browser does not support th canvas element"})}function SignPageStep1(){const $=react.exports.useRef(null),[_e,et]=react.exports.useState(null),tt=useAppSelector(lt=>lt.createSign.BGImg),ut=useAppSelector(lt=>lt.createSign.handMadeSignImg),[pt,yt]=react.exports.useState("\u9078\u64C7\u6A94\u6848"),{toStep:ct}=useSignStep(),{handleOnchange:rt}=useBgCanvas(_e);return react.exports.useEffect(()=>{et($.current)},[$]),react.exports.useMemo(()=>{!tt||yt("\u91CD\u65B0\u9078\u64C7\u6A94\u6848")},[tt]),jsxs("main",{children:[jsxs("section",{className:"mt-5",children:[jsx("div",{className:"hidden",children:jsx(BGCanvas,{BGCanvasObj:{BGCanvas:$}})}),tt?jsx("img",{className:"mx-auto max-w-[70%] lg:w-[500px]",src:tt,alt:"\u6587\u4EF6\u5716\u6A94"}):null]}),jsx("section",{className:"flex flex-col items-center",children:jsxs("div",{className:"flex flex-col lg:flex-row",children:[jsx(Input,{inputObj:{type:InputType.FILE,title:pt,handleOnchange:rt}}),tt&&!ut?jsx(Btn,{btnObj:{type:BtnType.PRIMARY,title:"\u4E0B\u4E00\u6B65",clickHandler:()=>ct("/SignPage/Step2",2)}}):null,tt&&ut?jsxs("div",{className:"flex flex-col lg:flex-row",children:[jsx(Btn,{btnObj:{type:BtnType.SECONDARY,title:"\u9032\u884C\u7C3D\u7F72",clickHandler:()=>ct("/SignPage/Step2",2)}}),jsx(Btn,{btnObj:{type:BtnType.PRIMARY,title:"\u5408\u4F75\u7C3D\u540D",clickHandler:()=>ct("/SignPage/Step3",3)}})]}):null]})})]})}function useRefreshRedirect($,_e={}){const et=useNavigate(),tt=useLocation();return window.onbeforeunload=()=>(localStorage.setItem("routeKey",tt.key),"\u8CC7\u6599\u5C07\u4E0D\u6703\u70BA\u60A8\u4FDD\u7559"),react.exports.useEffect(()=>{localStorage.getItem("routeKey")===tt.key&&et($,_e)},[tt]),{}}function SignCanvas($){const{width:_e,height:et,signCanvas:tt,handleMouseDown:ut,handleMouseMove:pt,handleTouchStart:yt,handleTouchMove:ct,setDrawing:rt}=$.signCanvasObj;return jsx("canvas",{ref:tt,className:"signCanvas",width:_e,height:et,onMouseDown:ut,onMouseMove:pt,onTouchStart:yt,onTouchMove:ct,onTouchEnd:()=>rt(!1),onMouseUp:()=>rt(!1),onMouseOut:()=>rt(!1),children:"Your browser does not support th canvas element"})}function useMouse(){function $(ut){return[ut.clientX,ut.clientY]}function _e(ut){return[ut.touches[0].clientX,ut.touches[0].clientY]}function et(ut,pt){let[yt,ct]=$(pt),rt=ut.getBoundingClientRect();return yt-=rt.left,ct-=rt.top,[yt,ct]}function tt(ut,pt){let[yt,ct]=_e(pt),rt=ut.getBoundingClientRect();return yt-=rt.left,ct-=rt.top,[yt,ct]}return{getMousePos:$,getCanvasMousePos:et,getCanvasTouchPos:tt}}function useHandSignCanvas($){const _e=$==null?void 0:$.getContext("2d"),[et,tt]=react.exports.useState(!1),[ut,pt]=react.exports.useState("black"),[yt,ct]=react.exports.useState({width:500,height:200});react.exports.useEffect(()=>(window.addEventListener("resize",Tt=>{window.innerWidth<500?ct({width:window.innerWidth,height:200}):ct({width:500,height:200})}),()=>{window.removeEventListener("resize",()=>{})}),[]);const{getCanvasMousePos:rt,getCanvasTouchPos:lt}=useMouse(),{converCanvasToImage:ft,checkImageSize:it}=useImageUtil(),{toStep:at}=useSignStep(),{showMsg:nt}=useMsgBox(),ot=useAppDispatch(),ht=useAppSelector(Tt=>Tt.createSign.handSignArray);function st(Tt){const Mt=Tt.getContext("2d");Mt==null||Mt.clearRect(0,0,Tt.width,Tt.height)}function dt(Tt){tt(!0);let[Mt,jt]=rt($,Tt);!_e||(_e.beginPath(),_e.moveTo(Mt,jt),Tt.preventDefault())}function vt(Tt){if(!et)return;let[Mt,jt]=rt($,Tt);!_e||(_e.lineWidth=2,_e.lineCap="round",_e.lineJoin="round",_e.strokeStyle=ut,_e.shadowBlur=1,_e.lineTo(Mt,jt),_e.stroke())}function mt(Tt){tt(!0);let[Mt,jt]=lt($,Tt);!_e||(_e.beginPath(),_e.moveTo(Mt,jt))}function gt(Tt){if(!et)return;let[Mt,jt]=lt($,Tt);!_e||(_e.lineWidth=2,_e.lineCap="round",_e.lineJoin="round",_e.strokeStyle=ut,_e.shadowBlur=1,_e.shadowColor="black",_e.lineTo(Mt,jt),_e.stroke())}const bt=Tt=>{const Mt=Tt.target.files?Tt.target.files[0]:null;if(!(Mt!=null&&Mt.type.includes("image"))){nt({type:Status.ERROR,title:"\u4E0A\u50B3\u6A94\u6848\u8A0A\u606F",message:"\u60A8\u4E0A\u50B3\u7684\u4E26\u975E\u5716\u6A94"});return}if(!it(Mt==null?void 0:Mt.size))return;const jt=new Image;jt.onload=()=>{!$||_e.drawImage(jt,0,0,jt.width,jt.height,0,0,$.width,$.height)},jt.src=URL.createObjectURL(Mt),ot(loadHandMadeSignImg(jt.src))};function _t(){return ft($)}function Ct(){if(ht.length>4){nt({type:Status.ERROR,title:"\u7C3D\u540D\u8A0A\u606F",message:"\u7121\u6CD5\u5132\u5B58\uFF0C\u6700\u591A\u53EA\u80FD\u5B58\u53D6\u4E94\u5F35\u7C3D\u540D"});return}ot(pushHandsignImg(_t())),nt({type:Status.SUCCESS,title:"\u7C3D\u540D\u8A0A\u606F",message:"\u6210\u529F\u5132\u5B58\uFF0C\u8ACB\u67E5\u770B\u60A8\u7684\u7C3D\u540D\u6A94\u5217\u8868"})}function xt(){ot(setStepIndecatorDon(1)),ot(loadHandMadeSignImg(_t())),at("/SignPage/Step3",3)}return{signCanvas:$,ctx:_e,canvasSize:yt,setStrokeColor:pt,setDrawing:tt,clearCanvas:st,handleMouseMove:vt,handleMouseDown:dt,handleTouchStart:mt,handleTouchMove:gt,handleUploadImage:bt,useSign:xt,keepInHandSignArray:Ct,toImage:_t}}function TheColorPalette($){const[_e,et]=react.exports.useState(0),tt=pt=>{$.setColor(pt.target.value)},ut=(pt,yt)=>{et(yt),$.setColor(pt)};return jsxs("section",{className:"w-full flex justify-around",children:[jsx(Btn,{btnObj:{type:BtnType.COLOR,color:"black",clickHandler:()=>ut("black",0),active:_e===0}}),jsx(Btn,{btnObj:{type:BtnType.COLOR,color:"yellow",clickHandler:()=>ut("yellow",1),active:_e===1}}),jsx(Btn,{btnObj:{type:BtnType.COLOR,color:"blue",clickHandler:()=>ut("blue",2),active:_e===2}}),jsx(Btn,{btnObj:{type:BtnType.COLOR,color:"red",clickHandler:()=>ut("red",3),active:_e===3}}),jsx(Input,{inputObj:{type:InputType.COLOR,handleOnchange:tt,handleClick:()=>et(4),active:_e===4}})]})}function CreateHandSign(){const $=react.exports.useRef(null),[_e,et]=react.exports.useState(null);react.exports.useEffect(()=>{et($.current)},[$]);const{signCanvas:tt,ctx:ut,canvasSize:pt,setDrawing:yt,setStrokeColor:ct,clearCanvas:rt,handleMouseDown:lt,handleMouseMove:ft,handleTouchMove:it,handleTouchStart:at,useSign:nt,keepInHandSignArray:ot}=useHandSignCanvas(_e);return jsx("main",{className:"text-white",children:jsx("section",{children:jsxs("section",{className:"w-full flex flex-col border-2 p-5",children:[jsx(TheColorPalette,{setColor:ct}),jsx("div",{className:"mx-auto mb-5",children:jsx(SignCanvas,{signCanvasObj:{width:pt.width,height:pt.height,signCanvas:$,ctx:ut,setDrawing:yt,handleMouseDown:lt,handleMouseMove:ft,handleTouchMove:it,handleTouchStart:at}})}),jsxs("div",{className:"flex flex-col justify-around items-center lg:flex-row",children:[jsx(Btn,{btnObj:{type:BtnType.SECONDARY,title:"\u6E05\u9664\u7C3D\u540D",clickHandler:()=>rt(_e)}}),jsx(Btn,{btnObj:{type:BtnType.PRIMARY,title:"\u4F7F\u7528\u7C3D\u540D",clickHandler:nt}}),jsx(Btn,{btnObj:{type:BtnType.SECONDARY,title:"\u5132\u5B58\u7C3D\u540D",clickHandler:ot}})]})]})})})}function usePrompt$1(){const $=useAppDispatch(),_e=pt=>{$(setPromptValue(pt.target.value))};function et(pt){pt.title||(pt.title="\u63D0\u793A\u8A0A\u606F"),pt.message||(pt.message="\u6B64\u64CD\u4F5C\u5C07\u9020\u6210\u7121\u6CD5\u6062\u5FA9\u7684\u7D50\u679C\uFF0C\u78BA\u5B9A\u57F7\u884C?"),$(setPrompt(pt))}function tt(){$(setPromptShow(!0))}function ut(){$(setPromptShow(!1))}return{promptInputChangeCallback:_e,setPromptObj:et,showPrompt:tt,closePrompt:ut}}function MyHandSignList($){const{showUseBottom:_e,callback:et}=$,{toStep:tt}=useSignStep(),{downloadImg:ut}=useImageUtil(),{showPrompt:pt,setPromptObj:yt,closePrompt:ct}=usePrompt$1(),rt=useAppDispatch(),lt=useAppSelector(it=>it.createSign.handSignArray);function ft(it){yt({type:PromptType.NOINPUT,title:"\u8B66\u544A\u8A0A\u606F",message:"\u6B64\u64CD\u4F5C\u5C07\u6C38\u4E45\u522A\u9664\u6A94\u6848\uFF0C\u78BA\u5B9A\u57F7\u884C?",confirmCallback:()=>{rt(deleteHandSign(it)),ct()}}),pt()}return jsx("ul",{className:"",children:lt.length?lt.map((it,at)=>jsx("li",{className:"",children:jsxs("div",{className:"flex flex-col justify-center items-center mb-4 lg:flex-row",children:[jsx("div",{className:"border-2 w-[30%] min-w-[200px] mr-5",children:jsx("img",{src:it,alt:`\u6211\u7684\u7C3D\u540D${at}`})}),jsxs("div",{className:"flex flex-col",children:[_e?jsx(Btn,{btnObj:{type:BtnType.SECONDARY,title:"\u4F7F\u7528",clickHandler:()=>{rt(loadHandMadeSignImg(it)),tt("/SignPage/Step3",3),et&&et()}}}):null,jsx(Btn,{btnObj:{type:BtnType.SECONDARY,title:"\u4E0B\u8F09",clickHandler:()=>ut(it)}}),jsx(Btn,{btnObj:{type:BtnType.SECONDARY,title:"\u522A\u9664",clickHandler:()=>ft(at)}})]})]})},it)):jsx("p",{children:"\u60A8\u5C1A\u672A\u65B0\u589E\u4EFB\u4F55\u7C3D\u540D"})})}function TheMyHandSignList(){const $=useAppDispatch(),_e=useAppSelector(ut=>ut.createSign.handSignArray),et=useAppSelector(ut=>ut.createSign.showHandSignModal);function tt(){$(setShowHandSignModal(!1))}return jsx(react.exports.Fragment,{children:et?jsx("div",{className:"absolute top-0 w-full min-h-screen flex justify-center bg-overlay",children:jsxs("main",{className:"w-full flex flex-col primary-bg-gradient relative p-10 lg:w-1/2",children:[jsxs("header",{className:"border-b-2 mb-5",children:["\u6211\u7684\u7C3D\u540D\u5217\u8868",jsx("div",{className:"absolute right-0 top-0 max-w-[500px]",children:jsx(Btn,{btnObj:{type:BtnType.CLOSE,clickHandler:tt}})})]}),jsx("article",{className:"",children:jsx(MyHandSignList,{handSignArray:_e,showUseBottom:!0,callback:tt})}),jsx("footer",{className:""})]})}):null})}function SignPageStep2(){const{toStep:$}=useSignStep();useRefreshRedirect("/SignPage/Step1");const _e=useAppDispatch();return useAppSelector(et=>et.createSign.handMadeSignImg),jsxs("section",{className:"flex flex-col items-center",children:[jsx("div",{className:"flex flex-col lg:flex-row",children:jsx(Btn,{btnObj:{type:BtnType.SECONDARY,title:"\u91CD\u65B0\u9078\u53D6\u6587\u4EF6",clickHandler:()=>$("/SignPage/Step1",1)}})}),jsxs("div",{className:"flex flex-col lg:flex-row",children:[jsx("div",{className:"h-auto border-2 flex items-center justify-center lg:h-[402px]",children:jsx(Btn,{btnObj:{type:BtnType.PRIMARY,title:"\u5F9E\u7C3D\u540D\u6A94\u5217\u8868\u9078\u53D6",clickHandler:()=>_e(setShowHandSignModal(!0))}})}),jsx(CreateHandSign,{})]}),jsx(TheMyHandSignList,{})]})}function MergeImageCanvas($){const{mergeImageCanvasRef:_e}=$.mergeImageCanvasObj;return jsx("canvas",{className:"mergeCanvas",ref:_e,children:"Your browser does not support th canvas element"})}var fabric={};(function($){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var _e=_e||{version:"5.2.4"};if($.fabric=_e,typeof document!="undefined"&&typeof window!="undefined")document instanceof(typeof HTMLDocument!="undefined"?HTMLDocument:Document)?_e.document=document:_e.document=document.implementation.createHTMLDocument(""),_e.window=window;else{var et=require$$2,tt=new et.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;_e.document=tt.document,_e.jsdomImplForWrapper=require$$2.implForWrapper,_e.nodeCanvas=require$$2.Canvas,_e.window=tt,DOMParser=_e.window.DOMParser}_e.isTouchSupported="ontouchstart"in _e.window||"ontouchstart"in _e.document||_e.window&&_e.window.navigator&&_e.window.navigator.maxTouchPoints>0,_e.isLikelyNode=typeof Buffer!="undefined"&&typeof window=="undefined",_e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],_e.DPI=96,_e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",_e.commaWsp="(?:\\s+,?\\s*|,\\s*)",_e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,_e.reNonWord=/[ \n\.,;!\?\-]/,_e.fontPaths={},_e.iMatrix=[1,0,0,1,0,0],_e.svgNS="http://www.w3.org/2000/svg",_e.perfLimitSizeTotal=2097152,_e.maxCacheSideLimit=4096,_e.minCacheSideLimit=256,_e.charWidthsCache={},_e.textureSize=2048,_e.disableStyleCopyPaste=!1,_e.enableGLFiltering=!0,_e.devicePixelRatio=_e.window.devicePixelRatio||_e.window.webkitDevicePixelRatio||_e.window.mozDevicePixelRatio||1,_e.browserShadowBlurConstant=1,_e.arcToSegmentsCache={},_e.boundsOfCurveCache={},_e.cachesBoundsOfCurve=!0,_e.forceGLPutImageData=!1,_e.initFilterBackend=function(){if(_e.enableGLFiltering&&_e.isWebglSupported&&_e.isWebglSupported(_e.textureSize))return console.log("max texture size: "+_e.maxTextureSize),new _e.WebglFilterBackend({tileSize:_e.textureSize});if(_e.Canvas2dFilterBackend)return new _e.Canvas2dFilterBackend},typeof document!="undefined"&&typeof window!="undefined"&&(window.fabric=_e),function(){function ct(nt,ot){if(!!this.__eventListeners[nt]){var ht=this.__eventListeners[nt];ot?ht[ht.indexOf(ot)]=!1:_e.util.array.fill(ht,!1)}}function rt(nt,ot){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var ht in nt)this.on(ht,nt[ht]);else this.__eventListeners[nt]||(this.__eventListeners[nt]=[]),this.__eventListeners[nt].push(ot);return this}function lt(nt,ot){var ht=function(){ot.apply(this,arguments),this.off(nt,ht)}.bind(this);this.on(nt,ht)}function ft(nt,ot){if(arguments.length===1)for(var ht in nt)lt.call(this,ht,nt[ht]);else lt.call(this,nt,ot);return this}function it(nt,ot){if(!this.__eventListeners)return this;if(arguments.length===0)for(nt in this.__eventListeners)ct.call(this,nt);else if(arguments.length===1&&typeof arguments[0]=="object")for(var ht in nt)ct.call(this,ht,nt[ht]);else ct.call(this,nt,ot);return this}function at(nt,ot){if(!this.__eventListeners)return this;var ht=this.__eventListeners[nt];if(!ht)return this;for(var st=0,dt=ht.length;st<dt;st++)ht[st]&&ht[st].call(this,ot||{});return this.__eventListeners[nt]=ht.filter(function(vt){return vt!==!1}),this}_e.Observable={fire:at,on:rt,once:ft,off:it}}(),_e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var ct=0,rt=arguments.length;ct<rt;ct++)this._onObjectAdded(arguments[ct]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(ct,rt,lt){var ft=this._objects;return lt?ft[rt]=ct:ft.splice(rt,0,ct),this._onObjectAdded&&this._onObjectAdded(ct),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var ct=this._objects,rt,lt=!1,ft=0,it=arguments.length;ft<it;ft++)rt=ct.indexOf(arguments[ft]),rt!==-1&&(lt=!0,ct.splice(rt,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[ft]));return this.renderOnAddRemove&&lt&&this.requestRenderAll(),this},forEachObject:function(ct,rt){for(var lt=this.getObjects(),ft=0,it=lt.length;ft<it;ft++)ct.call(rt,lt[ft],ft,lt);return this},getObjects:function(ct){return typeof ct=="undefined"?this._objects.concat():this._objects.filter(function(rt){return rt.type===ct})},item:function(ct){return this._objects[ct]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(ct,rt){return this._objects.indexOf(ct)>-1?!0:rt?this._objects.some(function(lt){return typeof lt.contains=="function"&&lt.contains(ct,!0)}):!1},complexity:function(){return this._objects.reduce(function(ct,rt){return ct+=rt.complexity?rt.complexity():0,ct},0)}},_e.CommonMethods={_setOptions:function(ct){for(var rt in ct)this.set(rt,ct[rt])},_initGradient:function(ct,rt){ct&&ct.colorStops&&!(ct instanceof _e.Gradient)&&this.set(rt,new _e.Gradient(ct))},_initPattern:function(ct,rt,lt){ct&&ct.source&&!(ct instanceof _e.Pattern)?this.set(rt,new _e.Pattern(ct,lt)):lt&&lt()},_setObject:function(ct){for(var rt in ct)this._set(rt,ct[rt])},set:function(ct,rt){return typeof ct=="object"?this._setObject(ct):this._set(ct,rt),this},_set:function(ct,rt){this[ct]=rt},toggle:function(ct){var rt=this.get(ct);return typeof rt=="boolean"&&this.set(ct,!rt),this},get:function(ct){return this[ct]}},function(ct){var rt=Math.sqrt,lt=Math.atan2,ft=Math.pow,it=Math.PI/180,at=Math.PI/2;_e.util={cos:function(nt){if(nt===0)return 1;nt<0&&(nt=-nt);var ot=nt/at;switch(ot){case 1:case 3:return 0;case 2:return-1}return Math.cos(nt)},sin:function(nt){if(nt===0)return 0;var ot=nt/at,ht=1;switch(nt<0&&(ht=-1),ot){case 1:return ht;case 2:return 0;case 3:return-ht}return Math.sin(nt)},removeFromArray:function(nt,ot){var ht=nt.indexOf(ot);return ht!==-1&&nt.splice(ht,1),nt},getRandomInt:function(nt,ot){return Math.floor(Math.random()*(ot-nt+1))+nt},degreesToRadians:function(nt){return nt*it},radiansToDegrees:function(nt){return nt/it},rotatePoint:function(nt,ot,ht){var st=new _e.Point(nt.x-ot.x,nt.y-ot.y),dt=_e.util.rotateVector(st,ht);return new _e.Point(dt.x,dt.y).addEquals(ot)},rotateVector:function(nt,ot){var ht=_e.util.sin(ot),st=_e.util.cos(ot),dt=nt.x*st-nt.y*ht,vt=nt.x*ht+nt.y*st;return{x:dt,y:vt}},createVector:function(nt,ot){return new _e.Point(ot.x-nt.x,ot.y-nt.y)},calcAngleBetweenVectors:function(nt,ot){return Math.acos((nt.x*ot.x+nt.y*ot.y)/(Math.hypot(nt.x,nt.y)*Math.hypot(ot.x,ot.y)))},getHatVector:function(nt){return new _e.Point(nt.x,nt.y).multiply(1/Math.hypot(nt.x,nt.y))},getBisector:function(nt,ot,ht){var st=_e.util.createVector(nt,ot),dt=_e.util.createVector(nt,ht),vt=_e.util.calcAngleBetweenVectors(st,dt),mt=_e.util.calcAngleBetweenVectors(_e.util.rotateVector(st,vt),dt),gt=vt*(mt===0?1:-1)/2;return{vector:_e.util.getHatVector(_e.util.rotateVector(st,gt)),angle:vt}},projectStrokeOnPoints:function(nt,ot,ht){var st=[],dt=ot.strokeWidth/2,vt=ot.strokeUniform?new _e.Point(1/ot.scaleX,1/ot.scaleY):new _e.Point(1,1),mt=function(gt){var bt=dt/Math.hypot(gt.x,gt.y);return new _e.Point(gt.x*bt*vt.x,gt.y*bt*vt.y)};return nt.length<=1||nt.forEach(function(gt,bt){var _t=new _e.Point(gt.x,gt.y),Ct,xt;bt===0?(xt=nt[bt+1],Ct=ht?mt(_e.util.createVector(xt,_t)).addEquals(_t):nt[nt.length-1]):bt===nt.length-1?(Ct=nt[bt-1],xt=ht?mt(_e.util.createVector(Ct,_t)).addEquals(_t):nt[0]):(Ct=nt[bt-1],xt=nt[bt+1]);var Tt=_e.util.getBisector(_t,Ct,xt),Mt=Tt.vector,jt=Tt.angle,Gt,zt;if(ot.strokeLineJoin==="miter"&&(Gt=-dt/Math.sin(jt/2),zt=new _e.Point(Mt.x*Gt*vt.x,Mt.y*Gt*vt.y),Math.hypot(zt.x,zt.y)/dt<=ot.strokeMiterLimit)){st.push(_t.add(zt)),st.push(_t.subtract(zt));return}Gt=-dt*Math.SQRT2,zt=new _e.Point(Mt.x*Gt*vt.x,Mt.y*Gt*vt.y),st.push(_t.add(zt)),st.push(_t.subtract(zt))}),st},transformPoint:function(nt,ot,ht){return ht?new _e.Point(ot[0]*nt.x+ot[2]*nt.y,ot[1]*nt.x+ot[3]*nt.y):new _e.Point(ot[0]*nt.x+ot[2]*nt.y+ot[4],ot[1]*nt.x+ot[3]*nt.y+ot[5])},makeBoundingBoxFromPoints:function(nt,ot){if(ot)for(var ht=0;ht<nt.length;ht++)nt[ht]=_e.util.transformPoint(nt[ht],ot);var st=[nt[0].x,nt[1].x,nt[2].x,nt[3].x],dt=_e.util.array.min(st),vt=_e.util.array.max(st),mt=vt-dt,gt=[nt[0].y,nt[1].y,nt[2].y,nt[3].y],bt=_e.util.array.min(gt),_t=_e.util.array.max(gt),Ct=_t-bt;return{left:dt,top:bt,width:mt,height:Ct}},invertTransform:function(nt){var ot=1/(nt[0]*nt[3]-nt[1]*nt[2]),ht=[ot*nt[3],-ot*nt[1],-ot*nt[2],ot*nt[0]],st=_e.util.transformPoint({x:nt[4],y:nt[5]},ht,!0);return ht[4]=-st.x,ht[5]=-st.y,ht},toFixed:function(nt,ot){return parseFloat(Number(nt).toFixed(ot))},parseUnit:function(nt,ot){var ht=/\D{0,2}$/.exec(nt),st=parseFloat(nt);switch(ot||(ot=_e.Text.DEFAULT_SVG_FONT_SIZE),ht[0]){case"mm":return st*_e.DPI/25.4;case"cm":return st*_e.DPI/2.54;case"in":return st*_e.DPI;case"pt":return st*_e.DPI/72;case"pc":return st*_e.DPI/72*12;case"em":return st*ot;default:return st}},falseFunction:function(){return!1},getKlass:function(nt,ot){return nt=_e.util.string.camelize(nt.charAt(0).toUpperCase()+nt.slice(1)),_e.util.resolveNamespace(ot)[nt]},getSvgAttributes:function(nt){var ot=["instantiated_by_use","style","id","class"];switch(nt){case"linearGradient":ot=ot.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":ot=ot.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":ot=ot.concat(["offset","stop-color","stop-opacity"]);break}return ot},resolveNamespace:function(nt){if(!nt)return _e;var ot=nt.split("."),ht=ot.length,st,dt=ct||_e.window;for(st=0;st<ht;++st)dt=dt[ot[st]];return dt},loadImage:function(nt,ot,ht,st){if(!nt){ot&&ot.call(ht,nt);return}var dt=_e.util.createImage(),vt=function(){ot&&ot.call(ht,dt,!1),dt=dt.onload=dt.onerror=null};dt.onload=vt,dt.onerror=function(){_e.log("Error loading "+dt.src),ot&&ot.call(ht,null,!0),dt=dt.onload=dt.onerror=null},nt.indexOf("data")!==0&&st!==void 0&&st!==null&&(dt.crossOrigin=st),nt.substring(0,14)==="data:image/svg"&&(dt.onload=null,_e.util.loadImageInDom(dt,vt)),dt.src=nt},loadImageInDom:function(nt,ot){var ht=_e.document.createElement("div");ht.style.width=ht.style.height="1px",ht.style.left=ht.style.top="-100%",ht.style.position="absolute",ht.appendChild(nt),_e.document.querySelector("body").appendChild(ht),nt.onload=function(){ot(),ht.parentNode.removeChild(ht),ht=null}},enlivenObjects:function(nt,ot,ht,st){nt=nt||[];var dt=[],vt=0,mt=nt.length;function gt(){++vt===mt&&ot&&ot(dt.filter(function(bt){return bt}))}if(!mt){ot&&ot(dt);return}nt.forEach(function(bt,_t){if(!bt||!bt.type){gt();return}var Ct=_e.util.getKlass(bt.type,ht);Ct.fromObject(bt,function(xt,Tt){Tt||(dt[_t]=xt),st&&st(bt,xt,Tt),gt()})})},enlivenObjectEnlivables:function(nt,ot,ht){var st=_e.Object.ENLIVEN_PROPS.filter(function(dt){return!!nt[dt]});_e.util.enlivenObjects(st.map(function(dt){return nt[dt]}),function(dt){var vt={};st.forEach(function(mt,gt){vt[mt]=dt[gt],ot&&(ot[mt]=dt[gt])}),ht&&ht(vt)})},enlivenPatterns:function(nt,ot){nt=nt||[];function ht(){++dt===vt&&ot&&ot(st)}var st=[],dt=0,vt=nt.length;if(!vt){ot&&ot(st);return}nt.forEach(function(mt,gt){mt&&mt.source?new _e.Pattern(mt,function(bt){st[gt]=bt,ht()}):(st[gt]=mt,ht())})},groupSVGElements:function(nt,ot,ht){var st;return nt&&nt.length===1?(typeof ht!="undefined"&&(nt[0].sourcePath=ht),nt[0]):(ot&&(ot.width&&ot.height?ot.centerPoint={x:ot.width/2,y:ot.height/2}:(delete ot.width,delete ot.height)),st=new _e.Group(nt,ot),typeof ht!="undefined"&&(st.sourcePath=ht),st)},populateWithProperties:function(nt,ot,ht){if(ht&&Array.isArray(ht))for(var st=0,dt=ht.length;st<dt;st++)ht[st]in nt&&(ot[ht[st]]=nt[ht[st]])},createCanvasElement:function(){return _e.document.createElement("canvas")},copyCanvasElement:function(nt){var ot=_e.util.createCanvasElement();return ot.width=nt.width,ot.height=nt.height,ot.getContext("2d").drawImage(nt,0,0),ot},toDataURL:function(nt,ot,ht){return nt.toDataURL("image/"+ot,ht)},createImage:function(){return _e.document.createElement("img")},multiplyTransformMatrices:function(nt,ot,ht){return[nt[0]*ot[0]+nt[2]*ot[1],nt[1]*ot[0]+nt[3]*ot[1],nt[0]*ot[2]+nt[2]*ot[3],nt[1]*ot[2]+nt[3]*ot[3],ht?0:nt[0]*ot[4]+nt[2]*ot[5]+nt[4],ht?0:nt[1]*ot[4]+nt[3]*ot[5]+nt[5]]},qrDecompose:function(nt){var ot=lt(nt[1],nt[0]),ht=ft(nt[0],2)+ft(nt[1],2),st=rt(ht),dt=(nt[0]*nt[3]-nt[2]*nt[1])/st,vt=lt(nt[0]*nt[2]+nt[1]*nt[3],ht);return{angle:ot/it,scaleX:st,scaleY:dt,skewX:vt/it,skewY:0,translateX:nt[4],translateY:nt[5]}},calcRotateMatrix:function(nt){if(!nt.angle)return _e.iMatrix.concat();var ot=_e.util.degreesToRadians(nt.angle),ht=_e.util.cos(ot),st=_e.util.sin(ot);return[ht,st,-st,ht,0,0]},calcDimensionsMatrix:function(nt){var ot=typeof nt.scaleX=="undefined"?1:nt.scaleX,ht=typeof nt.scaleY=="undefined"?1:nt.scaleY,st=[nt.flipX?-ot:ot,0,0,nt.flipY?-ht:ht,0,0],dt=_e.util.multiplyTransformMatrices,vt=_e.util.degreesToRadians;return nt.skewX&&(st=dt(st,[1,0,Math.tan(vt(nt.skewX)),1],!0)),nt.skewY&&(st=dt(st,[1,Math.tan(vt(nt.skewY)),0,1],!0)),st},composeMatrix:function(nt){var ot=[1,0,0,1,nt.translateX||0,nt.translateY||0],ht=_e.util.multiplyTransformMatrices;return nt.angle&&(ot=ht(ot,_e.util.calcRotateMatrix(nt))),(nt.scaleX!==1||nt.scaleY!==1||nt.skewX||nt.skewY||nt.flipX||nt.flipY)&&(ot=ht(ot,_e.util.calcDimensionsMatrix(nt))),ot},resetObjectTransform:function(nt){nt.scaleX=1,nt.scaleY=1,nt.skewX=0,nt.skewY=0,nt.flipX=!1,nt.flipY=!1,nt.rotate(0)},saveObjectTransform:function(nt){return{scaleX:nt.scaleX,scaleY:nt.scaleY,skewX:nt.skewX,skewY:nt.skewY,angle:nt.angle,left:nt.left,flipX:nt.flipX,flipY:nt.flipY,top:nt.top}},isTransparent:function(nt,ot,ht,st){st>0&&(ot>st?ot-=st:ot=0,ht>st?ht-=st:ht=0);var dt=!0,vt,mt,gt=nt.getImageData(ot,ht,st*2||1,st*2||1),bt=gt.data.length;for(vt=3;vt<bt&&(mt=gt.data[vt],dt=mt<=0,dt!==!1);vt+=4);return gt=null,dt},parsePreserveAspectRatioAttribute:function(nt){var ot="meet",ht="Mid",st="Mid",dt=nt.split(" "),vt;return dt&&dt.length&&(ot=dt.pop(),ot!=="meet"&&ot!=="slice"?(vt=ot,ot="meet"):dt.length&&(vt=dt.pop())),ht=vt!=="none"?vt.slice(1,4):"none",st=vt!=="none"?vt.slice(5,8):"none",{meetOrSlice:ot,alignX:ht,alignY:st}},clearFabricFontCache:function(nt){nt=(nt||"").toLowerCase(),nt?_e.charWidthsCache[nt]&&delete _e.charWidthsCache[nt]:_e.charWidthsCache={}},limitDimsByArea:function(nt,ot){var ht=Math.sqrt(ot*nt),st=Math.floor(ot/ht);return{x:Math.floor(ht),y:st}},capValue:function(nt,ot,ht){return Math.max(nt,Math.min(ot,ht))},findScaleToFit:function(nt,ot){return Math.min(ot.width/nt.width,ot.height/nt.height)},findScaleToCover:function(nt,ot){return Math.max(ot.width/nt.width,ot.height/nt.height)},matrixToSVG:function(nt){return"matrix("+nt.map(function(ot){return _e.util.toFixed(ot,_e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(nt,ot){var ht=_e.util.invertTransform(ot),st=_e.util.multiplyTransformMatrices(ht,nt.calcOwnMatrix());_e.util.applyTransformToObject(nt,st)},addTransformToObject:function(nt,ot){_e.util.applyTransformToObject(nt,_e.util.multiplyTransformMatrices(ot,nt.calcOwnMatrix()))},applyTransformToObject:function(nt,ot){var ht=_e.util.qrDecompose(ot),st=new _e.Point(ht.translateX,ht.translateY);nt.flipX=!1,nt.flipY=!1,nt.set("scaleX",ht.scaleX),nt.set("scaleY",ht.scaleY),nt.skewX=ht.skewX,nt.skewY=ht.skewY,nt.angle=ht.angle,nt.setPositionByOrigin(st,"center","center")},sizeAfterTransform:function(nt,ot,ht){var st=nt/2,dt=ot/2,vt=[{x:-st,y:-dt},{x:st,y:-dt},{x:-st,y:dt},{x:st,y:dt}],mt=_e.util.calcDimensionsMatrix(ht),gt=_e.util.makeBoundingBoxFromPoints(vt,mt);return{x:gt.width,y:gt.height}},mergeClipPaths:function(nt,ot){var ht=nt,st=ot;ht.inverted&&!st.inverted&&(ht=ot,st=nt),_e.util.applyTransformToObject(st,_e.util.multiplyTransformMatrices(_e.util.invertTransform(ht.calcTransformMatrix()),st.calcTransformMatrix()));var dt=ht.inverted&&st.inverted;return dt&&(ht.inverted=st.inverted=!1),new _e.Group([ht],{clipPath:st,inverted:dt})},hasStyleChanged:function(nt,ot,ht){return ht=ht||!1,nt.fill!==ot.fill||nt.stroke!==ot.stroke||nt.strokeWidth!==ot.strokeWidth||nt.fontSize!==ot.fontSize||nt.fontFamily!==ot.fontFamily||nt.fontWeight!==ot.fontWeight||nt.fontStyle!==ot.fontStyle||nt.deltaY!==ot.deltaY||ht&&(nt.overline!==ot.overline||nt.underline!==ot.underline||nt.linethrough!==ot.linethrough)},stylesToArray:function(ht,ot){for(var ht=_e.util.object.clone(ht,!0),st=ot.split(`
`),dt=-1,vt={},mt=[],gt=0;gt<st.length;gt++){if(!ht[gt]){dt+=st[gt].length;continue}for(var bt=0;bt<st[gt].length;bt++){dt++;var _t=ht[gt][bt];if(_t){var Ct=_e.util.hasStyleChanged(vt,_t,!0);Ct?mt.push({start:dt,end:dt+1,style:_t}):mt[mt.length-1].end++}vt=_t||{}}}return mt},stylesFromArray:function(nt,ot){if(!Array.isArray(nt))return nt;for(var ht=ot.split(`
`),st=-1,dt=0,vt={},mt=0;mt<ht.length;mt++)for(var gt=0;gt<ht[mt].length;gt++)st++,nt[dt]&&nt[dt].start<=st&&st<nt[dt].end&&(vt[mt]=vt[mt]||{},vt[mt][gt]=Object.assign({},nt[dt].style),st===nt[dt].end-1&&dt++);return vt}}}($),function(){var ct=Array.prototype.join,rt={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},lt={m:"l",M:"L"};function ft(Ot,Et,wt,Pt,Lt,Dt,It,Nt,Jt,sr,lr){var Ht=_e.util.cos(Ot),Bt=_e.util.sin(Ot),Ft=_e.util.cos(Et),At=_e.util.sin(Et),Rt=wt*Lt*Ft-Pt*Dt*At+It,$t=Pt*Lt*Ft+wt*Dt*At+Nt,Wt=sr+Jt*(-wt*Lt*Bt-Pt*Dt*Ht),Vt=lr+Jt*(-Pt*Lt*Bt+wt*Dt*Ht),Zt=Rt+Jt*(wt*Lt*At+Pt*Dt*Ft),ir=$t+Jt*(Pt*Lt*At-wt*Dt*Ft);return["C",Wt,Vt,Zt,ir,Rt,$t]}function it(Ot,Et,wt,Pt,Lt,Dt,It){var Nt=Math.PI,Jt=It*Nt/180,sr=_e.util.sin(Jt),lr=_e.util.cos(Jt),Ht=0,Bt=0;wt=Math.abs(wt),Pt=Math.abs(Pt);var Ft=-lr*Ot*.5-sr*Et*.5,At=-lr*Et*.5+sr*Ot*.5,Rt=wt*wt,$t=Pt*Pt,Wt=At*At,Vt=Ft*Ft,Zt=Rt*$t-Rt*Wt-$t*Vt,ir=0;if(Zt<0){var vr=Math.sqrt(1-Zt/(Rt*$t));wt*=vr,Pt*=vr}else ir=(Lt===Dt?-1:1)*Math.sqrt(Zt/(Rt*Wt+$t*Vt));var cr=ir*wt*At/Pt,or=-ir*Pt*Ft/wt,br=lr*cr-sr*or+Ot*.5,Cr=sr*cr+lr*or+Et*.5,Ar=at(1,0,(Ft-cr)/wt,(At-or)/Pt),kr=at((Ft-cr)/wt,(At-or)/Pt,(-Ft-cr)/wt,(-At-or)/Pt);Dt===0&&kr>0?kr-=2*Nt:Dt===1&&kr<0&&(kr+=2*Nt);for(var Or=Math.ceil(Math.abs(kr/Nt*2)),Lr=[],dr=kr/Or,mr=8/3*Math.sin(dr/4)*Math.sin(dr/4)/Math.sin(dr/2),Qt=Ar+dr,nr=0;nr<Or;nr++)Lr[nr]=ft(Ar,Qt,lr,sr,wt,Pt,br,Cr,mr,Ht,Bt),Ht=Lr[nr][5],Bt=Lr[nr][6],Ar=Qt,Qt+=dr;return Lr}function at(Ot,Et,wt,Pt){var Lt=Math.atan2(Et,Ot),Dt=Math.atan2(Pt,wt);return Dt>=Lt?Dt-Lt:2*Math.PI-(Lt-Dt)}function nt(Ot,Et,wt,Pt,Lt,Dt,It,Nt){var Jt;if(_e.cachesBoundsOfCurve&&(Jt=ct.call(arguments),_e.boundsOfCurveCache[Jt]))return _e.boundsOfCurveCache[Jt];var sr=Math.sqrt,lr=Math.min,Ht=Math.max,Bt=Math.abs,Ft=[],At=[[],[]],Rt,$t,Wt,Vt,Zt,ir,vr,cr;$t=6*Ot-12*wt+6*Lt,Rt=-3*Ot+9*wt-9*Lt+3*It,Wt=3*wt-3*Ot;for(var or=0;or<2;++or){if(or>0&&($t=6*Et-12*Pt+6*Dt,Rt=-3*Et+9*Pt-9*Dt+3*Nt,Wt=3*Pt-3*Et),Bt(Rt)<1e-12){if(Bt($t)<1e-12)continue;Vt=-Wt/$t,0<Vt&&Vt<1&&Ft.push(Vt);continue}vr=$t*$t-4*Wt*Rt,!(vr<0)&&(cr=sr(vr),Zt=(-$t+cr)/(2*Rt),0<Zt&&Zt<1&&Ft.push(Zt),ir=(-$t-cr)/(2*Rt),0<ir&&ir<1&&Ft.push(ir))}for(var br,Cr,Ar=Ft.length,kr=Ar,Or;Ar--;)Vt=Ft[Ar],Or=1-Vt,br=Or*Or*Or*Ot+3*Or*Or*Vt*wt+3*Or*Vt*Vt*Lt+Vt*Vt*Vt*It,At[0][Ar]=br,Cr=Or*Or*Or*Et+3*Or*Or*Vt*Pt+3*Or*Vt*Vt*Dt+Vt*Vt*Vt*Nt,At[1][Ar]=Cr;At[0][kr]=Ot,At[1][kr]=Et,At[0][kr+1]=It,At[1][kr+1]=Nt;var Lr=[{x:lr.apply(null,At[0]),y:lr.apply(null,At[1])},{x:Ht.apply(null,At[0]),y:Ht.apply(null,At[1])}];return _e.cachesBoundsOfCurve&&(_e.boundsOfCurveCache[Jt]=Lr),Lr}function ot(Ot,Et,wt){for(var Pt=wt[1],Lt=wt[2],Dt=wt[3],It=wt[4],Nt=wt[5],Jt=wt[6],sr=wt[7],lr=it(Jt-Ot,sr-Et,Pt,Lt,It,Nt,Dt),Ht=0,Bt=lr.length;Ht<Bt;Ht++)lr[Ht][1]+=Ot,lr[Ht][2]+=Et,lr[Ht][3]+=Ot,lr[Ht][4]+=Et,lr[Ht][5]+=Ot,lr[Ht][6]+=Et;return lr}function ht(Ot){var Et=0,wt=0,Pt=Ot.length,Lt=0,Dt=0,It,Nt,Jt,sr=[],lr,Ht,Bt;for(Nt=0;Nt<Pt;++Nt){switch(Jt=!1,It=Ot[Nt].slice(0),It[0]){case"l":It[0]="L",It[1]+=Et,It[2]+=wt;case"L":Et=It[1],wt=It[2];break;case"h":It[1]+=Et;case"H":It[0]="L",It[2]=wt,Et=It[1];break;case"v":It[1]+=wt;case"V":It[0]="L",wt=It[1],It[1]=Et,It[2]=wt;break;case"m":It[0]="M",It[1]+=Et,It[2]+=wt;case"M":Et=It[1],wt=It[2],Lt=It[1],Dt=It[2];break;case"c":It[0]="C",It[1]+=Et,It[2]+=wt,It[3]+=Et,It[4]+=wt,It[5]+=Et,It[6]+=wt;case"C":Ht=It[3],Bt=It[4],Et=It[5],wt=It[6];break;case"s":It[0]="S",It[1]+=Et,It[2]+=wt,It[3]+=Et,It[4]+=wt;case"S":lr==="C"?(Ht=2*Et-Ht,Bt=2*wt-Bt):(Ht=Et,Bt=wt),Et=It[3],wt=It[4],It[0]="C",It[5]=It[3],It[6]=It[4],It[3]=It[1],It[4]=It[2],It[1]=Ht,It[2]=Bt,Ht=It[3],Bt=It[4];break;case"q":It[0]="Q",It[1]+=Et,It[2]+=wt,It[3]+=Et,It[4]+=wt;case"Q":Ht=It[1],Bt=It[2],Et=It[3],wt=It[4];break;case"t":It[0]="T",It[1]+=Et,It[2]+=wt;case"T":lr==="Q"?(Ht=2*Et-Ht,Bt=2*wt-Bt):(Ht=Et,Bt=wt),It[0]="Q",Et=It[1],wt=It[2],It[1]=Ht,It[2]=Bt,It[3]=Et,It[4]=wt;break;case"a":It[0]="A",It[6]+=Et,It[7]+=wt;case"A":Jt=!0,sr=sr.concat(ot(Et,wt,It)),Et=It[6],wt=It[7];break;case"z":case"Z":Et=Lt,wt=Dt;break}Jt||sr.push(It),lr=It[0]}return sr}function st(Ot,Et,wt,Pt){return Math.sqrt((wt-Ot)*(wt-Ot)+(Pt-Et)*(Pt-Et))}function dt(Ot){return Ot*Ot*Ot}function vt(Ot){return 3*Ot*Ot*(1-Ot)}function mt(Ot){return 3*Ot*(1-Ot)*(1-Ot)}function gt(Ot){return(1-Ot)*(1-Ot)*(1-Ot)}function bt(Ot,Et,wt,Pt,Lt,Dt,It,Nt){return function(Jt){var sr=dt(Jt),lr=vt(Jt),Ht=mt(Jt),Bt=gt(Jt);return{x:It*sr+Lt*lr+wt*Ht+Ot*Bt,y:Nt*sr+Dt*lr+Pt*Ht+Et*Bt}}}function _t(Ot,Et,wt,Pt,Lt,Dt,It,Nt){return function(Jt){var sr=1-Jt,lr=3*sr*sr*(wt-Ot)+6*sr*Jt*(Lt-wt)+3*Jt*Jt*(It-Lt),Ht=3*sr*sr*(Pt-Et)+6*sr*Jt*(Dt-Pt)+3*Jt*Jt*(Nt-Dt);return Math.atan2(Ht,lr)}}function Ct(Ot){return Ot*Ot}function xt(Ot){return 2*Ot*(1-Ot)}function Tt(Ot){return(1-Ot)*(1-Ot)}function Mt(Ot,Et,wt,Pt,Lt,Dt){return function(It){var Nt=Ct(It),Jt=xt(It),sr=Tt(It);return{x:Lt*Nt+wt*Jt+Ot*sr,y:Dt*Nt+Pt*Jt+Et*sr}}}function jt(Ot,Et,wt,Pt,Lt,Dt){return function(It){var Nt=1-It,Jt=2*Nt*(wt-Ot)+2*It*(Lt-wt),sr=2*Nt*(Pt-Et)+2*It*(Dt-Pt);return Math.atan2(sr,Jt)}}function Gt(Ot,Et,wt){var Pt={x:Et,y:wt},Lt,Dt=0,It;for(It=1;It<=100;It+=1)Lt=Ot(It/100),Dt+=st(Pt.x,Pt.y,Lt.x,Lt.y),Pt=Lt;return Dt}function zt(Ot,Et){for(var wt=0,Pt=0,Lt=Ot.iterator,Dt={x:Ot.x,y:Ot.y},It,Nt,Jt=.01,sr=Ot.angleFinder,lr;Pt<Et&&Jt>1e-4;)It=Lt(wt),lr=wt,Nt=st(Dt.x,Dt.y,It.x,It.y),Nt+Pt>Et?(wt-=Jt,Jt/=2):(Dt=It,wt+=Jt,Pt+=Nt);return It.angle=sr(lr),It}function Xt(Ot){for(var Et=0,wt=Ot.length,Pt,Lt=0,Dt=0,It=0,Nt=0,Jt=[],sr,lr,Ht,Bt=0;Bt<wt;Bt++){switch(Pt=Ot[Bt],lr={x:Lt,y:Dt,command:Pt[0]},Pt[0]){case"M":lr.length=0,It=Lt=Pt[1],Nt=Dt=Pt[2];break;case"L":lr.length=st(Lt,Dt,Pt[1],Pt[2]),Lt=Pt[1],Dt=Pt[2];break;case"C":sr=bt(Lt,Dt,Pt[1],Pt[2],Pt[3],Pt[4],Pt[5],Pt[6]),Ht=_t(Lt,Dt,Pt[1],Pt[2],Pt[3],Pt[4],Pt[5],Pt[6]),lr.iterator=sr,lr.angleFinder=Ht,lr.length=Gt(sr,Lt,Dt),Lt=Pt[5],Dt=Pt[6];break;case"Q":sr=Mt(Lt,Dt,Pt[1],Pt[2],Pt[3],Pt[4]),Ht=jt(Lt,Dt,Pt[1],Pt[2],Pt[3],Pt[4]),lr.iterator=sr,lr.angleFinder=Ht,lr.length=Gt(sr,Lt,Dt),Lt=Pt[3],Dt=Pt[4];break;case"Z":case"z":lr.destX=It,lr.destY=Nt,lr.length=st(Lt,Dt,It,Nt),Lt=It,Dt=Nt;break}Et+=lr.length,Jt.push(lr)}return Jt.push({length:Et,x:Lt,y:Dt}),Jt}function Kt(Ot,Et,wt){wt||(wt=Xt(Ot));for(var Pt=0;Et-wt[Pt].length>0&&Pt<wt.length-2;)Et-=wt[Pt].length,Pt++;var Lt=wt[Pt],Dt=Et/Lt.length,It=Lt.command,Nt=Ot[Pt],Jt;switch(It){case"M":return{x:Lt.x,y:Lt.y,angle:0};case"Z":case"z":return Jt=new _e.Point(Lt.x,Lt.y).lerp(new _e.Point(Lt.destX,Lt.destY),Dt),Jt.angle=Math.atan2(Lt.destY-Lt.y,Lt.destX-Lt.x),Jt;case"L":return Jt=new _e.Point(Lt.x,Lt.y).lerp(new _e.Point(Nt[1],Nt[2]),Dt),Jt.angle=Math.atan2(Nt[2]-Lt.y,Nt[1]-Lt.x),Jt;case"C":return zt(Lt,Et);case"Q":return zt(Lt,Et)}}function qt(Ot){var Et=[],wt=[],Pt,Lt,Dt=_e.rePathCommand,It="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Nt="("+It+")"+_e.commaWsp,Jt="([01])"+_e.commaWsp+"?",sr=Nt+"?"+Nt+"?"+Nt+Jt+Jt+Nt+"?("+It+")",lr=new RegExp(sr,"g"),Ht,Bt,Ft;if(!Ot||!Ot.match)return Et;Ft=Ot.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var At=0,Rt,$t=Ft.length;At<$t;At++){Pt=Ft[At],Bt=Pt.slice(1).trim(),wt.length=0;var Wt=Pt.charAt(0);if(Rt=[Wt],Wt.toLowerCase()==="a")for(var Vt;Vt=lr.exec(Bt);)for(var Zt=1;Zt<Vt.length;Zt++)wt.push(Vt[Zt]);else for(;Ht=Dt.exec(Bt);)wt.push(Ht[0]);for(var Zt=0,ir=wt.length;Zt<ir;Zt++)Lt=parseFloat(wt[Zt]),isNaN(Lt)||Rt.push(Lt);var vr=rt[Wt.toLowerCase()],cr=lt[Wt]||Wt;if(Rt.length-1>vr)for(var or=1,br=Rt.length;or<br;or+=vr)Et.push([Wt].concat(Rt.slice(or,or+vr))),Wt=cr;else Et.push(Rt)}return Et}function er(Ot,Et){var wt=[],Pt,Lt=new _e.Point(Ot[0].x,Ot[0].y),Dt=new _e.Point(Ot[1].x,Ot[1].y),It=Ot.length,Nt=1,Jt=0,sr=It>2;for(Et=Et||0,sr&&(Nt=Ot[2].x<Dt.x?-1:Ot[2].x===Dt.x?0:1,Jt=Ot[2].y<Dt.y?-1:Ot[2].y===Dt.y?0:1),wt.push(["M",Lt.x-Nt*Et,Lt.y-Jt*Et]),Pt=1;Pt<It;Pt++){if(!Lt.eq(Dt)){var lr=Lt.midPointFrom(Dt);wt.push(["Q",Lt.x,Lt.y,lr.x,lr.y])}Lt=Ot[Pt],Pt+1<Ot.length&&(Dt=Ot[Pt+1])}return sr&&(Nt=Lt.x>Ot[Pt-2].x?1:Lt.x===Ot[Pt-2].x?0:-1,Jt=Lt.y>Ot[Pt-2].y?1:Lt.y===Ot[Pt-2].y?0:-1),wt.push(["L",Lt.x+Nt*Et,Lt.y+Jt*Et]),wt}function Ut(Ot,Et,wt){return wt&&(Et=_e.util.multiplyTransformMatrices(Et,[1,0,0,1,-wt.x,-wt.y])),Ot.map(function(Pt){for(var Lt=Pt.slice(0),Dt={},It=1;It<Pt.length-1;It+=2)Dt.x=Pt[It],Dt.y=Pt[It+1],Dt=_e.util.transformPoint(Dt,Et),Lt[It]=Dt.x,Lt[It+1]=Dt.y;return Lt})}_e.util.joinPath=function(Ot){return Ot.map(function(Et){return Et.join(" ")}).join(" ")},_e.util.parsePath=qt,_e.util.makePathSimpler=ht,_e.util.getSmoothPathFromPoints=er,_e.util.getPathSegmentsInfo=Xt,_e.util.getBoundsOfCurve=nt,_e.util.getPointOnPath=Kt,_e.util.transformPath=Ut}(),function(){var ct=Array.prototype.slice;function rt(nt,ot){for(var ht=ct.call(arguments,2),st=[],dt=0,vt=nt.length;dt<vt;dt++)st[dt]=ht.length?nt[dt][ot].apply(nt[dt],ht):nt[dt][ot].call(nt[dt]);return st}function lt(nt,ot){return at(nt,ot,function(ht,st){return ht>=st})}function ft(nt,ot){return at(nt,ot,function(ht,st){return ht<st})}function it(nt,ot){for(var ht=nt.length;ht--;)nt[ht]=ot;return nt}function at(nt,ot,ht){if(!(!nt||nt.length===0)){var st=nt.length-1,dt=ot?nt[st][ot]:nt[st];if(ot)for(;st--;)ht(nt[st][ot],dt)&&(dt=nt[st][ot]);else for(;st--;)ht(nt[st],dt)&&(dt=nt[st]);return dt}}_e.util.array={fill:it,invoke:rt,min:ft,max:lt}}(),function(){function ct(lt,ft,it){if(it)if(!_e.isLikelyNode&&ft instanceof Element)lt=ft;else if(ft instanceof Array){lt=[];for(var at=0,nt=ft.length;at<nt;at++)lt[at]=ct({},ft[at],it)}else if(ft&&typeof ft=="object")for(var ot in ft)ot==="canvas"||ot==="group"?lt[ot]=null:ft.hasOwnProperty(ot)&&(lt[ot]=ct({},ft[ot],it));else lt=ft;else for(var ot in ft)lt[ot]=ft[ot];return lt}function rt(lt,ft){return ct({},lt,ft)}_e.util.object={extend:ct,clone:rt},_e.util.object.extend(_e.util,_e.Observable)}(),function(){function ct(at){return at.replace(/-+(.)?/g,function(nt,ot){return ot?ot.toUpperCase():""})}function rt(at,nt){return at.charAt(0).toUpperCase()+(nt?at.slice(1):at.slice(1).toLowerCase())}function lt(at){return at.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ft(at){var nt=0,ot,ht=[];for(nt=0,ot;nt<at.length;nt++)(ot=it(at,nt))!==!1&&ht.push(ot);return ht}function it(at,nt){var ot=at.charCodeAt(nt);if(isNaN(ot))return"";if(ot<55296||ot>57343)return at.charAt(nt);if(55296<=ot&&ot<=56319){if(at.length<=nt+1)throw"High surrogate without following low surrogate";var ht=at.charCodeAt(nt+1);if(56320>ht||ht>57343)throw"High surrogate without following low surrogate";return at.charAt(nt)+at.charAt(nt+1)}if(nt===0)throw"Low surrogate without preceding high surrogate";var st=at.charCodeAt(nt-1);if(55296>st||st>56319)throw"Low surrogate without preceding high surrogate";return!1}_e.util.string={camelize:ct,capitalize:rt,escapeXml:lt,graphemeSplit:ft}}(),function(){var ct=Array.prototype.slice,rt=function(){},lt=function(){for(var ot in{toString:1})if(ot==="toString")return!1;return!0}(),ft=function(ot,ht,st){for(var dt in ht)dt in ot.prototype&&typeof ot.prototype[dt]=="function"&&(ht[dt]+"").indexOf("callSuper")>-1?ot.prototype[dt]=function(vt){return function(){var mt=this.constructor.superclass;this.constructor.superclass=st;var gt=ht[vt].apply(this,arguments);if(this.constructor.superclass=mt,vt!=="initialize")return gt}}(dt):ot.prototype[dt]=ht[dt],lt&&(ht.toString!==Object.prototype.toString&&(ot.prototype.toString=ht.toString),ht.valueOf!==Object.prototype.valueOf&&(ot.prototype.valueOf=ht.valueOf))};function it(){}function at(ot){for(var ht=null,st=this;st.constructor.superclass;){var dt=st.constructor.superclass.prototype[ot];if(st[ot]!==dt){ht=dt;break}st=st.constructor.superclass.prototype}return ht?arguments.length>1?ht.apply(this,ct.call(arguments,1)):ht.call(this):console.log("tried to callSuper "+ot+", method not found in prototype chain",this)}function nt(){var ot=null,ht=ct.call(arguments,0);typeof ht[0]=="function"&&(ot=ht.shift());function st(){this.initialize.apply(this,arguments)}st.superclass=ot,st.subclasses=[],ot&&(it.prototype=ot.prototype,st.prototype=new it,ot.subclasses.push(st));for(var dt=0,vt=ht.length;dt<vt;dt++)ft(st,ht[dt],ot);return st.prototype.initialize||(st.prototype.initialize=rt),st.prototype.constructor=st,st.prototype.callSuper=at,st}_e.util.createClass=nt}(),function(){var ct=!!_e.document.createElement("div").attachEvent,rt=["touchstart","touchmove","touchend"];_e.util.addListener=function(ft,it,at,nt){ft&&ft.addEventListener(it,at,ct?!1:nt)},_e.util.removeListener=function(ft,it,at,nt){ft&&ft.removeEventListener(it,at,ct?!1:nt)};function lt(ft){var it=ft.changedTouches;return it&&it[0]?it[0]:ft}_e.util.getPointer=function(ft){var it=ft.target,at=_e.util.getScrollLeftTop(it),nt=lt(ft);return{x:nt.clientX+at.left,y:nt.clientY+at.top}},_e.util.isTouchEvent=function(ft){return rt.indexOf(ft.type)>-1||ft.pointerType==="touch"}}(),function(){function ct(nt,ot){var ht=nt.style;if(!ht)return nt;if(typeof ot=="string")return nt.style.cssText+=";"+ot,ot.indexOf("opacity")>-1?at(nt,ot.match(/opacity:\s*(\d?\.?\d*)/)[1]):nt;for(var st in ot)if(st==="opacity")at(nt,ot[st]);else{var dt=st==="float"||st==="cssFloat"?typeof ht.styleFloat=="undefined"?"cssFloat":"styleFloat":st;ht.setProperty(dt,ot[st])}return nt}var rt=_e.document.createElement("div"),lt=typeof rt.style.opacity=="string",ft=typeof rt.style.filter=="string",it=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,at=function(nt){return nt};lt?at=function(nt,ot){return nt.style.opacity=ot,nt}:ft&&(at=function(nt,ot){var ht=nt.style;return nt.currentStyle&&!nt.currentStyle.hasLayout&&(ht.zoom=1),it.test(ht.filter)?(ot=ot>=.9999?"":"alpha(opacity="+ot*100+")",ht.filter=ht.filter.replace(it,ot)):ht.filter+=" alpha(opacity="+ot*100+")",nt}),_e.util.setStyle=ct}(),function(){var ct=Array.prototype.slice;function rt(gt){return typeof gt=="string"?_e.document.getElementById(gt):gt}var lt,ft=function(gt){return ct.call(gt,0)};try{lt=ft(_e.document.childNodes)instanceof Array}catch{}lt||(ft=function(gt){for(var bt=new Array(gt.length),_t=gt.length;_t--;)bt[_t]=gt[_t];return bt});function it(gt,bt){var _t=_e.document.createElement(gt);for(var Ct in bt)Ct==="class"?_t.className=bt[Ct]:Ct==="for"?_t.htmlFor=bt[Ct]:_t.setAttribute(Ct,bt[Ct]);return _t}function at(gt,bt){gt&&(" "+gt.className+" ").indexOf(" "+bt+" ")===-1&&(gt.className+=(gt.className?" ":"")+bt)}function nt(gt,bt,_t){return typeof bt=="string"&&(bt=it(bt,_t)),gt.parentNode&&gt.parentNode.replaceChild(bt,gt),bt.appendChild(gt),bt}function ot(gt){for(var bt=0,_t=0,Ct=_e.document.documentElement,xt=_e.document.body||{scrollLeft:0,scrollTop:0};gt&&(gt.parentNode||gt.host)&&(gt=gt.parentNode||gt.host,gt===_e.document?(bt=xt.scrollLeft||Ct.scrollLeft||0,_t=xt.scrollTop||Ct.scrollTop||0):(bt+=gt.scrollLeft||0,_t+=gt.scrollTop||0),!(gt.nodeType===1&&gt.style.position==="fixed")););return{left:bt,top:_t}}function ht(gt){var bt,_t=gt&&gt.ownerDocument,Ct={left:0,top:0},xt={left:0,top:0},Tt,Mt={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!_t)return xt;for(var jt in Mt)xt[Mt[jt]]+=parseInt(st(gt,jt),10)||0;return bt=_t.documentElement,typeof gt.getBoundingClientRect!="undefined"&&(Ct=gt.getBoundingClientRect()),Tt=ot(gt),{left:Ct.left+Tt.left-(bt.clientLeft||0)+xt.left,top:Ct.top+Tt.top-(bt.clientTop||0)+xt.top}}var st;_e.document.defaultView&&_e.document.defaultView.getComputedStyle?st=function(gt,bt){var _t=_e.document.defaultView.getComputedStyle(gt,null);return _t?_t[bt]:void 0}:st=function(gt,bt){var _t=gt.style[bt];return!_t&&gt.currentStyle&&(_t=gt.currentStyle[bt]),_t},function(){var gt=_e.document.documentElement.style,bt="userSelect"in gt?"userSelect":"MozUserSelect"in gt?"MozUserSelect":"WebkitUserSelect"in gt?"WebkitUserSelect":"KhtmlUserSelect"in gt?"KhtmlUserSelect":"";function _t(xt){return typeof xt.onselectstart!="undefined"&&(xt.onselectstart=_e.util.falseFunction),bt?xt.style[bt]="none":typeof xt.unselectable=="string"&&(xt.unselectable="on"),xt}function Ct(xt){return typeof xt.onselectstart!="undefined"&&(xt.onselectstart=null),bt?xt.style[bt]="":typeof xt.unselectable=="string"&&(xt.unselectable=""),xt}_e.util.makeElementUnselectable=_t,_e.util.makeElementSelectable=Ct}();function dt(gt){var bt=_e.jsdomImplForWrapper(gt);return bt._canvas||bt._image}function vt(gt){if(!!_e.isLikelyNode){var bt=_e.jsdomImplForWrapper(gt);bt&&(bt._image=null,bt._canvas=null,bt._currentSrc=null,bt._attributes=null,bt._classList=null)}}function mt(gt,bt){gt.imageSmoothingEnabled=gt.imageSmoothingEnabled||gt.webkitImageSmoothingEnabled||gt.mozImageSmoothingEnabled||gt.msImageSmoothingEnabled||gt.oImageSmoothingEnabled,gt.imageSmoothingEnabled=bt}_e.util.setImageSmoothing=mt,_e.util.getById=rt,_e.util.toArray=ft,_e.util.addClass=at,_e.util.makeElement=it,_e.util.wrapElement=nt,_e.util.getScrollLeftTop=ot,_e.util.getElementOffset=ht,_e.util.getNodeCanvas=dt,_e.util.cleanUpJsdomNode=vt}(),function(){function ct(ft,it){return ft+(/\?/.test(ft)?"&":"?")+it}function rt(){}function lt(ft,it){it||(it={});var at=it.method?it.method.toUpperCase():"GET",nt=it.onComplete||function(){},ot=new _e.window.XMLHttpRequest,ht=it.body||it.parameters;return ot.onreadystatechange=function(){ot.readyState===4&&(nt(ot),ot.onreadystatechange=rt)},at==="GET"&&(ht=null,typeof it.parameters=="string"&&(ft=ct(ft,it.parameters))),ot.open(at,ft,!0),(at==="POST"||at==="PUT")&&ot.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),ot.send(ht),ot}_e.util.request=lt}(),_e.log=console.log,_e.warn=console.warn,function(){var ct=_e.util.object.extend,rt=_e.util.object.clone,lt=[];_e.util.object.extend(lt,{cancelAll:function(){var dt=this.splice(0);return dt.forEach(function(vt){vt.cancel()}),dt},cancelByCanvas:function(dt){if(!dt)return[];var vt=this.filter(function(mt){return typeof mt.target=="object"&&mt.target.canvas===dt});return vt.forEach(function(mt){mt.cancel()}),vt},cancelByTarget:function(dt){var vt=this.findAnimationsByTarget(dt);return vt.forEach(function(mt){mt.cancel()}),vt},findAnimationIndex:function(dt){return this.indexOf(this.findAnimation(dt))},findAnimation:function(dt){return this.find(function(vt){return vt.cancel===dt})},findAnimationsByTarget:function(dt){return dt?this.filter(function(vt){return vt.target===dt}):[]}});function ft(){return!1}function it(dt,vt,mt,gt){return-mt*Math.cos(dt/gt*(Math.PI/2))+mt+vt}function at(dt){dt||(dt={});var vt=!1,mt,gt=function(){var bt=_e.runningAnimations.indexOf(mt);return bt>-1&&_e.runningAnimations.splice(bt,1)[0]};return mt=ct(rt(dt),{cancel:function(){return vt=!0,gt()},currentValue:"startValue"in dt?dt.startValue:0,completionRate:0,durationRate:0}),_e.runningAnimations.push(mt),ht(function(bt){var _t=bt||+new Date,Ct=dt.duration||500,xt=_t+Ct,Tt,Mt=dt.onChange||ft,jt=dt.abort||ft,Gt=dt.onComplete||ft,zt=dt.easing||it,Xt="startValue"in dt?dt.startValue.length>0:!1,Kt="startValue"in dt?dt.startValue:0,qt="endValue"in dt?dt.endValue:100,er=dt.byValue||(Xt?Kt.map(function(Ut,Ot){return qt[Ot]-Kt[Ot]}):qt-Kt);dt.onStart&&dt.onStart(),function Ut(Ot){Tt=Ot||+new Date;var Et=Tt>xt?Ct:Tt-_t,wt=Et/Ct,Pt=Xt?Kt.map(function(Dt,It){return zt(Et,Kt[It],er[It],Ct)}):zt(Et,Kt,er,Ct),Lt=Math.abs(Xt?(Pt[0]-Kt[0])/er[0]:(Pt-Kt)/er);if(mt.currentValue=Xt?Pt.slice():Pt,mt.completionRate=Lt,mt.durationRate=wt,!vt){if(jt(Pt,Lt,wt)){gt();return}if(Tt>xt){mt.currentValue=Xt?qt.slice():qt,mt.completionRate=1,mt.durationRate=1,Mt(Xt?qt.slice():qt,1,1),Gt(qt,1,1),gt();return}else Mt(Pt,Lt,wt),ht(Ut)}}(_t)}),mt.cancel}var nt=_e.window.requestAnimationFrame||_e.window.webkitRequestAnimationFrame||_e.window.mozRequestAnimationFrame||_e.window.oRequestAnimationFrame||_e.window.msRequestAnimationFrame||function(dt){return _e.window.setTimeout(dt,1e3/60)},ot=_e.window.cancelAnimationFrame||_e.window.clearTimeout;function ht(){return nt.apply(_e.window,arguments)}function st(){return ot.apply(_e.window,arguments)}_e.util.animate=at,_e.util.requestAnimFrame=ht,_e.util.cancelAnimFrame=st,_e.runningAnimations=lt}(),function(){function ct(lt,ft,it){var at="rgba("+parseInt(lt[0]+it*(ft[0]-lt[0]),10)+","+parseInt(lt[1]+it*(ft[1]-lt[1]),10)+","+parseInt(lt[2]+it*(ft[2]-lt[2]),10);return at+=","+(lt&&ft?parseFloat(lt[3]+it*(ft[3]-lt[3])):1),at+=")",at}function rt(lt,ft,it,at){var nt=new _e.Color(lt).getSource(),ot=new _e.Color(ft).getSource(),ht=at.onComplete,st=at.onChange;return at=at||{},_e.util.animate(_e.util.object.extend(at,{duration:it||500,startValue:nt,endValue:ot,byValue:ot,easing:function(dt,vt,mt,gt){var bt=at.colorEasing?at.colorEasing(dt,gt):1-Math.cos(dt/gt*(Math.PI/2));return ct(vt,mt,bt)},onComplete:function(dt,vt,mt){if(ht)return ht(ct(ot,ot,0),vt,mt)},onChange:function(dt,vt,mt){if(st){if(Array.isArray(dt))return st(ct(dt,dt,0),vt,mt);st(dt,vt,mt)}}}))}_e.util.animateColor=rt}(),function(){function ct(Ot,Et,wt,Pt){return Ot<Math.abs(Et)?(Ot=Et,Pt=wt/4):Et===0&&Ot===0?Pt=wt/(2*Math.PI)*Math.asin(1):Pt=wt/(2*Math.PI)*Math.asin(Et/Ot),{a:Ot,c:Et,p:wt,s:Pt}}function rt(Ot,Et,wt){return Ot.a*Math.pow(2,10*(Et-=1))*Math.sin((Et*wt-Ot.s)*(2*Math.PI)/Ot.p)}function lt(Ot,Et,wt,Pt){return wt*((Ot=Ot/Pt-1)*Ot*Ot+1)+Et}function ft(Ot,Et,wt,Pt){return Ot/=Pt/2,Ot<1?wt/2*Ot*Ot*Ot+Et:wt/2*((Ot-=2)*Ot*Ot+2)+Et}function it(Ot,Et,wt,Pt){return wt*(Ot/=Pt)*Ot*Ot*Ot+Et}function at(Ot,Et,wt,Pt){return-wt*((Ot=Ot/Pt-1)*Ot*Ot*Ot-1)+Et}function nt(Ot,Et,wt,Pt){return Ot/=Pt/2,Ot<1?wt/2*Ot*Ot*Ot*Ot+Et:-wt/2*((Ot-=2)*Ot*Ot*Ot-2)+Et}function ot(Ot,Et,wt,Pt){return wt*(Ot/=Pt)*Ot*Ot*Ot*Ot+Et}function ht(Ot,Et,wt,Pt){return wt*((Ot=Ot/Pt-1)*Ot*Ot*Ot*Ot+1)+Et}function st(Ot,Et,wt,Pt){return Ot/=Pt/2,Ot<1?wt/2*Ot*Ot*Ot*Ot*Ot+Et:wt/2*((Ot-=2)*Ot*Ot*Ot*Ot+2)+Et}function dt(Ot,Et,wt,Pt){return-wt*Math.cos(Ot/Pt*(Math.PI/2))+wt+Et}function vt(Ot,Et,wt,Pt){return wt*Math.sin(Ot/Pt*(Math.PI/2))+Et}function mt(Ot,Et,wt,Pt){return-wt/2*(Math.cos(Math.PI*Ot/Pt)-1)+Et}function gt(Ot,Et,wt,Pt){return Ot===0?Et:wt*Math.pow(2,10*(Ot/Pt-1))+Et}function bt(Ot,Et,wt,Pt){return Ot===Pt?Et+wt:wt*(-Math.pow(2,-10*Ot/Pt)+1)+Et}function _t(Ot,Et,wt,Pt){return Ot===0?Et:Ot===Pt?Et+wt:(Ot/=Pt/2,Ot<1?wt/2*Math.pow(2,10*(Ot-1))+Et:wt/2*(-Math.pow(2,-10*--Ot)+2)+Et)}function Ct(Ot,Et,wt,Pt){return-wt*(Math.sqrt(1-(Ot/=Pt)*Ot)-1)+Et}function xt(Ot,Et,wt,Pt){return wt*Math.sqrt(1-(Ot=Ot/Pt-1)*Ot)+Et}function Tt(Ot,Et,wt,Pt){return Ot/=Pt/2,Ot<1?-wt/2*(Math.sqrt(1-Ot*Ot)-1)+Et:wt/2*(Math.sqrt(1-(Ot-=2)*Ot)+1)+Et}function Mt(Ot,Et,wt,Pt){var Lt=1.70158,Dt=0,It=wt;if(Ot===0)return Et;if(Ot/=Pt,Ot===1)return Et+wt;Dt||(Dt=Pt*.3);var Nt=ct(It,wt,Dt,Lt);return-rt(Nt,Ot,Pt)+Et}function jt(Ot,Et,wt,Pt){var Lt=1.70158,Dt=0,It=wt;if(Ot===0)return Et;if(Ot/=Pt,Ot===1)return Et+wt;Dt||(Dt=Pt*.3);var Nt=ct(It,wt,Dt,Lt);return Nt.a*Math.pow(2,-10*Ot)*Math.sin((Ot*Pt-Nt.s)*(2*Math.PI)/Nt.p)+Nt.c+Et}function Gt(Ot,Et,wt,Pt){var Lt=1.70158,Dt=0,It=wt;if(Ot===0)return Et;if(Ot/=Pt/2,Ot===2)return Et+wt;Dt||(Dt=Pt*(.3*1.5));var Nt=ct(It,wt,Dt,Lt);return Ot<1?-.5*rt(Nt,Ot,Pt)+Et:Nt.a*Math.pow(2,-10*(Ot-=1))*Math.sin((Ot*Pt-Nt.s)*(2*Math.PI)/Nt.p)*.5+Nt.c+Et}function zt(Ot,Et,wt,Pt,Lt){return Lt===void 0&&(Lt=1.70158),wt*(Ot/=Pt)*Ot*((Lt+1)*Ot-Lt)+Et}function Xt(Ot,Et,wt,Pt,Lt){return Lt===void 0&&(Lt=1.70158),wt*((Ot=Ot/Pt-1)*Ot*((Lt+1)*Ot+Lt)+1)+Et}function Kt(Ot,Et,wt,Pt,Lt){return Lt===void 0&&(Lt=1.70158),Ot/=Pt/2,Ot<1?wt/2*(Ot*Ot*(((Lt*=1.525)+1)*Ot-Lt))+Et:wt/2*((Ot-=2)*Ot*(((Lt*=1.525)+1)*Ot+Lt)+2)+Et}function qt(Ot,Et,wt,Pt){return wt-er(Pt-Ot,0,wt,Pt)+Et}function er(Ot,Et,wt,Pt){return(Ot/=Pt)<1/2.75?wt*(7.5625*Ot*Ot)+Et:Ot<2/2.75?wt*(7.5625*(Ot-=1.5/2.75)*Ot+.75)+Et:Ot<2.5/2.75?wt*(7.5625*(Ot-=2.25/2.75)*Ot+.9375)+Et:wt*(7.5625*(Ot-=2.625/2.75)*Ot+.984375)+Et}function Ut(Ot,Et,wt,Pt){return Ot<Pt/2?qt(Ot*2,0,wt,Pt)*.5+Et:er(Ot*2-Pt,0,wt,Pt)*.5+wt*.5+Et}_e.util.ease={easeInQuad:function(Ot,Et,wt,Pt){return wt*(Ot/=Pt)*Ot+Et},easeOutQuad:function(Ot,Et,wt,Pt){return-wt*(Ot/=Pt)*(Ot-2)+Et},easeInOutQuad:function(Ot,Et,wt,Pt){return Ot/=Pt/2,Ot<1?wt/2*Ot*Ot+Et:-wt/2*(--Ot*(Ot-2)-1)+Et},easeInCubic:function(Ot,Et,wt,Pt){return wt*(Ot/=Pt)*Ot*Ot+Et},easeOutCubic:lt,easeInOutCubic:ft,easeInQuart:it,easeOutQuart:at,easeInOutQuart:nt,easeInQuint:ot,easeOutQuint:ht,easeInOutQuint:st,easeInSine:dt,easeOutSine:vt,easeInOutSine:mt,easeInExpo:gt,easeOutExpo:bt,easeInOutExpo:_t,easeInCirc:Ct,easeOutCirc:xt,easeInOutCirc:Tt,easeInElastic:Mt,easeOutElastic:jt,easeInOutElastic:Gt,easeInBack:zt,easeOutBack:Xt,easeInOutBack:Kt,easeInBounce:qt,easeOutBounce:er,easeInOutBounce:Ut}}(),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.object.extend,ft=rt.util.object.clone,it=rt.util.toFixed,at=rt.util.parseUnit,nt=rt.util.multiplyTransformMatrices,ot=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],ht=["symbol","image","marker","pattern","view","svg"],st=["pattern","defs","symbol","metadata","clipPath","mask","desc"],dt=["symbol","g","a","svg","clipPath","defs"],vt={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},mt={stroke:"strokeOpacity",fill:"fillOpacity"},gt="font-size",bt="clip-path";rt.svgValidTagNamesRegEx=xt(ot),rt.svgViewBoxElementsRegEx=xt(ht),rt.svgInvalidAncestorsRegEx=xt(st),rt.svgValidParentsRegEx=xt(dt),rt.cssRules={},rt.gradientDefs={},rt.clipPaths={};function _t(Dt){return Dt in vt?vt[Dt]:Dt}function Ct(Dt,It,Nt,Jt){var sr=Array.isArray(It),lr;if((Dt==="fill"||Dt==="stroke")&&It==="none")It="";else{if(Dt==="strokeUniform")return It==="non-scaling-stroke";if(Dt==="strokeDashArray")It==="none"?It=null:It=It.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(Dt==="transformMatrix")Nt&&Nt.transformMatrix?It=nt(Nt.transformMatrix,rt.parseTransformAttribute(It)):It=rt.parseTransformAttribute(It);else if(Dt==="visible")It=It!=="none"&&It!=="hidden",Nt&&Nt.visible===!1&&(It=!1);else if(Dt==="opacity")It=parseFloat(It),Nt&&typeof Nt.opacity!="undefined"&&(It*=Nt.opacity);else if(Dt==="textAnchor")It=It==="start"?"left":It==="end"?"right":"center";else if(Dt==="charSpacing")lr=at(It,Jt)/Jt*1e3;else if(Dt==="paintFirst"){var Ht=It.indexOf("fill"),Bt=It.indexOf("stroke"),It="fill";(Ht>-1&&Bt>-1&&Bt<Ht||Ht===-1&&Bt>-1)&&(It="stroke")}else{if(Dt==="href"||Dt==="xlink:href"||Dt==="font")return It;if(Dt==="imageSmoothing")return It==="optimizeQuality";lr=sr?It.map(at):at(It,Jt)}}return!sr&&isNaN(lr)?It:lr}function xt(Dt){return new RegExp("^("+Dt.join("|")+")\\b","i")}function Tt(Dt){for(var It in mt)if(!(typeof Dt[mt[It]]=="undefined"||Dt[It]==="")){if(typeof Dt[It]=="undefined"){if(!rt.Object.prototype[It])continue;Dt[It]=rt.Object.prototype[It]}if(Dt[It].indexOf("url(")!==0){var Nt=new rt.Color(Dt[It]);Dt[It]=Nt.setAlpha(it(Nt.getAlpha()*Dt[mt[It]],2)).toRgba()}}return Dt}function Mt(Dt,It){var Nt,Jt=[],sr,lr,Ht;for(lr=0,Ht=It.length;lr<Ht;lr++)Nt=It[lr],sr=Dt.getElementsByTagName(Nt),Jt=Jt.concat(Array.prototype.slice.call(sr));return Jt}rt.parseTransformAttribute=function(){function Dt(or,br){var Cr=rt.util.cos(br[0]),Ar=rt.util.sin(br[0]),kr=0,Or=0;br.length===3&&(kr=br[1],Or=br[2]),or[0]=Cr,or[1]=Ar,or[2]=-Ar,or[3]=Cr,or[4]=kr-(Cr*kr-Ar*Or),or[5]=Or-(Ar*kr+Cr*Or)}function It(or,br){var Cr=br[0],Ar=br.length===2?br[1]:br[0];or[0]=Cr,or[3]=Ar}function Nt(or,br,Cr){or[Cr]=Math.tan(rt.util.degreesToRadians(br[0]))}function Jt(or,br){or[4]=br[0],br.length===2&&(or[5]=br[1])}var sr=rt.iMatrix,lr=rt.reNum,Ht=rt.commaWsp,Bt="(?:(skewX)\\s*\\(\\s*("+lr+")\\s*\\))",Ft="(?:(skewY)\\s*\\(\\s*("+lr+")\\s*\\))",At="(?:(rotate)\\s*\\(\\s*("+lr+")(?:"+Ht+"("+lr+")"+Ht+"("+lr+"))?\\s*\\))",Rt="(?:(scale)\\s*\\(\\s*("+lr+")(?:"+Ht+"("+lr+"))?\\s*\\))",$t="(?:(translate)\\s*\\(\\s*("+lr+")(?:"+Ht+"("+lr+"))?\\s*\\))",Wt="(?:(matrix)\\s*\\(\\s*("+lr+")"+Ht+"("+lr+")"+Ht+"("+lr+")"+Ht+"("+lr+")"+Ht+"("+lr+")"+Ht+"("+lr+")\\s*\\))",Vt="(?:"+Wt+"|"+$t+"|"+Rt+"|"+At+"|"+Bt+"|"+Ft+")",Zt="(?:"+Vt+"(?:"+Ht+"*"+Vt+")*)",ir="^\\s*(?:"+Zt+"?)\\s*$",vr=new RegExp(ir),cr=new RegExp(Vt,"g");return function(or){var br=sr.concat(),Cr=[];if(!or||or&&!vr.test(or))return br;or.replace(cr,function(kr){var Or=new RegExp(Vt).exec(kr).filter(function(mr){return!!mr}),Lr=Or[1],dr=Or.slice(2).map(parseFloat);switch(Lr){case"translate":Jt(br,dr);break;case"rotate":dr[0]=rt.util.degreesToRadians(dr[0]),Dt(br,dr);break;case"scale":It(br,dr);break;case"skewX":Nt(br,dr,2);break;case"skewY":Nt(br,dr,1);break;case"matrix":br=dr;break}Cr.push(br.concat()),br=sr.concat()});for(var Ar=Cr[0];Cr.length>1;)Cr.shift(),Ar=rt.util.multiplyTransformMatrices(Ar,Cr[0]);return Ar}}();function jt(Dt,It){var Nt,Jt;Dt.replace(/;\s*$/,"").split(";").forEach(function(sr){var lr=sr.split(":");Nt=lr[0].trim().toLowerCase(),Jt=lr[1].trim(),It[Nt]=Jt})}function Gt(Dt,It){var Nt,Jt;for(var sr in Dt)typeof Dt[sr]!="undefined"&&(Nt=sr.toLowerCase(),Jt=Dt[sr],It[Nt]=Jt)}function zt(Dt,It){var Nt={};for(var Jt in rt.cssRules[It])if(Xt(Dt,Jt.split(" ")))for(var sr in rt.cssRules[It][Jt])Nt[sr]=rt.cssRules[It][Jt][sr];return Nt}function Xt(Dt,It){var Nt,Jt=!0;return Nt=qt(Dt,It.pop()),Nt&&It.length&&(Jt=Kt(Dt,It)),Nt&&Jt&&It.length===0}function Kt(Dt,It){for(var Nt,Jt=!0;Dt.parentNode&&Dt.parentNode.nodeType===1&&It.length;)Jt&&(Nt=It.pop()),Dt=Dt.parentNode,Jt=qt(Dt,Nt);return It.length===0}function qt(Dt,It){var Nt=Dt.nodeName,Jt=Dt.getAttribute("class"),sr=Dt.getAttribute("id"),lr,Ht;if(lr=new RegExp("^"+Nt,"i"),It=It.replace(lr,""),sr&&It.length&&(lr=new RegExp("#"+sr+"(?![a-zA-Z\\-]+)","i"),It=It.replace(lr,"")),Jt&&It.length)for(Jt=Jt.split(" "),Ht=Jt.length;Ht--;)lr=new RegExp("\\."+Jt[Ht]+"(?![a-zA-Z\\-]+)","i"),It=It.replace(lr,"");return It.length===0}function er(Dt,It){var Nt;if(Dt.getElementById&&(Nt=Dt.getElementById(It)),Nt)return Nt;var Jt,sr,lr,Ht=Dt.getElementsByTagName("*");for(sr=0,lr=Ht.length;sr<lr;sr++)if(Jt=Ht[sr],It===Jt.getAttribute("id"))return Jt}function Ut(Dt){for(var It=Mt(Dt,["use","svg:use"]),Nt=0;It.length&&Nt<It.length;){var Jt=It[Nt],sr=Jt.getAttribute("xlink:href")||Jt.getAttribute("href");if(sr===null)return;var lr=sr.slice(1),Ht=Jt.getAttribute("x")||0,Bt=Jt.getAttribute("y")||0,Ft=er(Dt,lr).cloneNode(!0),At=(Ft.getAttribute("transform")||"")+" translate("+Ht+", "+Bt+")",Rt,$t=It.length,Wt,Vt,Zt,ir,vr=rt.svgNS;if(Et(Ft),/^svg$/i.test(Ft.nodeName)){var cr=Ft.ownerDocument.createElementNS(vr,"g");for(Vt=0,Zt=Ft.attributes,ir=Zt.length;Vt<ir;Vt++)Wt=Zt.item(Vt),cr.setAttributeNS(vr,Wt.nodeName,Wt.nodeValue);for(;Ft.firstChild;)cr.appendChild(Ft.firstChild);Ft=cr}for(Vt=0,Zt=Jt.attributes,ir=Zt.length;Vt<ir;Vt++)Wt=Zt.item(Vt),!(Wt.nodeName==="x"||Wt.nodeName==="y"||Wt.nodeName==="xlink:href"||Wt.nodeName==="href")&&(Wt.nodeName==="transform"?At=Wt.nodeValue+" "+At:Ft.setAttribute(Wt.nodeName,Wt.nodeValue));Ft.setAttribute("transform",At),Ft.setAttribute("instantiated_by_use","1"),Ft.removeAttribute("id"),Rt=Jt.parentNode,Rt.replaceChild(Ft,Jt),It.length===$t&&Nt++}}var Ot=new RegExp("^\\s*("+rt.reNum+"+)\\s*,?\\s*("+rt.reNum+"+)\\s*,?\\s*("+rt.reNum+"+)\\s*,?\\s*("+rt.reNum+"+)\\s*$");function Et(Dt){if(!rt.svgViewBoxElementsRegEx.test(Dt.nodeName))return{};var It=Dt.getAttribute("viewBox"),Nt=1,Jt=1,sr=0,lr=0,Ht,Bt,Ft,At,Rt=Dt.getAttribute("width"),$t=Dt.getAttribute("height"),Wt=Dt.getAttribute("x")||0,Vt=Dt.getAttribute("y")||0,Zt=Dt.getAttribute("preserveAspectRatio")||"",ir=!It||!(It=It.match(Ot)),vr=!Rt||!$t||Rt==="100%"||$t==="100%",cr=ir&&vr,or={},br="",Cr=0,Ar=0;if(or.width=0,or.height=0,or.toBeParsed=cr,ir&&(Wt||Vt)&&Dt.parentNode&&Dt.parentNode.nodeName!=="#document"&&(br=" translate("+at(Wt)+" "+at(Vt)+") ",Ft=(Dt.getAttribute("transform")||"")+br,Dt.setAttribute("transform",Ft),Dt.removeAttribute("x"),Dt.removeAttribute("y")),cr)return or;if(ir)return or.width=at(Rt),or.height=at($t),or;if(sr=-parseFloat(It[1]),lr=-parseFloat(It[2]),Ht=parseFloat(It[3]),Bt=parseFloat(It[4]),or.minX=sr,or.minY=lr,or.viewBoxWidth=Ht,or.viewBoxHeight=Bt,vr?(or.width=Ht,or.height=Bt):(or.width=at(Rt),or.height=at($t),Nt=or.width/Ht,Jt=or.height/Bt),Zt=rt.util.parsePreserveAspectRatioAttribute(Zt),Zt.alignX!=="none"&&(Zt.meetOrSlice==="meet"&&(Jt=Nt=Nt>Jt?Jt:Nt),Zt.meetOrSlice==="slice"&&(Jt=Nt=Nt>Jt?Nt:Jt),Cr=or.width-Ht*Nt,Ar=or.height-Bt*Nt,Zt.alignX==="Mid"&&(Cr/=2),Zt.alignY==="Mid"&&(Ar/=2),Zt.alignX==="Min"&&(Cr=0),Zt.alignY==="Min"&&(Ar=0)),Nt===1&&Jt===1&&sr===0&&lr===0&&Wt===0&&Vt===0)return or;if((Wt||Vt)&&Dt.parentNode.nodeName!=="#document"&&(br=" translate("+at(Wt)+" "+at(Vt)+") "),Ft=br+" matrix("+Nt+" 0 0 "+Jt+" "+(sr*Nt+Cr)+" "+(lr*Jt+Ar)+") ",Dt.nodeName==="svg"){for(At=Dt.ownerDocument.createElementNS(rt.svgNS,"g");Dt.firstChild;)At.appendChild(Dt.firstChild);Dt.appendChild(At)}else At=Dt,At.removeAttribute("x"),At.removeAttribute("y"),Ft=At.getAttribute("transform")+Ft;return At.setAttribute("transform",Ft),or}function wt(Dt,It){for(;Dt&&(Dt=Dt.parentNode);)if(Dt.nodeName&&It.test(Dt.nodeName.replace("svg:",""))&&!Dt.getAttribute("instantiated_by_use"))return!0;return!1}rt.parseSVGDocument=function(Dt,It,Nt,Jt){if(!!Dt){Ut(Dt);var sr=rt.Object.__uid++,lr,Ht,Bt=Et(Dt),Ft=rt.util.toArray(Dt.getElementsByTagName("*"));if(Bt.crossOrigin=Jt&&Jt.crossOrigin,Bt.svgUid=sr,Ft.length===0&&rt.isLikelyNode){Ft=Dt.selectNodes('//*[name(.)!="svg"]');var At=[];for(lr=0,Ht=Ft.length;lr<Ht;lr++)At[lr]=Ft[lr];Ft=At}var Rt=Ft.filter(function(Wt){return Et(Wt),rt.svgValidTagNamesRegEx.test(Wt.nodeName.replace("svg:",""))&&!wt(Wt,rt.svgInvalidAncestorsRegEx)});if(!Rt||Rt&&!Rt.length){It&&It([],{});return}var $t={};Ft.filter(function(Wt){return Wt.nodeName.replace("svg:","")==="clipPath"}).forEach(function(Wt){var Vt=Wt.getAttribute("id");$t[Vt]=rt.util.toArray(Wt.getElementsByTagName("*")).filter(function(Zt){return rt.svgValidTagNamesRegEx.test(Zt.nodeName.replace("svg:",""))})}),rt.gradientDefs[sr]=rt.getGradientDefs(Dt),rt.cssRules[sr]=rt.getCSSRules(Dt),rt.clipPaths[sr]=$t,rt.parseElements(Rt,function(Wt,Vt){It&&(It(Wt,Bt,Vt,Ft),delete rt.gradientDefs[sr],delete rt.cssRules[sr],delete rt.clipPaths[sr])},ft(Bt),Nt,Jt)}};function Pt(Dt,It){var Nt=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Jt="xlink:href",sr=It.getAttribute(Jt).slice(1),lr=er(Dt,sr);if(lr&&lr.getAttribute(Jt)&&Pt(Dt,lr),Nt.forEach(function(Bt){lr&&!It.hasAttribute(Bt)&&lr.hasAttribute(Bt)&&It.setAttribute(Bt,lr.getAttribute(Bt))}),!It.children.length)for(var Ht=lr.cloneNode(!0);Ht.firstChild;)It.appendChild(Ht.firstChild);It.removeAttribute(Jt)}var Lt=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+rt.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+rt.reNum+"))?\\s+(.*)");lt(rt,{parseFontDeclaration:function(Dt,It){var Nt=Dt.match(Lt);if(!!Nt){var Jt=Nt[1],sr=Nt[3],lr=Nt[4],Ht=Nt[5],Bt=Nt[6];Jt&&(It.fontStyle=Jt),sr&&(It.fontWeight=isNaN(parseFloat(sr))?sr:parseFloat(sr)),lr&&(It.fontSize=at(lr)),Bt&&(It.fontFamily=Bt),Ht&&(It.lineHeight=Ht==="normal"?1:Ht)}},getGradientDefs:function(Dt){var It=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],Nt=Mt(Dt,It),Jt,sr=0,lr={};for(sr=Nt.length;sr--;)Jt=Nt[sr],Jt.getAttribute("xlink:href")&&Pt(Dt,Jt),lr[Jt.getAttribute("id")]=Jt;return lr},parseAttributes:function(Dt,It,Nt){if(!!Dt){var Jt,sr={},lr,Ht;typeof Nt=="undefined"&&(Nt=Dt.getAttribute("svgUid")),Dt.parentNode&&rt.svgValidParentsRegEx.test(Dt.parentNode.nodeName)&&(sr=rt.parseAttributes(Dt.parentNode,It,Nt));var Bt=It.reduce(function(Zt,ir){return Jt=Dt.getAttribute(ir),Jt&&(Zt[ir]=Jt),Zt},{}),Ft=lt(zt(Dt,Nt),rt.parseStyleAttribute(Dt));Bt=lt(Bt,Ft),Ft[bt]&&Dt.setAttribute(bt,Ft[bt]),lr=Ht=sr.fontSize||rt.Text.DEFAULT_SVG_FONT_SIZE,Bt[gt]&&(Bt[gt]=lr=at(Bt[gt],Ht));var At,Rt,$t={};for(var Wt in Bt)At=_t(Wt),Rt=Ct(At,Bt[Wt],sr,lr),$t[At]=Rt;$t&&$t.font&&rt.parseFontDeclaration($t.font,$t);var Vt=lt(sr,$t);return rt.svgValidParentsRegEx.test(Dt.nodeName)?Vt:Tt(Vt)}},parseElements:function(Dt,It,Nt,Jt,sr){new rt.ElementsParser(Dt,It,Nt,Jt,sr).parse()},parseStyleAttribute:function(Dt){var It={},Nt=Dt.getAttribute("style");return Nt&&(typeof Nt=="string"?jt(Nt,It):Gt(Nt,It)),It},parsePointsAttribute:function(Dt){if(!Dt)return null;Dt=Dt.replace(/,/g," ").trim(),Dt=Dt.split(/\s+/);var It=[],Nt,Jt;for(Nt=0,Jt=Dt.length;Nt<Jt;Nt+=2)It.push({x:parseFloat(Dt[Nt]),y:parseFloat(Dt[Nt+1])});return It},getCSSRules:function(Dt){var It=Dt.getElementsByTagName("style"),Nt,Jt,sr={},lr;for(Nt=0,Jt=It.length;Nt<Jt;Nt++){var Ht=It[Nt].textContent;Ht=Ht.replace(/\/\*[\s\S]*?\*\//g,""),Ht.trim()!==""&&(lr=Ht.split("}"),lr=lr.filter(function(Bt){return Bt.trim()}),lr.forEach(function(Bt){var Ft=Bt.split("{"),At={},Rt=Ft[1].trim(),$t=Rt.split(";").filter(function(ir){return ir.trim()});for(Nt=0,Jt=$t.length;Nt<Jt;Nt++){var Wt=$t[Nt].split(":"),Vt=Wt[0].trim(),Zt=Wt[1].trim();At[Vt]=Zt}Bt=Ft[0].trim(),Bt.split(",").forEach(function(ir){ir=ir.replace(/^svg/i,"").trim(),ir!==""&&(sr[ir]?rt.util.object.extend(sr[ir],At):sr[ir]=rt.util.object.clone(At))})}))}return sr},loadSVGFromURL:function(Dt,It,Nt,Jt){Dt=Dt.replace(/^\n\s*/,"").trim(),new rt.util.request(Dt,{method:"get",onComplete:sr});function sr(lr){var Ht=lr.responseXML;if(!Ht||!Ht.documentElement)return It&&It(null),!1;rt.parseSVGDocument(Ht.documentElement,function(Bt,Ft,At,Rt){It&&It(Bt,Ft,At,Rt)},Nt,Jt)}},loadSVGFromString:function(Dt,It,Nt,Jt){var sr=new rt.window.DOMParser,lr=sr.parseFromString(Dt.trim(),"text/xml");rt.parseSVGDocument(lr.documentElement,function(Ht,Bt,Ft,At){It(Ht,Bt,Ft,At)},Nt,Jt)}})}($),_e.ElementsParser=function(ct,rt,lt,ft,it,at){this.elements=ct,this.callback=rt,this.options=lt,this.reviver=ft,this.svgUid=lt&&lt.svgUid||0,this.parsingOptions=it,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=at},function(ct){ct.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},ct.createObjects=function(){var rt=this;this.elements.forEach(function(lt,ft){lt.setAttribute("svgUid",rt.svgUid),rt.createObject(lt,ft)})},ct.findTag=function(rt){return _e[_e.util.string.capitalize(rt.tagName.replace("svg:",""))]},ct.createObject=function(rt,lt){var ft=this.findTag(rt);if(ft&&ft.fromElement)try{ft.fromElement(rt,this.createCallback(lt,rt),this.options)}catch(it){_e.log(it)}else this.checkIfDone()},ct.createCallback=function(rt,lt){var ft=this;return function(it){var at;ft.resolveGradient(it,lt,"fill"),ft.resolveGradient(it,lt,"stroke"),it instanceof _e.Image&&it._originalElement&&(at=it.parsePreserveAspectRatioAttribute(lt)),it._removeTransformMatrix(at),ft.resolveClipPath(it,lt),ft.reviver&&ft.reviver(lt,it),ft.instances[rt]=it,ft.checkIfDone()}},ct.extractPropertyDefinition=function(rt,lt,ft){var it=rt[lt],at=this.regexUrl;if(!!at.test(it)){at.lastIndex=0;var nt=at.exec(it)[1];return at.lastIndex=0,_e[ft][this.svgUid][nt]}},ct.resolveGradient=function(rt,lt,ft){var it=this.extractPropertyDefinition(rt,ft,"gradientDefs");if(it){var at=lt.getAttribute(ft+"-opacity"),nt=_e.Gradient.fromElement(it,rt,at,this.options);rt.set(ft,nt)}},ct.createClipPathCallback=function(rt,lt){return function(ft){ft._removeTransformMatrix(),ft.fillRule=ft.clipRule,lt.push(ft)}},ct.resolveClipPath=function(rt,lt){var ft=this.extractPropertyDefinition(rt,"clipPath","clipPaths"),it,at,nt,ot,ht,st;if(ft){ot=[],nt=_e.util.invertTransform(rt.calcTransformMatrix());for(var dt=ft[0].parentNode,vt=lt;vt.parentNode&&vt.getAttribute("clip-path")!==rt.clipPath;)vt=vt.parentNode;vt.parentNode.appendChild(dt);for(var mt=0;mt<ft.length;mt++)it=ft[mt],at=this.findTag(it),at.fromElement(it,this.createClipPathCallback(rt,ot),this.options);ot.length===1?ft=ot[0]:ft=new _e.Group(ot),ht=_e.util.multiplyTransformMatrices(nt,ft.calcTransformMatrix()),ft.clipPath&&this.resolveClipPath(ft,vt);var st=_e.util.qrDecompose(ht);ft.flipX=!1,ft.flipY=!1,ft.set("scaleX",st.scaleX),ft.set("scaleY",st.scaleY),ft.angle=st.angle,ft.skewX=st.skewX,ft.skewY=0,ft.setPositionByOrigin({x:st.translateX,y:st.translateY},"center","center"),rt.clipPath=ft}else delete rt.clipPath},ct.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(rt){return rt!=null}),this.callback(this.instances,this.elements))}}(_e.ElementsParser.prototype),function(ct){var rt=ct.fabric||(ct.fabric={});if(rt.Point){rt.warn("fabric.Point is already defined");return}rt.Point=lt;function lt(ft,it){this.x=ft,this.y=it}lt.prototype={type:"point",constructor:lt,add:function(ft){return new lt(this.x+ft.x,this.y+ft.y)},addEquals:function(ft){return this.x+=ft.x,this.y+=ft.y,this},scalarAdd:function(ft){return new lt(this.x+ft,this.y+ft)},scalarAddEquals:function(ft){return this.x+=ft,this.y+=ft,this},subtract:function(ft){return new lt(this.x-ft.x,this.y-ft.y)},subtractEquals:function(ft){return this.x-=ft.x,this.y-=ft.y,this},scalarSubtract:function(ft){return new lt(this.x-ft,this.y-ft)},scalarSubtractEquals:function(ft){return this.x-=ft,this.y-=ft,this},multiply:function(ft){return new lt(this.x*ft,this.y*ft)},multiplyEquals:function(ft){return this.x*=ft,this.y*=ft,this},divide:function(ft){return new lt(this.x/ft,this.y/ft)},divideEquals:function(ft){return this.x/=ft,this.y/=ft,this},eq:function(ft){return this.x===ft.x&&this.y===ft.y},lt:function(ft){return this.x<ft.x&&this.y<ft.y},lte:function(ft){return this.x<=ft.x&&this.y<=ft.y},gt:function(ft){return this.x>ft.x&&this.y>ft.y},gte:function(ft){return this.x>=ft.x&&this.y>=ft.y},lerp:function(ft,it){return typeof it=="undefined"&&(it=.5),it=Math.max(Math.min(1,it),0),new lt(this.x+(ft.x-this.x)*it,this.y+(ft.y-this.y)*it)},distanceFrom:function(ft){var it=this.x-ft.x,at=this.y-ft.y;return Math.sqrt(it*it+at*at)},midPointFrom:function(ft){return this.lerp(ft)},min:function(ft){return new lt(Math.min(this.x,ft.x),Math.min(this.y,ft.y))},max:function(ft){return new lt(Math.max(this.x,ft.x),Math.max(this.y,ft.y))},toString:function(){return this.x+","+this.y},setXY:function(ft,it){return this.x=ft,this.y=it,this},setX:function(ft){return this.x=ft,this},setY:function(ft){return this.y=ft,this},setFromPoint:function(ft){return this.x=ft.x,this.y=ft.y,this},swap:function(ft){var it=this.x,at=this.y;this.x=ft.x,this.y=ft.y,ft.x=it,ft.y=at},clone:function(){return new lt(this.x,this.y)}}}($),function(ct){var rt=ct.fabric||(ct.fabric={});if(rt.Intersection){rt.warn("fabric.Intersection is already defined");return}function lt(ft){this.status=ft,this.points=[]}rt.Intersection=lt,rt.Intersection.prototype={constructor:lt,appendPoint:function(ft){return this.points.push(ft),this},appendPoints:function(ft){return this.points=this.points.concat(ft),this}},rt.Intersection.intersectLineLine=function(ft,it,at,nt){var ot,ht=(nt.x-at.x)*(ft.y-at.y)-(nt.y-at.y)*(ft.x-at.x),st=(it.x-ft.x)*(ft.y-at.y)-(it.y-ft.y)*(ft.x-at.x),dt=(nt.y-at.y)*(it.x-ft.x)-(nt.x-at.x)*(it.y-ft.y);if(dt!==0){var vt=ht/dt,mt=st/dt;0<=vt&&vt<=1&&0<=mt&&mt<=1?(ot=new lt("Intersection"),ot.appendPoint(new rt.Point(ft.x+vt*(it.x-ft.x),ft.y+vt*(it.y-ft.y)))):ot=new lt}else ht===0||st===0?ot=new lt("Coincident"):ot=new lt("Parallel");return ot},rt.Intersection.intersectLinePolygon=function(ft,it,at){var nt=new lt,ot=at.length,ht,st,dt,vt;for(vt=0;vt<ot;vt++)ht=at[vt],st=at[(vt+1)%ot],dt=lt.intersectLineLine(ft,it,ht,st),nt.appendPoints(dt.points);return nt.points.length>0&&(nt.status="Intersection"),nt},rt.Intersection.intersectPolygonPolygon=function(ft,it){var at=new lt,nt=ft.length,ot;for(ot=0;ot<nt;ot++){var ht=ft[ot],st=ft[(ot+1)%nt],dt=lt.intersectLinePolygon(ht,st,it);at.appendPoints(dt.points)}return at.points.length>0&&(at.status="Intersection"),at},rt.Intersection.intersectPolygonRectangle=function(ft,it,at){var nt=it.min(at),ot=it.max(at),ht=new rt.Point(ot.x,nt.y),st=new rt.Point(nt.x,ot.y),dt=lt.intersectLinePolygon(nt,ht,ft),vt=lt.intersectLinePolygon(ht,ot,ft),mt=lt.intersectLinePolygon(ot,st,ft),gt=lt.intersectLinePolygon(st,nt,ft),bt=new lt;return bt.appendPoints(dt.points),bt.appendPoints(vt.points),bt.appendPoints(mt.points),bt.appendPoints(gt.points),bt.points.length>0&&(bt.status="Intersection"),bt}}($),function(ct){var rt=ct.fabric||(ct.fabric={});if(rt.Color){rt.warn("fabric.Color is already defined.");return}function lt(it){it?this._tryParsingColor(it):this.setSource([0,0,0,1])}rt.Color=lt,rt.Color.prototype={_tryParsingColor:function(it){var at;it in lt.colorNameMap&&(it=lt.colorNameMap[it]),it==="transparent"&&(at=[255,255,255,0]),at||(at=lt.sourceFromHex(it)),at||(at=lt.sourceFromRgb(it)),at||(at=lt.sourceFromHsl(it)),at||(at=[0,0,0,1]),at&&this.setSource(at)},_rgbToHsl:function(it,at,nt){it/=255,at/=255,nt/=255;var ot,ht,st,dt=rt.util.array.max([it,at,nt]),vt=rt.util.array.min([it,at,nt]);if(st=(dt+vt)/2,dt===vt)ot=ht=0;else{var mt=dt-vt;switch(ht=st>.5?mt/(2-dt-vt):mt/(dt+vt),dt){case it:ot=(at-nt)/mt+(at<nt?6:0);break;case at:ot=(nt-it)/mt+2;break;case nt:ot=(it-at)/mt+4;break}ot/=6}return[Math.round(ot*360),Math.round(ht*100),Math.round(st*100)]},getSource:function(){return this._source},setSource:function(it){this._source=it},toRgb:function(){var it=this.getSource();return"rgb("+it[0]+","+it[1]+","+it[2]+")"},toRgba:function(){var it=this.getSource();return"rgba("+it[0]+","+it[1]+","+it[2]+","+it[3]+")"},toHsl:function(){var it=this.getSource(),at=this._rgbToHsl(it[0],it[1],it[2]);return"hsl("+at[0]+","+at[1]+"%,"+at[2]+"%)"},toHsla:function(){var it=this.getSource(),at=this._rgbToHsl(it[0],it[1],it[2]);return"hsla("+at[0]+","+at[1]+"%,"+at[2]+"%,"+it[3]+")"},toHex:function(){var it=this.getSource(),at,nt,ot;return at=it[0].toString(16),at=at.length===1?"0"+at:at,nt=it[1].toString(16),nt=nt.length===1?"0"+nt:nt,ot=it[2].toString(16),ot=ot.length===1?"0"+ot:ot,at.toUpperCase()+nt.toUpperCase()+ot.toUpperCase()},toHexa:function(){var it=this.getSource(),at;return at=Math.round(it[3]*255),at=at.toString(16),at=at.length===1?"0"+at:at,this.toHex()+at.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(it){var at=this.getSource();return at[3]=it,this.setSource(at),this},toGrayscale:function(){var it=this.getSource(),at=parseInt((it[0]*.3+it[1]*.59+it[2]*.11).toFixed(0),10),nt=it[3];return this.setSource([at,at,at,nt]),this},toBlackWhite:function(it){var at=this.getSource(),nt=(at[0]*.3+at[1]*.59+at[2]*.11).toFixed(0),ot=at[3];return it=it||127,nt=Number(nt)<Number(it)?0:255,this.setSource([nt,nt,nt,ot]),this},overlayWith:function(it){it instanceof lt||(it=new lt(it));var at=[],nt=this.getAlpha(),ot=.5,ht=this.getSource(),st=it.getSource(),dt;for(dt=0;dt<3;dt++)at.push(Math.round(ht[dt]*(1-ot)+st[dt]*ot));return at[3]=nt,this.setSource(at),this}},rt.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,rt.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,rt.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,rt.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function ft(it,at,nt){return nt<0&&(nt+=1),nt>1&&(nt-=1),nt<1/6?it+(at-it)*6*nt:nt<1/2?at:nt<2/3?it+(at-it)*(2/3-nt)*6:it}rt.Color.fromRgb=function(it){return lt.fromSource(lt.sourceFromRgb(it))},rt.Color.sourceFromRgb=function(it){var at=it.match(lt.reRGBa);if(at){var nt=parseInt(at[1],10)/(/%$/.test(at[1])?100:1)*(/%$/.test(at[1])?255:1),ot=parseInt(at[2],10)/(/%$/.test(at[2])?100:1)*(/%$/.test(at[2])?255:1),ht=parseInt(at[3],10)/(/%$/.test(at[3])?100:1)*(/%$/.test(at[3])?255:1);return[parseInt(nt,10),parseInt(ot,10),parseInt(ht,10),at[4]?parseFloat(at[4]):1]}},rt.Color.fromRgba=lt.fromRgb,rt.Color.fromHsl=function(it){return lt.fromSource(lt.sourceFromHsl(it))},rt.Color.sourceFromHsl=function(it){var at=it.match(lt.reHSLa);if(!!at){var nt=(parseFloat(at[1])%360+360)%360/360,ot=parseFloat(at[2])/(/%$/.test(at[2])?100:1),ht=parseFloat(at[3])/(/%$/.test(at[3])?100:1),st,dt,vt;if(ot===0)st=dt=vt=ht;else{var mt=ht<=.5?ht*(ot+1):ht+ot-ht*ot,gt=ht*2-mt;st=ft(gt,mt,nt+1/3),dt=ft(gt,mt,nt),vt=ft(gt,mt,nt-1/3)}return[Math.round(st*255),Math.round(dt*255),Math.round(vt*255),at[4]?parseFloat(at[4]):1]}},rt.Color.fromHsla=lt.fromHsl,rt.Color.fromHex=function(it){return lt.fromSource(lt.sourceFromHex(it))},rt.Color.sourceFromHex=function(it){if(it.match(lt.reHex)){var at=it.slice(it.indexOf("#")+1),nt=at.length===3||at.length===4,ot=at.length===8||at.length===4,ht=nt?at.charAt(0)+at.charAt(0):at.substring(0,2),st=nt?at.charAt(1)+at.charAt(1):at.substring(2,4),dt=nt?at.charAt(2)+at.charAt(2):at.substring(4,6),vt=ot?nt?at.charAt(3)+at.charAt(3):at.substring(6,8):"FF";return[parseInt(ht,16),parseInt(st,16),parseInt(dt,16),parseFloat((parseInt(vt,16)/255).toFixed(2))]}},rt.Color.fromSource=function(it){var at=new lt;return at.setSource(it),at}}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=["e","se","s","sw","w","nw","n","ne","e"],ft=["ns","nesw","ew","nwse"],it={},at="left",nt="top",ot="right",ht="bottom",st="center",dt={top:ht,bottom:nt,left:ot,right:at,center:st},vt=rt.util.radiansToDegrees,mt=Math.sign||function(At){return(At>0)-(At<0)||+At};function gt(At,Rt){var $t=At.angle+vt(Math.atan2(Rt.y,Rt.x))+360;return Math.round($t%360/45)}function bt(At,Rt){var $t=Rt.transform.target,Wt=$t.canvas,Vt=rt.util.object.clone(Rt);Vt.target=$t,Wt&&Wt.fire("object:"+At,Vt),$t.fire(At,Rt)}function _t(At,Rt){var $t=Rt.canvas,Wt=$t.uniScaleKey,Vt=At[Wt];return $t.uniformScaling&&!Vt||!$t.uniformScaling&&Vt}function Ct(At){return At.originX===st&&At.originY===st}function xt(At,Rt,$t){var Wt=At.lockScalingX,Vt=At.lockScalingY;return!!(Wt&&Vt||!Rt&&(Wt||Vt)&&$t||Wt&&Rt==="x"||Vt&&Rt==="y")}function Tt(At,Rt,$t){var Wt="not-allowed",Vt=_t(At,$t),Zt="";if(Rt.x!==0&&Rt.y===0?Zt="x":Rt.x===0&&Rt.y!==0&&(Zt="y"),xt($t,Zt,Vt))return Wt;var ir=gt($t,Rt);return lt[ir]+"-resize"}function Mt(At,Rt,$t){var Wt="not-allowed";if(Rt.x!==0&&$t.lockSkewingY||Rt.y!==0&&$t.lockSkewingX)return Wt;var Vt=gt($t,Rt)%4;return ft[Vt]+"-resize"}function jt(At,Rt,$t){return At[$t.canvas.altActionKey]?it.skewCursorStyleHandler(At,Rt,$t):it.scaleCursorStyleHandler(At,Rt,$t)}function Gt(At,Rt,$t){var Wt=At[$t.canvas.altActionKey];if(Rt.x===0)return Wt?"skewX":"scaleY";if(Rt.y===0)return Wt?"skewY":"scaleX"}function zt(At,Rt,$t){return $t.lockRotation?"not-allowed":Rt.cursorStyle}function Xt(At,Rt,$t,Wt){return{e:At,transform:Rt,pointer:{x:$t,y:Wt}}}function Kt(At){return function(Rt,$t,Wt,Vt){var Zt=$t.target,ir=Zt.getCenterPoint(),vr=Zt.translateToOriginPoint(ir,$t.originX,$t.originY),cr=At(Rt,$t,Wt,Vt);return Zt.setPositionByOrigin(vr,$t.originX,$t.originY),cr}}function qt(At,Rt){return function($t,Wt,Vt,Zt){var ir=Rt($t,Wt,Vt,Zt);return ir&&bt(At,Xt($t,Wt,Vt,Zt)),ir}}function er(At,Rt,$t,Wt,Vt){var Zt=At.target,ir=Zt.controls[At.corner],vr=Zt.canvas.getZoom(),cr=Zt.padding/vr,or=Zt.toLocalPoint(new rt.Point(Wt,Vt),Rt,$t);return or.x>=cr&&(or.x-=cr),or.x<=-cr&&(or.x+=cr),or.y>=cr&&(or.y-=cr),or.y<=cr&&(or.y+=cr),or.x-=ir.offsetX,or.y-=ir.offsetY,or}function Ut(At){return At.flipX!==At.flipY}function Ot(At,Rt,$t,Wt,Vt){if(At[Rt]!==0){var Zt=At._getTransformedDimensions()[Wt],ir=Vt/Zt*At[$t];At.set($t,ir)}}function Et(At,Rt,$t,Wt){var Vt=Rt.target,Zt=Vt._getTransformedDimensions(0,Vt.skewY),ir=er(Rt,Rt.originX,Rt.originY,$t,Wt),vr=Math.abs(ir.x*2)-Zt.x,cr=Vt.skewX,or;vr<2?or=0:(or=vt(Math.atan2(vr/Vt.scaleX,Zt.y/Vt.scaleY)),Rt.originX===at&&Rt.originY===ht&&(or=-or),Rt.originX===ot&&Rt.originY===nt&&(or=-or),Ut(Vt)&&(or=-or));var br=cr!==or;if(br){var Cr=Vt._getTransformedDimensions().y;Vt.set("skewX",or),Ot(Vt,"skewY","scaleY","y",Cr)}return br}function wt(At,Rt,$t,Wt){var Vt=Rt.target,Zt=Vt._getTransformedDimensions(Vt.skewX,0),ir=er(Rt,Rt.originX,Rt.originY,$t,Wt),vr=Math.abs(ir.y*2)-Zt.y,cr=Vt.skewY,or;vr<2?or=0:(or=vt(Math.atan2(vr/Vt.scaleY,Zt.x/Vt.scaleX)),Rt.originX===at&&Rt.originY===ht&&(or=-or),Rt.originX===ot&&Rt.originY===nt&&(or=-or),Ut(Vt)&&(or=-or));var br=cr!==or;if(br){var Cr=Vt._getTransformedDimensions().x;Vt.set("skewY",or),Ot(Vt,"skewX","scaleX","x",Cr)}return br}function Pt(At,Rt,$t,Wt){var Vt=Rt.target,Zt=Vt.skewX,ir,vr=Rt.originY;if(Vt.lockSkewingX)return!1;if(Zt===0){var cr=er(Rt,st,st,$t,Wt);cr.x>0?ir=at:ir=ot}else Zt>0&&(ir=vr===nt?at:ot),Zt<0&&(ir=vr===nt?ot:at),Ut(Vt)&&(ir=ir===at?ot:at);Rt.originX=ir;var or=qt("skewing",Kt(Et));return or(At,Rt,$t,Wt)}function Lt(At,Rt,$t,Wt){var Vt=Rt.target,Zt=Vt.skewY,ir,vr=Rt.originX;if(Vt.lockSkewingY)return!1;if(Zt===0){var cr=er(Rt,st,st,$t,Wt);cr.y>0?ir=nt:ir=ht}else Zt>0&&(ir=vr===at?nt:ht),Zt<0&&(ir=vr===at?ht:nt),Ut(Vt)&&(ir=ir===nt?ht:nt);Rt.originY=ir;var or=qt("skewing",Kt(wt));return or(At,Rt,$t,Wt)}function Dt(At,Rt,$t,Wt){var Vt=Rt,Zt=Vt.target,ir=Zt.translateToOriginPoint(Zt.getCenterPoint(),Vt.originX,Vt.originY);if(Zt.lockRotation)return!1;var vr=Math.atan2(Vt.ey-ir.y,Vt.ex-ir.x),cr=Math.atan2(Wt-ir.y,$t-ir.x),or=vt(cr-vr+Vt.theta),br=!0;if(Zt.snapAngle>0){var Cr=Zt.snapAngle,Ar=Zt.snapThreshold||Cr,kr=Math.ceil(or/Cr)*Cr,Or=Math.floor(or/Cr)*Cr;Math.abs(or-Or)<Ar?or=Or:Math.abs(or-kr)<Ar&&(or=kr)}return or<0&&(or=360+or),or%=360,br=Zt.angle!==or,Zt.angle=or,br}function It(At,Rt,$t,Wt,Vt){Vt=Vt||{};var Zt=Rt.target,ir=Zt.lockScalingX,vr=Zt.lockScalingY,cr=Vt.by,or,br,Cr,Ar,kr=_t(At,Zt),Or=xt(Zt,cr,kr),Lr,dr,mr=Rt.gestureScale;if(Or)return!1;if(mr)br=Rt.scaleX*mr,Cr=Rt.scaleY*mr;else{if(or=er(Rt,Rt.originX,Rt.originY,$t,Wt),Lr=cr!=="y"?mt(or.x):1,dr=cr!=="x"?mt(or.y):1,Rt.signX||(Rt.signX=Lr),Rt.signY||(Rt.signY=dr),Zt.lockScalingFlip&&(Rt.signX!==Lr||Rt.signY!==dr))return!1;if(Ar=Zt._getTransformedDimensions(),kr&&!cr){var Qt=Math.abs(or.x)+Math.abs(or.y),nr=Rt.original,tr=Math.abs(Ar.x*nr.scaleX/Zt.scaleX)+Math.abs(Ar.y*nr.scaleY/Zt.scaleY),fr=Qt/tr;br=nr.scaleX*fr,Cr=nr.scaleY*fr}else br=Math.abs(or.x*Zt.scaleX/Ar.x),Cr=Math.abs(or.y*Zt.scaleY/Ar.y);Ct(Rt)&&(br*=2,Cr*=2),Rt.signX!==Lr&&cr!=="y"&&(Rt.originX=dt[Rt.originX],br*=-1,Rt.signX=Lr),Rt.signY!==dr&&cr!=="x"&&(Rt.originY=dt[Rt.originY],Cr*=-1,Rt.signY=dr)}var ar=Zt.scaleX,rr=Zt.scaleY;return cr?(cr==="x"&&Zt.set("scaleX",br),cr==="y"&&Zt.set("scaleY",Cr)):(!ir&&Zt.set("scaleX",br),!vr&&Zt.set("scaleY",Cr)),ar!==Zt.scaleX||rr!==Zt.scaleY}function Nt(At,Rt,$t,Wt){return It(At,Rt,$t,Wt)}function Jt(At,Rt,$t,Wt){return It(At,Rt,$t,Wt,{by:"x"})}function sr(At,Rt,$t,Wt){return It(At,Rt,$t,Wt,{by:"y"})}function lr(At,Rt,$t,Wt){return At[Rt.target.canvas.altActionKey]?it.skewHandlerX(At,Rt,$t,Wt):it.scalingY(At,Rt,$t,Wt)}function Ht(At,Rt,$t,Wt){return At[Rt.target.canvas.altActionKey]?it.skewHandlerY(At,Rt,$t,Wt):it.scalingX(At,Rt,$t,Wt)}function Bt(At,Rt,$t,Wt){var Vt=Rt.target,Zt=er(Rt,Rt.originX,Rt.originY,$t,Wt),ir=Vt.strokeWidth/(Vt.strokeUniform?Vt.scaleX:1),vr=Ct(Rt)?2:1,cr=Vt.width,or=Math.abs(Zt.x*vr/Vt.scaleX)-ir;return Vt.set("width",Math.max(or,0)),cr!==or}function Ft(At,Rt,$t,Wt){var Vt=Rt.target,Zt=$t-Rt.offsetX,ir=Wt-Rt.offsetY,vr=!Vt.get("lockMovementX")&&Vt.left!==Zt,cr=!Vt.get("lockMovementY")&&Vt.top!==ir;return vr&&Vt.set("left",Zt),cr&&Vt.set("top",ir),(vr||cr)&&bt("moving",Xt(At,Rt,$t,Wt)),vr||cr}it.scaleCursorStyleHandler=Tt,it.skewCursorStyleHandler=Mt,it.scaleSkewCursorStyleHandler=jt,it.rotationWithSnapping=qt("rotating",Kt(Dt)),it.scalingEqually=qt("scaling",Kt(Nt)),it.scalingX=qt("scaling",Kt(Jt)),it.scalingY=qt("scaling",Kt(sr)),it.scalingYOrSkewingX=lr,it.scalingXOrSkewingY=Ht,it.changeWidth=qt("resizing",Kt(Bt)),it.skewHandlerX=Pt,it.skewHandlerY=Lt,it.dragHandler=Ft,it.scaleOrSkewActionName=Gt,it.rotationStyleHandler=zt,it.fireEvent=bt,it.wrapWithFixedAnchor=Kt,it.wrapWithFireEvent=qt,it.getLocalPoint=er,rt.controlsUtils=it}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.degreesToRadians,ft=rt.controlsUtils;function it(nt,ot,ht,st,dt){st=st||{};var vt=this.sizeX||st.cornerSize||dt.cornerSize,mt=this.sizeY||st.cornerSize||dt.cornerSize,gt=typeof st.transparentCorners!="undefined"?st.transparentCorners:dt.transparentCorners,bt=gt?"stroke":"fill",_t=!gt&&(st.cornerStrokeColor||dt.cornerStrokeColor),Ct=ot,xt=ht,Tt;nt.save(),nt.fillStyle=st.cornerColor||dt.cornerColor,nt.strokeStyle=st.cornerStrokeColor||dt.cornerStrokeColor,vt>mt?(Tt=vt,nt.scale(1,mt/vt),xt=ht*vt/mt):mt>vt?(Tt=mt,nt.scale(vt/mt,1),Ct=ot*mt/vt):Tt=vt,nt.lineWidth=1,nt.beginPath(),nt.arc(Ct,xt,Tt/2,0,2*Math.PI,!1),nt[bt](),_t&&nt.stroke(),nt.restore()}function at(nt,ot,ht,st,dt){st=st||{};var vt=this.sizeX||st.cornerSize||dt.cornerSize,mt=this.sizeY||st.cornerSize||dt.cornerSize,gt=typeof st.transparentCorners!="undefined"?st.transparentCorners:dt.transparentCorners,bt=gt?"stroke":"fill",_t=!gt&&(st.cornerStrokeColor||dt.cornerStrokeColor),Ct=vt/2,xt=mt/2;nt.save(),nt.fillStyle=st.cornerColor||dt.cornerColor,nt.strokeStyle=st.cornerStrokeColor||dt.cornerStrokeColor,nt.lineWidth=1,nt.translate(ot,ht),nt.rotate(lt(dt.angle)),nt[bt+"Rect"](-Ct,-xt,vt,mt),_t&&nt.strokeRect(-Ct,-xt,vt,mt),nt.restore()}ft.renderCircleControl=it,ft.renderSquareControl=at}($),function(ct){var rt=ct.fabric||(ct.fabric={});function lt(ft){for(var it in ft)this[it]=ft[it]}rt.Control=lt,rt.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(ft,it){return it.cursorStyle},getActionName:function(ft,it){return it.actionName},getVisibility:function(ft,it){var at=ft._controlsVisibility;return at&&typeof at[it]!="undefined"?at[it]:this.visible},setVisibility:function(ft){this.visible=ft},positionHandler:function(ft,it){var at=rt.util.transformPoint({x:this.x*ft.x+this.offsetX,y:this.y*ft.y+this.offsetY},it);return at},calcCornerCoords:function(ft,it,at,nt,ot){var ht,st,dt,vt,mt=ot?this.touchSizeX:this.sizeX,gt=ot?this.touchSizeY:this.sizeY;if(mt&&gt&&mt!==gt){var bt=Math.atan2(gt,mt),_t=Math.sqrt(mt*mt+gt*gt)/2,Ct=bt-rt.util.degreesToRadians(ft),xt=Math.PI/2-bt-rt.util.degreesToRadians(ft);ht=_t*rt.util.cos(Ct),st=_t*rt.util.sin(Ct),dt=_t*rt.util.cos(xt),vt=_t*rt.util.sin(xt)}else{var Tt=mt&&gt?mt:it;_t=Tt*.7071067812;var Ct=rt.util.degreesToRadians(45-ft);ht=dt=_t*rt.util.cos(Ct),st=vt=_t*rt.util.sin(Ct)}return{tl:{x:at-vt,y:nt-dt},tr:{x:at+ht,y:nt-st},bl:{x:at-ht,y:nt+st},br:{x:at+vt,y:nt+dt}}},render:function(ft,it,at,nt,ot){switch(nt=nt||{},nt.cornerStyle||ot.cornerStyle){case"circle":rt.controlsUtils.renderCircleControl.call(this,ft,it,at,nt,ot);break;default:rt.controlsUtils.renderSquareControl.call(this,ft,it,at,nt,ot)}}}}($),function(){function ct(at,nt){var ot=at.getAttribute("style"),ht=at.getAttribute("offset")||0,st,dt,vt,mt;if(ht=parseFloat(ht)/(/%$/.test(ht)?100:1),ht=ht<0?0:ht>1?1:ht,ot){var gt=ot.split(/\s*;\s*/);for(gt[gt.length-1]===""&&gt.pop(),mt=gt.length;mt--;){var bt=gt[mt].split(/\s*:\s*/),_t=bt[0].trim(),Ct=bt[1].trim();_t==="stop-color"?st=Ct:_t==="stop-opacity"&&(vt=Ct)}}return st||(st=at.getAttribute("stop-color")||"rgb(0,0,0)"),vt||(vt=at.getAttribute("stop-opacity")),st=new _e.Color(st),dt=st.getAlpha(),vt=isNaN(parseFloat(vt))?1:parseFloat(vt),vt*=dt*nt,{offset:ht,color:st.toRgb(),opacity:vt}}function rt(at){return{x1:at.getAttribute("x1")||0,y1:at.getAttribute("y1")||0,x2:at.getAttribute("x2")||"100%",y2:at.getAttribute("y2")||0}}function lt(at){return{x1:at.getAttribute("fx")||at.getAttribute("cx")||"50%",y1:at.getAttribute("fy")||at.getAttribute("cy")||"50%",r1:0,x2:at.getAttribute("cx")||"50%",y2:at.getAttribute("cy")||"50%",r2:at.getAttribute("r")||"50%"}}var ft=_e.util.object.clone;_e.Gradient=_e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(at){at||(at={}),at.coords||(at.coords={});var nt,ot=this;Object.keys(at).forEach(function(ht){ot[ht]=at[ht]}),this.id?this.id+="_"+_e.Object.__uid++:this.id=_e.Object.__uid++,nt={x1:at.coords.x1||0,y1:at.coords.y1||0,x2:at.coords.x2||0,y2:at.coords.y2||0},this.type==="radial"&&(nt.r1=at.coords.r1||0,nt.r2=at.coords.r2||0),this.coords=nt,this.colorStops=at.colorStops.slice()},addColorStop:function(at){for(var nt in at){var ot=new _e.Color(at[nt]);this.colorStops.push({offset:parseFloat(nt),color:ot.toRgb(),opacity:ot.getAlpha()})}return this},toObject:function(at){var nt={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return _e.util.populateWithProperties(this,nt,at),nt},toSVG:function(at,dt){var ot=ft(this.coords,!0),ht,st,dt=dt||{},vt,mt,gt=ft(this.colorStops,!0),bt=ot.r1>ot.r2,_t=this.gradientTransform?this.gradientTransform.concat():_e.iMatrix.concat(),Ct=-this.offsetX,xt=-this.offsetY,Tt=!!dt.additionalTransform,Mt=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(gt.sort(function(Kt,qt){return Kt.offset-qt.offset}),Mt==="objectBoundingBox"?(Ct/=at.width,xt/=at.height):(Ct+=at.width/2,xt+=at.height/2),at.type==="path"&&this.gradientUnits!=="percentage"&&(Ct-=at.pathOffset.x,xt-=at.pathOffset.y),_t[4]-=Ct,_t[5]-=xt,mt='id="SVGID_'+this.id+'" gradientUnits="'+Mt+'"',mt+=' gradientTransform="'+(Tt?dt.additionalTransform+" ":"")+_e.util.matrixToSVG(_t)+'" ',this.type==="linear"?vt=["<linearGradient ",mt,' x1="',ot.x1,'" y1="',ot.y1,'" x2="',ot.x2,'" y2="',ot.y2,`">
`]:this.type==="radial"&&(vt=["<radialGradient ",mt,' cx="',bt?ot.x1:ot.x2,'" cy="',bt?ot.y1:ot.y2,'" r="',bt?ot.r1:ot.r2,'" fx="',bt?ot.x2:ot.x1,'" fy="',bt?ot.y2:ot.y1,`">
`]),this.type==="radial"){if(bt)for(gt=gt.concat(),gt.reverse(),ht=0,st=gt.length;ht<st;ht++)gt[ht].offset=1-gt[ht].offset;var jt=Math.min(ot.r1,ot.r2);if(jt>0){var Gt=Math.max(ot.r1,ot.r2),zt=jt/Gt;for(ht=0,st=gt.length;ht<st;ht++)gt[ht].offset+=zt*(1-gt[ht].offset)}}for(ht=0,st=gt.length;ht<st;ht++){var Xt=gt[ht];vt.push("<stop ",'offset="',Xt.offset*100+"%",'" style="stop-color:',Xt.color,typeof Xt.opacity!="undefined"?";stop-opacity: "+Xt.opacity:";",`"/>
`)}return vt.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),vt.join("")},toLive:function(at){var nt,ot=_e.util.object.clone(this.coords),ht,st;if(!!this.type){for(this.type==="linear"?nt=at.createLinearGradient(ot.x1,ot.y1,ot.x2,ot.y2):this.type==="radial"&&(nt=at.createRadialGradient(ot.x1,ot.y1,ot.r1,ot.x2,ot.y2,ot.r2)),ht=0,st=this.colorStops.length;ht<st;ht++){var dt=this.colorStops[ht].color,vt=this.colorStops[ht].opacity,mt=this.colorStops[ht].offset;typeof vt!="undefined"&&(dt=new _e.Color(dt).setAlpha(vt).toRgba()),nt.addColorStop(mt,dt)}return nt}}}),_e.util.object.extend(_e.Gradient,{fromElement:function(at,nt,ot,ht){var st=parseFloat(ot)/(/%$/.test(ot)?100:1);st=st<0?0:st>1?1:st,isNaN(st)&&(st=1);var dt=at.getElementsByTagName("stop"),vt,mt=at.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",gt=at.getAttribute("gradientTransform")||"",bt=[],_t,Ct,xt=0,Tt=0,Mt;for(at.nodeName==="linearGradient"||at.nodeName==="LINEARGRADIENT"?(vt="linear",_t=rt(at)):(vt="radial",_t=lt(at)),Ct=dt.length;Ct--;)bt.push(ct(dt[Ct],st));Mt=_e.parseTransformAttribute(gt),it(nt,_t,ht,mt),mt==="pixels"&&(xt=-nt.left,Tt=-nt.top);var jt=new _e.Gradient({id:at.getAttribute("id"),type:vt,coords:_t,colorStops:bt,gradientUnits:mt,gradientTransform:Mt,offsetX:xt,offsetY:Tt});return jt}});function it(at,nt,ot,ht){var st,dt;Object.keys(nt).forEach(function(vt){st=nt[vt],st==="Infinity"?dt=1:st==="-Infinity"?dt=0:(dt=parseFloat(nt[vt],10),typeof st=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(st)&&(dt*=.01,ht==="pixels"&&((vt==="x1"||vt==="x2"||vt==="r2")&&(dt*=ot.viewBoxWidth||ot.width),(vt==="y1"||vt==="y2")&&(dt*=ot.viewBoxHeight||ot.height)))),nt[vt]=dt})}}(),function(){var ct=_e.util.toFixed;_e.Pattern=_e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(rt,lt){if(rt||(rt={}),this.id=_e.Object.__uid++,this.setOptions(rt),!rt.source||rt.source&&typeof rt.source!="string"){lt&&lt(this);return}else{var ft=this;this.source=_e.util.createImage(),_e.util.loadImage(rt.source,function(it,at){ft.source=it,lt&&lt(ft,at)},null,this.crossOrigin)}},toObject:function(rt){var lt=_e.Object.NUM_FRACTION_DIGITS,ft,it;return typeof this.source.src=="string"?ft=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(ft=this.source.toDataURL()),it={type:"pattern",source:ft,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:ct(this.offsetX,lt),offsetY:ct(this.offsetY,lt),patternTransform:this.patternTransform?this.patternTransform.concat():null},_e.util.populateWithProperties(this,it,rt),it},toSVG:function(rt){var lt=typeof this.source=="function"?this.source():this.source,ft=lt.width/rt.width,it=lt.height/rt.height,at=this.offsetX/rt.width,nt=this.offsetY/rt.height,ot="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(it=1,nt&&(it+=Math.abs(nt))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(ft=1,at&&(ft+=Math.abs(at))),lt.src?ot=lt.src:lt.toDataURL&&(ot=lt.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+at+'" y="'+nt+'" width="'+ft+'" height="'+it+`">
<image x="0" y="0" width="`+lt.width+'" height="'+lt.height+'" xlink:href="'+ot+`"></image>
</pattern>
`},setOptions:function(rt){for(var lt in rt)this[lt]=rt[lt]},toLive:function(rt){var lt=this.source;return!lt||typeof lt.src!="undefined"&&(!lt.complete||lt.naturalWidth===0||lt.naturalHeight===0)?"":rt.createPattern(lt,this.repeat)}})}(),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.toFixed;if(rt.Shadow){rt.warn("fabric.Shadow is already defined.");return}rt.Shadow=rt.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(ft){typeof ft=="string"&&(ft=this._parseShadow(ft));for(var it in ft)this[it]=ft[it];this.id=rt.Object.__uid++},_parseShadow:function(ft){var it=ft.trim(),at=rt.Shadow.reOffsetsAndBlur.exec(it)||[],nt=it.replace(rt.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:nt.trim(),offsetX:parseFloat(at[1],10)||0,offsetY:parseFloat(at[2],10)||0,blur:parseFloat(at[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(ft){var it=40,at=40,nt=rt.Object.NUM_FRACTION_DIGITS,ot=rt.util.rotateVector({x:this.offsetX,y:this.offsetY},rt.util.degreesToRadians(-ft.angle)),ht=20,st=new rt.Color(this.color);return ft.width&&ft.height&&(it=lt((Math.abs(ot.x)+this.blur)/ft.width,nt)*100+ht,at=lt((Math.abs(ot.y)+this.blur)/ft.height,nt)*100+ht),ft.flipX&&(ot.x*=-1),ft.flipY&&(ot.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+at+'%" height="'+(100+2*at)+'%" x="-'+it+'%" width="'+(100+2*it)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+lt(this.blur?this.blur/2:0,nt)+`"></feGaussianBlur>
	<feOffset dx="`+lt(ot.x,nt)+'" dy="'+lt(ot.y,nt)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+st.toRgb()+'" flood-opacity="'+st.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var ft={},it=rt.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(at){this[at]!==it[at]&&(ft[at]=this[at])},this),ft}}),rt.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}($),function(){if(_e.StaticCanvas){_e.warn("fabric.StaticCanvas is already defined.");return}var ct=_e.util.object.extend,rt=_e.util.getElementOffset,lt=_e.util.removeFromArray,ft=_e.util.toFixed,it=_e.util.transformPoint,at=_e.util.invertTransform,nt=_e.util.getNodeCanvas,ot=_e.util.createCanvasElement,ht=new Error("Could not initialize `canvas` element");_e.StaticCanvas=_e.util.createClass(_e.CommonMethods,{initialize:function(st,dt){dt||(dt={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(st,dt)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:_e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(st,dt){var vt=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(st),this._initOptions(dt),this.interactive||this._initRetinaScaling(),dt.overlayImage&&this.setOverlayImage(dt.overlayImage,vt),dt.backgroundImage&&this.setBackgroundImage(dt.backgroundImage,vt),dt.backgroundColor&&this.setBackgroundColor(dt.backgroundColor,vt),dt.overlayColor&&this.setOverlayColor(dt.overlayColor,vt),this.calcOffset()},_isRetinaScaling:function(){return _e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,_e.devicePixelRatio):1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var st=_e.devicePixelRatio;this.__initRetinaScaling(st,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(st,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(st,dt,vt){dt.setAttribute("width",this.width*st),dt.setAttribute("height",this.height*st),vt.scale(st,st)},calcOffset:function(){return this._offset=rt(this.lowerCanvasEl),this},setOverlayImage:function(st,dt,vt){return this.__setBgOverlayImage("overlayImage",st,dt,vt)},setBackgroundImage:function(st,dt,vt){return this.__setBgOverlayImage("backgroundImage",st,dt,vt)},setOverlayColor:function(st,dt){return this.__setBgOverlayColor("overlayColor",st,dt)},setBackgroundColor:function(st,dt){return this.__setBgOverlayColor("backgroundColor",st,dt)},__setBgOverlayImage:function(st,dt,vt,mt){return typeof dt=="string"?_e.util.loadImage(dt,function(gt,bt){if(gt){var _t=new _e.Image(gt,mt);this[st]=_t,_t.canvas=this}vt&&vt(gt,bt)},this,mt&&mt.crossOrigin):(mt&&dt.setOptions(mt),this[st]=dt,dt&&(dt.canvas=this),vt&&vt(dt,!1)),this},__setBgOverlayColor:function(st,dt,vt){return this[st]=dt,this._initGradient(dt,st),this._initPattern(dt,st,vt),this},_createCanvasElement:function(){var st=ot();if(!st||(st.style||(st.style={}),typeof st.getContext=="undefined"))throw ht;return st},_initOptions:function(st){var dt=this.lowerCanvasEl;this._setOptions(st),this.width=this.width||parseInt(dt.width,10)||0,this.height=this.height||parseInt(dt.height,10)||0,this.lowerCanvasEl.style&&(dt.width=this.width,dt.height=this.height,dt.style.width=this.width+"px",dt.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(st){st&&st.getContext?this.lowerCanvasEl=st:this.lowerCanvasEl=_e.util.getById(st)||this._createCanvasElement(),_e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(st,dt){return this.setDimensions({width:st},dt)},setHeight:function(st,dt){return this.setDimensions({height:st},dt)},setDimensions:function(st,dt){var vt;dt=dt||{};for(var mt in st)vt=st[mt],dt.cssOnly||(this._setBackstoreDimension(mt,st[mt]),vt+="px",this.hasLostContext=!0),dt.backstoreOnly||this._setCssDimension(mt,vt);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),dt.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(st,dt){return this.lowerCanvasEl[st]=dt,this.upperCanvasEl&&(this.upperCanvasEl[st]=dt),this.cacheCanvasEl&&(this.cacheCanvasEl[st]=dt),this[st]=dt,this},_setCssDimension:function(st,dt){return this.lowerCanvasEl.style[st]=dt,this.upperCanvasEl&&(this.upperCanvasEl.style[st]=dt),this.wrapperEl&&(this.wrapperEl.style[st]=dt),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(st){var dt=this._activeObject,vt=this.backgroundImage,mt=this.overlayImage,gt,bt,_t;for(this.viewportTransform=st,bt=0,_t=this._objects.length;bt<_t;bt++)gt=this._objects[bt],gt.group||gt.setCoords(!0);return dt&&dt.setCoords(),vt&&vt.setCoords(!0),mt&&mt.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(st,dt){var vt=st,mt=this.viewportTransform.slice(0);st=it(st,at(this.viewportTransform)),mt[0]=dt,mt[3]=dt;var gt=it(st,mt);return mt[4]+=vt.x-gt.x,mt[5]+=vt.y-gt.y,this.setViewportTransform(mt)},setZoom:function(st){return this.zoomToPoint(new _e.Point(0,0),st),this},absolutePan:function(st){var dt=this.viewportTransform.slice(0);return dt[4]=-st.x,dt[5]=-st.y,this.setViewportTransform(dt)},relativePan:function(st){return this.absolutePan(new _e.Point(-st.x-this.viewportTransform[4],-st.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(st){this.stateful&&st.setupState(),st._set("canvas",this),st.setCoords(),this.fire("object:added",{target:st}),st.fire("added")},_onObjectRemoved:function(st){this.fire("object:removed",{target:st}),st.fire("removed"),delete st.canvas},clearContext:function(st){return st.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var st=this.contextContainer;return this.renderCanvas(st,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=_e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var st={},dt=this.width,vt=this.height,mt=at(this.viewportTransform);return st.tl=it({x:0,y:0},mt),st.br=it({x:dt,y:vt},mt),st.tr=new _e.Point(st.br.x,st.tl.y),st.bl=new _e.Point(st.tl.x,st.br.y),this.vptCoords=st,st},cancelRequestedRender:function(){this.isRendering&&(_e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(st,dt){var vt=this.viewportTransform,mt=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(st),_e.util.setImageSmoothing(st,this.imageSmoothingEnabled),this.fire("before:render",{ctx:st}),this._renderBackground(st),st.save(),st.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]),this._renderObjects(st,dt),st.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(st),mt&&(mt.canvas=this,mt.shouldCache(),mt._transformDone=!0,mt.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(st)),this._renderOverlay(st),this.controlsAboveOverlay&&this.interactive&&this.drawControls(st),this.fire("after:render",{ctx:st})},drawClipPathOnCanvas:function(st){var dt=this.viewportTransform,vt=this.clipPath;st.save(),st.transform(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]),st.globalCompositeOperation="destination-in",vt.transform(st),st.scale(1/vt.zoomX,1/vt.zoomY),st.drawImage(vt._cacheCanvas,-vt.cacheTranslationX,-vt.cacheTranslationY),st.restore()},_renderObjects:function(st,dt){var vt,mt;for(vt=0,mt=dt.length;vt<mt;++vt)dt[vt]&&dt[vt].render(st)},_renderBackgroundOrOverlay:function(st,dt){var vt=this[dt+"Color"],mt=this[dt+"Image"],gt=this.viewportTransform,bt=this[dt+"Vpt"];if(!(!vt&&!mt)){if(vt){st.save(),st.beginPath(),st.moveTo(0,0),st.lineTo(this.width,0),st.lineTo(this.width,this.height),st.lineTo(0,this.height),st.closePath(),st.fillStyle=vt.toLive?vt.toLive(st,this):vt,bt&&st.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5]),st.transform(1,0,0,1,vt.offsetX||0,vt.offsetY||0);var _t=vt.gradientTransform||vt.patternTransform;_t&&st.transform(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5]),st.fill(),st.restore()}mt&&(st.save(),bt&&st.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5]),mt.render(st),st.restore())}},_renderBackground:function(st){this._renderBackgroundOrOverlay(st,"background")},_renderOverlay:function(st){this._renderBackgroundOrOverlay(st,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new _e.Point(this.width/2,this.height/2)},centerObjectH:function(st){return this._centerObject(st,new _e.Point(this.getCenterPoint().x,st.getCenterPoint().y))},centerObjectV:function(st){return this._centerObject(st,new _e.Point(st.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(st){var dt=this.getCenterPoint();return this._centerObject(st,dt)},viewportCenterObject:function(st){var dt=this.getVpCenter();return this._centerObject(st,dt)},viewportCenterObjectH:function(st){var dt=this.getVpCenter();return this._centerObject(st,new _e.Point(dt.x,st.getCenterPoint().y)),this},viewportCenterObjectV:function(st){var dt=this.getVpCenter();return this._centerObject(st,new _e.Point(st.getCenterPoint().x,dt.y))},getVpCenter:function(){var st=this.getCenterPoint(),dt=at(this.viewportTransform);return it(st,dt)},_centerObject:function(st,dt){return st.setPositionByOrigin(dt,"center","center"),st.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(st){return this.toDatalessObject(st)},toObject:function(st){return this._toObjectMethod("toObject",st)},toDatalessObject:function(st){return this._toObjectMethod("toDatalessObject",st)},_toObjectMethod:function(st,dt){var vt=this.clipPath,mt={version:_e.version,objects:this._toObjects(st,dt)};return vt&&!vt.excludeFromExport&&(mt.clipPath=this._toObject(this.clipPath,st,dt)),ct(mt,this.__serializeBgOverlay(st,dt)),_e.util.populateWithProperties(this,mt,dt),mt},_toObjects:function(st,dt){return this._objects.filter(function(vt){return!vt.excludeFromExport}).map(function(vt){return this._toObject(vt,st,dt)},this)},_toObject:function(st,dt,vt){var mt;this.includeDefaultValues||(mt=st.includeDefaultValues,st.includeDefaultValues=!1);var gt=st[dt](vt);return this.includeDefaultValues||(st.includeDefaultValues=mt),gt},__serializeBgOverlay:function(st,dt){var vt={},mt=this.backgroundImage,gt=this.overlayImage,bt=this.backgroundColor,_t=this.overlayColor;return bt&&bt.toObject?bt.excludeFromExport||(vt.background=bt.toObject(dt)):bt&&(vt.background=bt),_t&&_t.toObject?_t.excludeFromExport||(vt.overlay=_t.toObject(dt)):_t&&(vt.overlay=_t),mt&&!mt.excludeFromExport&&(vt.backgroundImage=this._toObject(mt,st,dt)),gt&&!gt.excludeFromExport&&(vt.overlayImage=this._toObject(gt,st,dt)),vt},svgViewportTransformation:!0,toSVG:function(st,dt){st||(st={}),st.reviver=dt;var vt=[];return this._setSVGPreamble(vt,st),this._setSVGHeader(vt,st),this.clipPath&&vt.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(vt,"background"),this._setSVGBgOverlayImage(vt,"backgroundImage",dt),this._setSVGObjects(vt,dt),this.clipPath&&vt.push(`</g>
`),this._setSVGBgOverlayColor(vt,"overlay"),this._setSVGBgOverlayImage(vt,"overlayImage",dt),vt.push("</svg>"),vt.join("")},_setSVGPreamble:function(st,dt){dt.suppressPreamble||st.push('<?xml version="1.0" encoding="',dt.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(st,dt){var vt=dt.width||this.width,mt=dt.height||this.height,gt,bt='viewBox="0 0 '+this.width+" "+this.height+'" ',_t=_e.Object.NUM_FRACTION_DIGITS;dt.viewBox?bt='viewBox="'+dt.viewBox.x+" "+dt.viewBox.y+" "+dt.viewBox.width+" "+dt.viewBox.height+'" ':this.svgViewportTransformation&&(gt=this.viewportTransform,bt='viewBox="'+ft(-gt[4]/gt[0],_t)+" "+ft(-gt[5]/gt[3],_t)+" "+ft(this.width/gt[0],_t)+" "+ft(this.height/gt[3],_t)+'" '),st.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',vt,'" ','height="',mt,'" ',bt,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",_e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(dt),`</defs>
`)},createSVGClipPathMarkup:function(st){var dt=this.clipPath;return dt?(dt.clipPathId="CLIPPATH_"+_e.Object.__uid++,'<clipPath id="'+dt.clipPathId+`" >
`+this.clipPath.toClipPathSVG(st.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var st=this,dt=["background","overlay"].map(function(vt){var mt=st[vt+"Color"];if(mt&&mt.toLive){var gt=st[vt+"Vpt"],bt=st.viewportTransform,_t={width:st.width/(gt?bt[0]:1),height:st.height/(gt?bt[3]:1)};return mt.toSVG(_t,{additionalTransform:gt?_e.util.matrixToSVG(bt):""})}});return dt.join("")},createSVGFontFacesMarkup:function(){var st="",dt={},vt,mt,gt,bt,_t,Ct,xt,Tt,Mt,jt=_e.fontPaths,Gt=[];for(this._objects.forEach(function Xt(Kt){Gt.push(Kt),Kt._objects&&Kt._objects.forEach(Xt)}),Tt=0,Mt=Gt.length;Tt<Mt;Tt++)if(vt=Gt[Tt],mt=vt.fontFamily,!(vt.type.indexOf("text")===-1||dt[mt]||!jt[mt])&&(dt[mt]=!0,!!vt.styles)){gt=vt.styles;for(_t in gt){bt=gt[_t];for(xt in bt)Ct=bt[xt],mt=Ct.fontFamily,!dt[mt]&&jt[mt]&&(dt[mt]=!0)}}for(var zt in dt)st+=[`		@font-face {
`,"			font-family: '",zt,`';
`,"			src: url('",jt[zt],`');
`,`		}
`].join("");return st&&(st=['	<style type="text/css">',`<![CDATA[
`,st,"]]>",`</style>
`].join("")),st},_setSVGObjects:function(st,dt){var vt,mt,gt,bt=this._objects;for(mt=0,gt=bt.length;mt<gt;mt++)vt=bt[mt],!vt.excludeFromExport&&this._setSVGObject(st,vt,dt)},_setSVGObject:function(st,dt,vt){st.push(dt.toSVG(vt))},_setSVGBgOverlayImage:function(st,dt,vt){this[dt]&&!this[dt].excludeFromExport&&this[dt].toSVG&&st.push(this[dt].toSVG(vt))},_setSVGBgOverlayColor:function(st,dt){var vt=this[dt+"Color"],mt=this.viewportTransform,gt=this.width,bt=this.height;if(!!vt)if(vt.toLive){var _t=vt.repeat,Ct=_e.util.invertTransform(mt),xt=this[dt+"Vpt"],Tt=xt?_e.util.matrixToSVG(Ct):"";st.push('<rect transform="'+Tt+" translate(",gt/2,",",bt/2,')"',' x="',vt.offsetX-gt/2,'" y="',vt.offsetY-bt/2,'" ','width="',_t==="repeat-y"||_t==="no-repeat"?vt.source.width:gt,'" height="',_t==="repeat-x"||_t==="no-repeat"?vt.source.height:bt,'" fill="url(#SVGID_'+vt.id+')"',`></rect>
`)}else st.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',vt,'"',`></rect>
`)},sendToBack:function(st){if(!st)return this;var dt=this._activeObject,vt,mt,gt;if(st===dt&&st.type==="activeSelection")for(gt=dt._objects,vt=gt.length;vt--;)mt=gt[vt],lt(this._objects,mt),this._objects.unshift(mt);else lt(this._objects,st),this._objects.unshift(st);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(st){if(!st)return this;var dt=this._activeObject,vt,mt,gt;if(st===dt&&st.type==="activeSelection")for(gt=dt._objects,vt=0;vt<gt.length;vt++)mt=gt[vt],lt(this._objects,mt),this._objects.push(mt);else lt(this._objects,st),this._objects.push(st);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(st,dt){if(!st)return this;var vt=this._activeObject,mt,gt,bt,_t,Ct,xt=0;if(st===vt&&st.type==="activeSelection")for(Ct=vt._objects,mt=0;mt<Ct.length;mt++)gt=Ct[mt],bt=this._objects.indexOf(gt),bt>0+xt&&(_t=bt-1,lt(this._objects,gt),this._objects.splice(_t,0,gt)),xt++;else bt=this._objects.indexOf(st),bt!==0&&(_t=this._findNewLowerIndex(st,bt,dt),lt(this._objects,st),this._objects.splice(_t,0,st));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(st,dt,vt){var mt,gt;if(vt)for(mt=dt,gt=dt-1;gt>=0;--gt){var bt=st.intersectsWithObject(this._objects[gt])||st.isContainedWithinObject(this._objects[gt])||this._objects[gt].isContainedWithinObject(st);if(bt){mt=gt;break}}else mt=dt-1;return mt},bringForward:function(st,dt){if(!st)return this;var vt=this._activeObject,mt,gt,bt,_t,Ct,xt=0;if(st===vt&&st.type==="activeSelection")for(Ct=vt._objects,mt=Ct.length;mt--;)gt=Ct[mt],bt=this._objects.indexOf(gt),bt<this._objects.length-1-xt&&(_t=bt+1,lt(this._objects,gt),this._objects.splice(_t,0,gt)),xt++;else bt=this._objects.indexOf(st),bt!==this._objects.length-1&&(_t=this._findNewUpperIndex(st,bt,dt),lt(this._objects,st),this._objects.splice(_t,0,st));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(st,dt,vt){var mt,gt,bt;if(vt)for(mt=dt,gt=dt+1,bt=this._objects.length;gt<bt;++gt){var _t=st.intersectsWithObject(this._objects[gt])||st.isContainedWithinObject(this._objects[gt])||this._objects[gt].isContainedWithinObject(st);if(_t){mt=gt;break}}else mt=dt+1;return mt},moveTo:function(st,dt){return lt(this._objects,st),this._objects.splice(dt,0,st),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(_e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(st){st.dispose&&st.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),_e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),_e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),ct(_e.StaticCanvas.prototype,_e.Observable),ct(_e.StaticCanvas.prototype,_e.Collection),ct(_e.StaticCanvas.prototype,_e.DataURLExporter),ct(_e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(st){var dt=ot();if(!dt||!dt.getContext)return null;var vt=dt.getContext("2d");if(!vt)return null;switch(st){case"setLineDash":return typeof vt.setLineDash!="undefined";default:return null}}}),_e.StaticCanvas.prototype.toJSON=_e.StaticCanvas.prototype.toObject,_e.isLikelyNode&&(_e.StaticCanvas.prototype.createPNGStream=function(){var st=nt(this.lowerCanvasEl);return st&&st.createPNGStream()},_e.StaticCanvas.prototype.createJPEGStream=function(st){var dt=nt(this.lowerCanvasEl);return dt&&dt.createJPEGStream(st)})}(),_e.BaseBrush=_e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(ct){ct.strokeStyle=this.color,ct.lineWidth=this.width,ct.lineCap=this.strokeLineCap,ct.miterLimit=this.strokeMiterLimit,ct.lineJoin=this.strokeLineJoin,ct.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(ct){var rt=this.canvas.viewportTransform;ct.save(),ct.transform(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5])},_setShadow:function(){if(!!this.shadow){var ct=this.canvas,rt=this.shadow,lt=ct.contextTop,ft=ct.getZoom();ct&&ct._isRetinaScaling()&&(ft*=_e.devicePixelRatio),lt.shadowColor=rt.color,lt.shadowBlur=rt.blur*ft,lt.shadowOffsetX=rt.offsetX*ft,lt.shadowOffsetY=rt.offsetY*ft}},needsFullRender:function(){var ct=new _e.Color(this.color);return ct.getAlpha()<1||!!this.shadow},_resetShadow:function(){var ct=this.canvas.contextTop;ct.shadowColor="",ct.shadowBlur=ct.shadowOffsetX=ct.shadowOffsetY=0},_isOutSideCanvas:function(ct){return ct.x<0||ct.x>this.canvas.getWidth()||ct.y<0||ct.y>this.canvas.getHeight()}}),function(){_e.PencilBrush=_e.util.createClass(_e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(ct){this.canvas=ct,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(ct,rt,lt){var ft=rt.midPointFrom(lt);return ct.quadraticCurveTo(rt.x,rt.y,ft.x,ft.y),ft},onMouseDown:function(ct,rt){!this.canvas._isMainEvent(rt.e)||(this.drawStraightLine=rt.e[this.straightLineKey],this._prepareForDrawing(ct),this._captureDrawingPath(ct),this._render())},onMouseMove:function(ct,rt){if(!!this.canvas._isMainEvent(rt.e)&&(this.drawStraightLine=rt.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(ct))&&this._captureDrawingPath(ct)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var lt=this._points,ft=lt.length,it=this.canvas.contextTop;this._saveAndTransform(it),this.oldEnd&&(it.beginPath(),it.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(it,lt[ft-2],lt[ft-1],!0),it.stroke(),it.restore()}},onMouseUp:function(ct){return this.canvas._isMainEvent(ct.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(ct){var rt=new _e.Point(ct.x,ct.y);this._reset(),this._addPoint(rt),this.canvas.contextTop.moveTo(rt.x,rt.y)},_addPoint:function(ct){return this._points.length>1&&ct.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(ct),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(ct){var rt=new _e.Point(ct.x,ct.y);return this._addPoint(rt)},_render:function(ct){var rt,lt,ft=this._points[0],it=this._points[1];if(ct=ct||this.canvas.contextTop,this._saveAndTransform(ct),ct.beginPath(),this._points.length===2&&ft.x===it.x&&ft.y===it.y){var at=this.width/1e3;ft=new _e.Point(ft.x,ft.y),it=new _e.Point(it.x,it.y),ft.x-=at,it.x+=at}for(ct.moveTo(ft.x,ft.y),rt=1,lt=this._points.length;rt<lt;rt++)this._drawSegment(ct,ft,it),ft=this._points[rt],it=this._points[rt+1];ct.lineTo(ft.x,ft.y),ct.stroke(),ct.restore()},convertPointsToSVGPath:function(ct){var rt=this.width/1e3;return _e.util.getSmoothPathFromPoints(ct,rt)},_isEmptySVGPath:function(ct){var rt=_e.util.joinPath(ct);return rt==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(ct){var rt=new _e.Path(ct,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,rt.shadow=new _e.Shadow(this.shadow)),rt},decimatePoints:function(ct,rt){if(ct.length<=2)return ct;var lt=this.canvas.getZoom(),ft=Math.pow(rt/lt,2),it,at=ct.length-1,nt=ct[0],ot=[nt],ht;for(it=1;it<at-1;it++)ht=Math.pow(nt.x-ct[it].x,2)+Math.pow(nt.y-ct[it].y,2),ht>=ft&&(nt=ct[it],ot.push(nt));return ot.push(ct[at]),ot},_finalizeAndAddPath:function(){var ct=this.canvas.contextTop;ct.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var rt=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(rt)){this.canvas.requestRenderAll();return}var lt=this.createPath(rt);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:lt}),this.canvas.add(lt),this.canvas.requestRenderAll(),lt.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:lt})}})}(),_e.CircleBrush=_e.util.createClass(_e.BaseBrush,{width:10,initialize:function(ct){this.canvas=ct,this.points=[]},drawDot:function(ct){var rt=this.addPoint(ct),lt=this.canvas.contextTop;this._saveAndTransform(lt),this.dot(lt,rt),lt.restore()},dot:function(ct,rt){ct.fillStyle=rt.fill,ct.beginPath(),ct.arc(rt.x,rt.y,rt.radius,0,Math.PI*2,!1),ct.closePath(),ct.fill()},onMouseDown:function(ct){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(ct)},_render:function(){var ct=this.canvas.contextTop,rt,lt,ft=this.points;for(this._saveAndTransform(ct),rt=0,lt=ft.length;rt<lt;rt++)this.dot(ct,ft[rt]);ct.restore()},onMouseMove:function(ct){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(ct)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(ct),this._render()):this.drawDot(ct))},onMouseUp:function(){var ct=this.canvas.renderOnAddRemove,rt,lt;this.canvas.renderOnAddRemove=!1;var ft=[];for(rt=0,lt=this.points.length;rt<lt;rt++){var it=this.points[rt],at=new _e.Circle({radius:it.radius,left:it.x,top:it.y,originX:"center",originY:"center",fill:it.fill});this.shadow&&(at.shadow=new _e.Shadow(this.shadow)),ft.push(at)}var nt=new _e.Group(ft);nt.canvas=this.canvas,this.canvas.fire("before:path:created",{path:nt}),this.canvas.add(nt),this.canvas.fire("path:created",{path:nt}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=ct,this.canvas.requestRenderAll()},addPoint:function(ct){var rt=new _e.Point(ct.x,ct.y),lt=_e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,ft=new _e.Color(this.color).setAlpha(_e.util.getRandomInt(0,100)/100).toRgba();return rt.radius=lt,rt.fill=ft,this.points.push(rt),rt}}),_e.SprayBrush=_e.util.createClass(_e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(ct){this.canvas=ct,this.sprayChunks=[]},onMouseDown:function(ct){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(ct),this.render(this.sprayChunkPoints)},onMouseMove:function(ct){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(ct)||(this.addSprayChunk(ct),this.render(this.sprayChunkPoints))},onMouseUp:function(){var ct=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var rt=[],lt=0,ft=this.sprayChunks.length;lt<ft;lt++)for(var it=this.sprayChunks[lt],at=0,nt=it.length;at<nt;at++){var ot=new _e.Rect({width:it[at].width,height:it[at].width,left:it[at].x+1,top:it[at].y+1,originX:"center",originY:"center",fill:this.color});rt.push(ot)}this.optimizeOverlapping&&(rt=this._getOptimizedRects(rt));var ht=new _e.Group(rt);this.shadow&&ht.set("shadow",new _e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:ht}),this.canvas.add(ht),this.canvas.fire("path:created",{path:ht}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=ct,this.canvas.requestRenderAll()},_getOptimizedRects:function(ct){var rt={},lt,ft,it;for(ft=0,it=ct.length;ft<it;ft++)lt=ct[ft].left+""+ct[ft].top,rt[lt]||(rt[lt]=ct[ft]);var at=[];for(lt in rt)at.push(rt[lt]);return at},render:function(ct){var rt=this.canvas.contextTop,lt,ft;for(rt.fillStyle=this.color,this._saveAndTransform(rt),lt=0,ft=ct.length;lt<ft;lt++){var it=ct[lt];typeof it.opacity!="undefined"&&(rt.globalAlpha=it.opacity),rt.fillRect(it.x,it.y,it.width,it.width)}rt.restore()},_render:function(){var ct=this.canvas.contextTop,rt,lt;for(ct.fillStyle=this.color,this._saveAndTransform(ct),rt=0,lt=this.sprayChunks.length;rt<lt;rt++)this.render(this.sprayChunks[rt]);ct.restore()},addSprayChunk:function(ct){this.sprayChunkPoints=[];var rt,lt,ft,it=this.width/2,at;for(at=0;at<this.density;at++){rt=_e.util.getRandomInt(ct.x-it,ct.x+it),lt=_e.util.getRandomInt(ct.y-it,ct.y+it),this.dotWidthVariance?ft=_e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):ft=this.dotWidth;var nt=new _e.Point(rt,lt);nt.width=ft,this.randomOpacity&&(nt.opacity=_e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(nt)}this.sprayChunks.push(this.sprayChunkPoints)}}),_e.PatternBrush=_e.util.createClass(_e.PencilBrush,{getPatternSrc:function(){var ct=20,rt=5,lt=_e.util.createCanvasElement(),ft=lt.getContext("2d");return lt.width=lt.height=ct+rt,ft.fillStyle=this.color,ft.beginPath(),ft.arc(ct/2,ct/2,ct/2,0,Math.PI*2,!1),ft.closePath(),ft.fill(),lt},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(ct){return ct.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(ct){this.callSuper("_setBrushStyles",ct),ct.strokeStyle=this.getPattern(ct)},createPath:function(ct){var rt=this.callSuper("createPath",ct),lt=rt._getLeftTopCoords().scalarAdd(rt.strokeWidth/2);return rt.stroke=new _e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-lt.x,offsetY:-lt.y}),rt}}),function(){var ct=_e.util.getPointer,rt=_e.util.degreesToRadians,lt=_e.util.isTouchEvent;_e.Canvas=_e.util.createClass(_e.StaticCanvas,{initialize:function(it,at){at||(at={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(it,at),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=_e.PencilBrush&&new _e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var it=this.getActiveObjects(),at,nt,ot;if(it.length>0&&!this.preserveObjectStacking){nt=[],ot=[];for(var ht=0,st=this._objects.length;ht<st;ht++)at=this._objects[ht],it.indexOf(at)===-1?nt.push(at):ot.push(at);it.length>1&&(this._activeObject._objects=ot),nt.push.apply(nt,ot)}else nt=this._objects;return nt},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var it=this.contextContainer;return this.renderCanvas(it,this._chooseObjectsToRender()),this},renderTopLayer:function(it){it.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(it),this.contextTopDirty=!0),it.restore()},renderTop:function(){var it=this.contextTop;return this.clearContext(it),this.renderTopLayer(it),this.fire("after:render"),this},_normalizePointer:function(it,at){var nt=it.calcTransformMatrix(),ot=_e.util.invertTransform(nt),ht=this.restorePointerVpt(at);return _e.util.transformPoint(ht,ot)},isTargetTransparent:function(it,at,nt){if(it.shouldCache()&&it._cacheCanvas&&it!==this._activeObject){var ot=this._normalizePointer(it,{x:at,y:nt}),ht=Math.max(it.cacheTranslationX+ot.x*it.zoomX,0),st=Math.max(it.cacheTranslationY+ot.y*it.zoomY,0),gt=_e.util.isTransparent(it._cacheContext,Math.round(ht),Math.round(st),this.targetFindTolerance);return gt}var dt=this.contextCache,vt=it.selectionBackgroundColor,mt=this.viewportTransform;it.selectionBackgroundColor="",this.clearContext(dt),dt.save(),dt.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]),it.render(dt),dt.restore(),it.selectionBackgroundColor=vt;var gt=_e.util.isTransparent(dt,at,nt,this.targetFindTolerance);return gt},_isSelectionKeyPressed:function(it){var at=!1;return Array.isArray(this.selectionKey)?at=!!this.selectionKey.find(function(nt){return it[nt]===!0}):at=it[this.selectionKey],at},_shouldClearSelection:function(it,at){var nt=this.getActiveObjects(),ot=this._activeObject;return!at||at&&ot&&nt.length>1&&nt.indexOf(at)===-1&&ot!==at&&!this._isSelectionKeyPressed(it)||at&&!at.evented||at&&!at.selectable&&ot&&ot!==at},_shouldCenterTransform:function(it,at,nt){if(!!it){var ot;return at==="scale"||at==="scaleX"||at==="scaleY"||at==="resizing"?ot=this.centeredScaling||it.centeredScaling:at==="rotate"&&(ot=this.centeredRotation||it.centeredRotation),ot?!nt:nt}},_getOriginFromCorner:function(it,at){var nt={x:it.originX,y:it.originY};return at==="ml"||at==="tl"||at==="bl"?nt.x="right":(at==="mr"||at==="tr"||at==="br")&&(nt.x="left"),at==="tl"||at==="mt"||at==="tr"?nt.y="bottom":(at==="bl"||at==="mb"||at==="br")&&(nt.y="top"),nt},_getActionFromCorner:function(it,at,nt,ot){if(!at||!it)return"drag";var ht=ot.controls[at];return ht.getActionName(nt,ht,ot)},_setupCurrentTransform:function(it,at,nt){if(!!at){var ot=this.getPointer(it),ht=at.__corner,st=at.controls[ht],dt=nt&&ht?st.getActionHandler(it,at,st):_e.controlsUtils.dragHandler,vt=this._getActionFromCorner(nt,ht,it,at),mt=this._getOriginFromCorner(at,ht),gt=it[this.centeredKey],bt={target:at,action:vt,actionHandler:dt,corner:ht,scaleX:at.scaleX,scaleY:at.scaleY,skewX:at.skewX,skewY:at.skewY,offsetX:ot.x-at.left,offsetY:ot.y-at.top,originX:mt.x,originY:mt.y,ex:ot.x,ey:ot.y,lastX:ot.x,lastY:ot.y,theta:rt(at.angle),width:at.width*at.scaleX,shiftKey:it.shiftKey,altKey:gt,original:_e.util.saveObjectTransform(at)};this._shouldCenterTransform(at,vt,gt)&&(bt.originX="center",bt.originY="center"),bt.original.originX=mt.x,bt.original.originY=mt.y,this._currentTransform=bt,this._beforeTransform(it)}},setCursor:function(it){this.upperCanvasEl.style.cursor=it},_drawSelection:function(it){var at=this._groupSelector,nt=new _e.Point(at.ex,at.ey),ot=_e.util.transformPoint(nt,this.viewportTransform),ht=new _e.Point(at.ex+at.left,at.ey+at.top),st=_e.util.transformPoint(ht,this.viewportTransform),dt=Math.min(ot.x,st.x),vt=Math.min(ot.y,st.y),mt=Math.max(ot.x,st.x),gt=Math.max(ot.y,st.y),bt=this.selectionLineWidth/2;this.selectionColor&&(it.fillStyle=this.selectionColor,it.fillRect(dt,vt,mt-dt,gt-vt)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(it.lineWidth=this.selectionLineWidth,it.strokeStyle=this.selectionBorderColor,dt+=bt,vt+=bt,mt-=bt,gt-=bt,_e.Object.prototype._setLineDash.call(this,it,this.selectionDashArray),it.strokeRect(dt,vt,mt-dt,gt-vt))},findTarget:function(it,at){if(!this.skipTargetFind){var nt=!0,ot=this.getPointer(it,nt),ht=this._activeObject,st=this.getActiveObjects(),dt,vt,mt=lt(it),gt=st.length>1&&!at||st.length===1;if(this.targets=[],gt&&ht._findTargetCorner(ot,mt)||st.length>1&&!at&&ht===this._searchPossibleTargets([ht],ot))return ht;if(st.length===1&&ht===this._searchPossibleTargets([ht],ot))if(this.preserveObjectStacking)dt=ht,vt=this.targets,this.targets=[];else return ht;var bt=this._searchPossibleTargets(this._objects,ot);return it[this.altSelectionKey]&&bt&&dt&&bt!==dt&&(bt=dt,this.targets=vt),bt}},_checkTarget:function(it,at,nt){if(at&&at.visible&&at.evented&&at.containsPoint(it))if((this.perPixelTargetFind||at.perPixelTargetFind)&&!at.isEditing){var ot=this.isTargetTransparent(at,nt.x,nt.y);if(!ot)return!0}else return!0},_searchPossibleTargets:function(it,at){for(var nt,ot=it.length,ht;ot--;){var st=it[ot],dt=st.group?this._normalizePointer(st.group,at):at;if(this._checkTarget(dt,st,at)){nt=it[ot],nt.subTargetCheck&&nt instanceof _e.Group&&(ht=this._searchPossibleTargets(nt._objects,at),ht&&this.targets.push(ht));break}}return nt},restorePointerVpt:function(it){return _e.util.transformPoint(it,_e.util.invertTransform(this.viewportTransform))},getPointer:function(it,at){if(this._absolutePointer&&!at)return this._absolutePointer;if(this._pointer&&at)return this._pointer;var nt=ct(it),ot=this.upperCanvasEl,ht=ot.getBoundingClientRect(),st=ht.width||0,dt=ht.height||0,vt;(!st||!dt)&&("top"in ht&&"bottom"in ht&&(dt=Math.abs(ht.top-ht.bottom)),"right"in ht&&"left"in ht&&(st=Math.abs(ht.right-ht.left))),this.calcOffset(),nt.x=nt.x-this._offset.left,nt.y=nt.y-this._offset.top,at||(nt=this.restorePointerVpt(nt));var mt=this.getRetinaScaling();return mt!==1&&(nt.x/=mt,nt.y/=mt),st===0||dt===0?vt={width:1,height:1}:vt={width:ot.width/st,height:ot.height/dt},{x:nt.x*vt.width,y:nt.y*vt.height}},_createUpperCanvas:function(){var it=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),at=this.lowerCanvasEl,nt=this.upperCanvasEl;nt?nt.className="":(nt=this._createCanvasElement(),this.upperCanvasEl=nt),_e.util.addClass(nt,"upper-canvas "+it),this.wrapperEl.appendChild(nt),this._copyCanvasStyle(at,nt),this._applyCanvasStyle(nt),this.contextTop=nt.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=_e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),_e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),_e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(it){var at=this.width||it.width,nt=this.height||it.height;_e.util.setStyle(it,{position:"absolute",width:at+"px",height:nt+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),it.width=at,it.height=nt,_e.util.makeElementUnselectable(it)},_copyCanvasStyle:function(it,at){at.style.cssText=it.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var it=this._activeObject;return it?it.type==="activeSelection"&&it._objects?it._objects.slice(0):[it]:[]},_onObjectRemoved:function(it){it===this._activeObject&&(this.fire("before:selection:cleared",{target:it}),this._discardActiveObject(),this.fire("selection:cleared",{target:it}),it.fire("deselected")),it===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",it)},_fireSelectionEvents:function(it,at){var nt=!1,ot=this.getActiveObjects(),ht=[],st=[];it.forEach(function(dt){ot.indexOf(dt)===-1&&(nt=!0,dt.fire("deselected",{e:at,target:dt}),st.push(dt))}),ot.forEach(function(dt){it.indexOf(dt)===-1&&(nt=!0,dt.fire("selected",{e:at,target:dt}),ht.push(dt))}),it.length>0&&ot.length>0?nt&&this.fire("selection:updated",{e:at,selected:ht,deselected:st}):ot.length>0?this.fire("selection:created",{e:at,selected:ht}):it.length>0&&this.fire("selection:cleared",{e:at,deselected:st})},setActiveObject:function(it,at){var nt=this.getActiveObjects();return this._setActiveObject(it,at),this._fireSelectionEvents(nt,at),this},_setActiveObject:function(it,at){return this._activeObject===it||!this._discardActiveObject(at,it)||it.onSelect({e:at})?!1:(this._activeObject=it,!0)},_discardActiveObject:function(it,at){var nt=this._activeObject;if(nt){if(nt.onDeselect({e:it,object:at}))return!1;this._activeObject=null}return!0},discardActiveObject:function(it){var at=this.getActiveObjects(),nt=this.getActiveObject();return at.length&&this.fire("before:selection:cleared",{target:nt,e:it}),this._discardActiveObject(it),this._fireSelectionEvents(at,it),this},dispose:function(){var it=this.wrapperEl;return this.removeListeners(),it.removeChild(this.upperCanvasEl),it.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(at){_e.util.cleanUpJsdomNode(this[at]),this[at]=void 0}.bind(this)),it.parentNode&&it.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,_e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(it){var at=this._activeObject;at&&at._renderControls(it)},_toObject:function(it,at,nt){var ot=this._realizeGroupTransformOnObject(it),ht=this.callSuper("_toObject",it,at,nt);return this._unwindGroupTransformOnObject(it,ot),ht},_realizeGroupTransformOnObject:function(it){if(it.group&&it.group.type==="activeSelection"&&this._activeObject===it.group){var at=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],nt={};return at.forEach(function(ot){nt[ot]=it[ot]}),_e.util.addTransformToObject(it,this._activeObject.calcOwnMatrix()),nt}else return null},_unwindGroupTransformOnObject:function(it,at){at&&it.set(at)},_setSVGObject:function(it,at,nt){var ot=this._realizeGroupTransformOnObject(at);this.callSuper("_setSVGObject",it,at,nt),this._unwindGroupTransformOnObject(at,ot)},setViewportTransform:function(it){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),_e.StaticCanvas.prototype.setViewportTransform.call(this,it)}});for(var ft in _e.StaticCanvas)ft!=="prototype"&&(_e.Canvas[ft]=_e.StaticCanvas[ft])}(),function(){var ct=_e.util.addListener,rt=_e.util.removeListener,lt=3,ft=2,it=1,at={passive:!1};function nt(ot,ht){return ot.button&&ot.button===ht-1}_e.util.object.extend(_e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(ct,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(ot,ht){var st=this.upperCanvasEl,dt=this._getEventPrefix();ot(_e.window,"resize",this._onResize),ot(st,dt+"down",this._onMouseDown),ot(st,dt+"move",this._onMouseMove,at),ot(st,dt+"out",this._onMouseOut),ot(st,dt+"enter",this._onMouseEnter),ot(st,"wheel",this._onMouseWheel),ot(st,"contextmenu",this._onContextMenu),ot(st,"dblclick",this._onDoubleClick),ot(st,"dragover",this._onDragOver),ot(st,"dragenter",this._onDragEnter),ot(st,"dragleave",this._onDragLeave),ot(st,"drop",this._onDrop),this.enablePointerEvents||ot(st,"touchstart",this._onTouchStart,at),typeof eventjs!="undefined"&&ht in eventjs&&(eventjs[ht](st,"gesture",this._onGesture),eventjs[ht](st,"drag",this._onDrag),eventjs[ht](st,"orientation",this._onOrientationChange),eventjs[ht](st,"shake",this._onShake),eventjs[ht](st,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(rt,"remove");var ot=this._getEventPrefix();rt(_e.document,ot+"up",this._onMouseUp),rt(_e.document,"touchend",this._onTouchEnd,at),rt(_e.document,ot+"move",this._onMouseMove,at),rt(_e.document,"touchmove",this._onMouseMove,at)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(ot,ht){this.__onTransformGesture&&this.__onTransformGesture(ot,ht)},_onDrag:function(ot,ht){this.__onDrag&&this.__onDrag(ot,ht)},_onMouseWheel:function(ot){this.__onMouseWheel(ot)},_onMouseOut:function(ot){var ht=this._hoveredTarget;this.fire("mouse:out",{target:ht,e:ot}),this._hoveredTarget=null,ht&&ht.fire("mouseout",{e:ot});var st=this;this._hoveredTargets.forEach(function(dt){st.fire("mouse:out",{target:ht,e:ot}),dt&&ht.fire("mouseout",{e:ot})}),this._hoveredTargets=[]},_onMouseEnter:function(ot){!this._currentTransform&&!this.findTarget(ot)&&(this.fire("mouse:over",{target:null,e:ot}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(ot,ht){this.__onOrientationChange&&this.__onOrientationChange(ot,ht)},_onShake:function(ot,ht){this.__onShake&&this.__onShake(ot,ht)},_onLongPress:function(ot,ht){this.__onLongPress&&this.__onLongPress(ot,ht)},_onDragOver:function(ot){ot.preventDefault();var ht=this._simpleEventHandler("dragover",ot);this._fireEnterLeaveEvents(ht,ot)},_onDrop:function(ot){return this._simpleEventHandler("drop:before",ot),this._simpleEventHandler("drop",ot)},_onContextMenu:function(ot){return this.stopContextMenu&&(ot.stopPropagation(),ot.preventDefault()),!1},_onDoubleClick:function(ot){this._cacheTransformEventData(ot),this._handleEvent(ot,"dblclick"),this._resetTransformEventData(ot)},getPointerId:function(ot){var ht=ot.changedTouches;return ht?ht[0]&&ht[0].identifier:this.enablePointerEvents?ot.pointerId:-1},_isMainEvent:function(ot){return ot.isPrimary===!0?!0:ot.isPrimary===!1?!1:ot.type==="touchend"&&ot.touches.length===0?!0:ot.changedTouches?ot.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(ot){ot.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(ot)),this.__onMouseDown(ot),this._resetTransformEventData();var ht=this.upperCanvasEl,st=this._getEventPrefix();ct(_e.document,"touchend",this._onTouchEnd,at),ct(_e.document,"touchmove",this._onMouseMove,at),rt(ht,st+"down",this._onMouseDown)},_onMouseDown:function(ot){this.__onMouseDown(ot),this._resetTransformEventData();var ht=this.upperCanvasEl,st=this._getEventPrefix();rt(ht,st+"move",this._onMouseMove,at),ct(_e.document,st+"up",this._onMouseUp),ct(_e.document,st+"move",this._onMouseMove,at)},_onTouchEnd:function(ot){if(!(ot.touches.length>0)){this.__onMouseUp(ot),this._resetTransformEventData(),this.mainTouchId=null;var ht=this._getEventPrefix();rt(_e.document,"touchend",this._onTouchEnd,at),rt(_e.document,"touchmove",this._onMouseMove,at);var st=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){ct(st.upperCanvasEl,ht+"down",st._onMouseDown),st._willAddMouseDown=0},400)}},_onMouseUp:function(ot){this.__onMouseUp(ot),this._resetTransformEventData();var ht=this.upperCanvasEl,st=this._getEventPrefix();this._isMainEvent(ot)&&(rt(_e.document,st+"up",this._onMouseUp),rt(_e.document,st+"move",this._onMouseMove,at),ct(ht,st+"move",this._onMouseMove,at))},_onMouseMove:function(ot){!this.allowTouchScrolling&&ot.preventDefault&&ot.preventDefault(),this.__onMouseMove(ot)},_onResize:function(){this.calcOffset()},_shouldRender:function(ot){var ht=this._activeObject;return!!ht!=!!ot||ht&&ot&&ht!==ot?!0:(ht&&ht.isEditing,!1)},__onMouseUp:function(ot){var ht,st=this._currentTransform,dt=this._groupSelector,vt=!1,mt=!dt||dt.left===0&&dt.top===0;if(this._cacheTransformEventData(ot),ht=this._target,this._handleEvent(ot,"up:before"),nt(ot,lt)){this.fireRightClick&&this._handleEvent(ot,"up",lt,mt);return}if(nt(ot,ft)){this.fireMiddleClick&&this._handleEvent(ot,"up",ft,mt),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(ot);return}if(!!this._isMainEvent(ot)){if(st&&(this._finalizeCurrentTransform(ot),vt=st.actionPerformed),!mt){var gt=ht===this._activeObject;this._maybeGroupObjects(ot),vt||(vt=this._shouldRender(ht)||!gt&&ht===this._activeObject)}var bt,_t;if(ht){if(bt=ht._findTargetCorner(this.getPointer(ot,!0),_e.util.isTouchEvent(ot)),ht.selectable&&ht!==this._activeObject&&ht.activeOn==="up")this.setActiveObject(ht,ot),vt=!0;else{var Ct=ht.controls[bt],xt=Ct&&Ct.getMouseUpHandler(ot,ht,Ct);xt&&(_t=this.getPointer(ot),xt(ot,st,_t.x,_t.y))}ht.isMoving=!1}if(st&&(st.target!==ht||st.corner!==bt)){var Tt=st.target&&st.target.controls[st.corner],Mt=Tt&&Tt.getMouseUpHandler(ot,ht,Ct);_t=_t||this.getPointer(ot),Mt&&Mt(ot,st,_t.x,_t.y)}this._setCursorFromEvent(ot,ht),this._handleEvent(ot,"up",it,mt),this._groupSelector=null,this._currentTransform=null,ht&&(ht.__corner=0),vt?this.requestRenderAll():mt||this.renderTop()}},_simpleEventHandler:function(ot,ht){var st=this.findTarget(ht),dt=this.targets,vt={e:ht,target:st,subTargets:dt};if(this.fire(ot,vt),st&&st.fire(ot,vt),!dt)return st;for(var mt=0;mt<dt.length;mt++)dt[mt].fire(ot,vt);return st},_handleEvent:function(ot,ht,st,dt){var vt=this._target,mt=this.targets||[],gt={e:ot,target:vt,subTargets:mt,button:st||it,isClick:dt||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};ht==="up"&&(gt.currentTarget=this.findTarget(ot),gt.currentSubTargets=this.targets),this.fire("mouse:"+ht,gt),vt&&vt.fire("mouse"+ht,gt);for(var bt=0;bt<mt.length;bt++)mt[bt].fire("mouse"+ht,gt)},_finalizeCurrentTransform:function(ot){var ht=this._currentTransform,st=ht.target,dt={e:ot,target:st,transform:ht,action:ht.action};st._scaling&&(st._scaling=!1),st.setCoords(),(ht.actionPerformed||this.stateful&&st.hasStateChanged())&&this._fire("modified",dt)},_onMouseDownInDrawingMode:function(ot){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(ot).requestRenderAll();var ht=this.getPointer(ot);this.freeDrawingBrush.onMouseDown(ht,{e:ot,pointer:ht}),this._handleEvent(ot,"down")},_onMouseMoveInDrawingMode:function(ot){if(this._isCurrentlyDrawing){var ht=this.getPointer(ot);this.freeDrawingBrush.onMouseMove(ht,{e:ot,pointer:ht})}this.setCursor(this.freeDrawingCursor),this._handleEvent(ot,"move")},_onMouseUpInDrawingMode:function(ot){var ht=this.getPointer(ot);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:ot,pointer:ht}),this._handleEvent(ot,"up")},__onMouseDown:function(ot){this._cacheTransformEventData(ot),this._handleEvent(ot,"down:before");var ht=this._target;if(nt(ot,lt)){this.fireRightClick&&this._handleEvent(ot,"down",lt);return}if(nt(ot,ft)){this.fireMiddleClick&&this._handleEvent(ot,"down",ft);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(ot);return}if(!!this._isMainEvent(ot)&&!this._currentTransform){var st=this._pointer;this._previousPointer=st;var dt=this._shouldRender(ht),vt=this._shouldGroup(ot,ht);if(this._shouldClearSelection(ot,ht)?this.discardActiveObject(ot):vt&&(this._handleGrouping(ot,ht),ht=this._activeObject),this.selection&&(!ht||!ht.selectable&&!ht.isEditing&&ht!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),ht){var mt=ht===this._activeObject;ht.selectable&&ht.activeOn==="down"&&this.setActiveObject(ht,ot);var gt=ht._findTargetCorner(this.getPointer(ot,!0),_e.util.isTouchEvent(ot));if(ht.__corner=gt,ht===this._activeObject&&(gt||!vt)){this._setupCurrentTransform(ot,ht,mt);var bt=ht.controls[gt],st=this.getPointer(ot),_t=bt&&bt.getMouseDownHandler(ot,ht,bt);_t&&_t(ot,this._currentTransform,st.x,st.y)}}this._handleEvent(ot,"down"),(dt||vt)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(ot){this._resetTransformEventData(),this._pointer=this.getPointer(ot,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(ot)||null},_beforeTransform:function(ot){var ht=this._currentTransform;this.stateful&&ht.target.saveState(),this.fire("before:transform",{e:ot,transform:ht})},__onMouseMove:function(ot){this._handleEvent(ot,"move:before"),this._cacheTransformEventData(ot);var ht,st;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(ot);return}if(!!this._isMainEvent(ot)){var dt=this._groupSelector;dt?(st=this._absolutePointer,dt.left=st.x-dt.ex,dt.top=st.y-dt.ey,this.renderTop()):this._currentTransform?this._transformObject(ot):(ht=this.findTarget(ot)||null,this._setCursorFromEvent(ot,ht),this._fireOverOutEvents(ht,ot)),this._handleEvent(ot,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(ot,ht){var st=this._hoveredTarget,dt=this._hoveredTargets,vt=this.targets,mt=Math.max(dt.length,vt.length);this.fireSyntheticInOutEvents(ot,ht,{oldTarget:st,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var gt=0;gt<mt;gt++)this.fireSyntheticInOutEvents(vt[gt],ht,{oldTarget:dt[gt],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=ot,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(ot,ht){var st=this._draggedoverTarget,dt=this._hoveredTargets,vt=this.targets,mt=Math.max(dt.length,vt.length);this.fireSyntheticInOutEvents(ot,ht,{oldTarget:st,evtOut:"dragleave",evtIn:"dragenter"});for(var gt=0;gt<mt;gt++)this.fireSyntheticInOutEvents(vt[gt],ht,{oldTarget:dt[gt],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=ot},fireSyntheticInOutEvents:function(ot,ht,st){var dt,vt,mt=st.oldTarget,gt,bt,_t=mt!==ot,Ct=st.canvasEvtIn,xt=st.canvasEvtOut;_t&&(dt={e:ht,target:ot,previousTarget:mt},vt={e:ht,target:mt,nextTarget:ot}),bt=ot&&_t,gt=mt&&_t,gt&&(xt&&this.fire(xt,vt),mt.fire(st.evtOut,vt)),bt&&(Ct&&this.fire(Ct,dt),ot.fire(st.evtIn,dt))},__onMouseWheel:function(ot){this._cacheTransformEventData(ot),this._handleEvent(ot,"wheel"),this._resetTransformEventData()},_transformObject:function(ot){var ht=this.getPointer(ot),st=this._currentTransform;st.reset=!1,st.shiftKey=ot.shiftKey,st.altKey=ot[this.centeredKey],this._performTransformAction(ot,st,ht),st.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(ot,ht,st){var dt=st.x,vt=st.y,mt=ht.action,gt=!1,bt=ht.actionHandler;bt&&(gt=bt(ot,ht,dt,vt)),mt==="drag"&&gt&&(ht.target.isMoving=!0,this.setCursor(ht.target.moveCursor||this.moveCursor)),ht.actionPerformed=ht.actionPerformed||gt},_fire:_e.controlsUtils.fireEvent,_setCursorFromEvent:function(ot,ht){if(!ht)return this.setCursor(this.defaultCursor),!1;var st=ht.hoverCursor||this.hoverCursor,dt=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,vt=(!dt||!dt.contains(ht))&&ht._findTargetCorner(this.getPointer(ot,!0));vt?this.setCursor(this.getCornerCursor(vt,ht,ot)):(ht.subTargetCheck&&this.targets.concat().reverse().map(function(mt){st=mt.hoverCursor||st}),this.setCursor(st))},getCornerCursor:function(ot,ht,st){var dt=ht.controls[ot];return dt.cursorStyleHandler(st,dt,ht)}})}(),function(){var ct=Math.min,rt=Math.max;_e.util.object.extend(_e.Canvas.prototype,{_shouldGroup:function(lt,ft){var it=this._activeObject;return it&&this._isSelectionKeyPressed(lt)&&ft&&ft.selectable&&this.selection&&(it!==ft||it.type==="activeSelection")&&!ft.onSelect({e:lt})},_handleGrouping:function(lt,ft){var it=this._activeObject;it.__corner||ft===it&&(ft=this.findTarget(lt,!0),!ft||!ft.selectable)||(it&&it.type==="activeSelection"?this._updateActiveSelection(ft,lt):this._createActiveSelection(ft,lt))},_updateActiveSelection:function(lt,ft){var it=this._activeObject,at=it._objects.slice(0);it.contains(lt)?(it.removeWithUpdate(lt),this._hoveredTarget=lt,this._hoveredTargets=this.targets.concat(),it.size()===1&&this._setActiveObject(it.item(0),ft)):(it.addWithUpdate(lt),this._hoveredTarget=it,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(at,ft)},_createActiveSelection:function(lt,ft){var it=this.getActiveObjects(),at=this._createGroup(lt);this._hoveredTarget=at,this._setActiveObject(at,ft),this._fireSelectionEvents(it,ft)},_createGroup:function(lt){var ft=this._objects,it=ft.indexOf(this._activeObject)<ft.indexOf(lt),at=it?[this._activeObject,lt]:[lt,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new _e.ActiveSelection(at,{canvas:this})},_groupSelectedObjects:function(lt){var ft=this._collectObjects(lt),it;ft.length===1?this.setActiveObject(ft[0],lt):ft.length>1&&(it=new _e.ActiveSelection(ft.reverse(),{canvas:this}),this.setActiveObject(it,lt))},_collectObjects:function(lt){for(var ft=[],it,at=this._groupSelector.ex,nt=this._groupSelector.ey,ot=at+this._groupSelector.left,ht=nt+this._groupSelector.top,st=new _e.Point(ct(at,ot),ct(nt,ht)),dt=new _e.Point(rt(at,ot),rt(nt,ht)),vt=!this.selectionFullyContained,mt=at===ot&&nt===ht,gt=this._objects.length;gt--&&(it=this._objects[gt],!(!(!it||!it.selectable||!it.visible)&&(vt&&it.intersectsWithRect(st,dt,!0)||it.isContainedWithinRect(st,dt,!0)||vt&&it.containsPoint(st,null,!0)||vt&&it.containsPoint(dt,null,!0))&&(ft.push(it),mt))););return ft.length>1&&(ft=ft.filter(function(bt){return!bt.onSelect({e:lt})})),ft},_maybeGroupObjects:function(lt){this.selection&&this._groupSelector&&this._groupSelectedObjects(lt),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){_e.util.object.extend(_e.StaticCanvas.prototype,{toDataURL:function(ct){ct||(ct={});var rt=ct.format||"png",lt=ct.quality||1,ft=(ct.multiplier||1)*(ct.enableRetinaScaling?this.getRetinaScaling():1),it=this.toCanvasElement(ft,ct);return _e.util.toDataURL(it,rt,lt)},toCanvasElement:function(ct,rt){ct=ct||1,rt=rt||{};var lt=(rt.width||this.width)*ct,ft=(rt.height||this.height)*ct,it=this.getZoom(),at=this.width,nt=this.height,ot=it*ct,ht=this.viewportTransform,st=(ht[4]-(rt.left||0))*ct,dt=(ht[5]-(rt.top||0))*ct,vt=this.interactive,mt=[ot,0,0,ot,st,dt],gt=this.enableRetinaScaling,bt=_e.util.createCanvasElement(),_t=this.contextTop;return bt.width=lt,bt.height=ft,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=mt,this.width=lt,this.height=ft,this.calcViewportBoundaries(),this.renderCanvas(bt.getContext("2d"),this._objects),this.viewportTransform=ht,this.width=at,this.height=nt,this.calcViewportBoundaries(),this.interactive=vt,this.enableRetinaScaling=gt,this.contextTop=_t,bt}})}(),_e.util.object.extend(_e.StaticCanvas.prototype,{loadFromJSON:function(ct,rt,lt){if(!!ct){var ft=typeof ct=="string"?JSON.parse(ct):_e.util.object.clone(ct),it=this,at=ft.clipPath,nt=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete ft.clipPath,this._enlivenObjects(ft.objects,function(ot){it.clear(),it._setBgOverlay(ft,function(){at?it._enlivenObjects([at],function(ht){it.clipPath=ht[0],it.__setupCanvas.call(it,ft,ot,nt,rt)}):it.__setupCanvas.call(it,ft,ot,nt,rt)})},lt),this}},__setupCanvas:function(ct,rt,lt,ft){var it=this;rt.forEach(function(at,nt){it.insertAt(at,nt)}),this.renderOnAddRemove=lt,delete ct.objects,delete ct.backgroundImage,delete ct.overlayImage,delete ct.background,delete ct.overlay,this._setOptions(ct),this.renderAll(),ft&&ft()},_setBgOverlay:function(ct,rt){var lt={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!ct.backgroundImage&&!ct.overlayImage&&!ct.background&&!ct.overlay){rt&&rt();return}var ft=function(){lt.backgroundImage&&lt.overlayImage&&lt.backgroundColor&&lt.overlayColor&&rt&&rt()};this.__setBgOverlay("backgroundImage",ct.backgroundImage,lt,ft),this.__setBgOverlay("overlayImage",ct.overlayImage,lt,ft),this.__setBgOverlay("backgroundColor",ct.background,lt,ft),this.__setBgOverlay("overlayColor",ct.overlay,lt,ft)},__setBgOverlay:function(ct,rt,lt,ft){var it=this;if(!rt){lt[ct]=!0,ft&&ft();return}ct==="backgroundImage"||ct==="overlayImage"?_e.util.enlivenObjects([rt],function(at){it[ct]=at[0],lt[ct]=!0,ft&&ft()}):this["set"+_e.util.string.capitalize(ct,!0)](rt,function(){lt[ct]=!0,ft&&ft()})},_enlivenObjects:function(ct,rt,lt){if(!ct||ct.length===0){rt&&rt([]);return}_e.util.enlivenObjects(ct,function(ft){rt&&rt(ft)},null,lt)},_toDataURL:function(ct,rt){this.clone(function(lt){rt(lt.toDataURL(ct))})},_toDataURLWithMultiplier:function(ct,rt,lt){this.clone(function(ft){lt(ft.toDataURLWithMultiplier(ct,rt))})},clone:function(ct,rt){var lt=JSON.stringify(this.toJSON(rt));this.cloneWithoutData(function(ft){ft.loadFromJSON(lt,function(){ct&&ct(ft)})})},cloneWithoutData:function(ct){var rt=_e.util.createCanvasElement();rt.width=this.width,rt.height=this.height;var lt=new _e.Canvas(rt);this.backgroundImage?(lt.setBackgroundImage(this.backgroundImage.src,function(){lt.renderAll(),ct&&ct(lt)}),lt.backgroundImageOpacity=this.backgroundImageOpacity,lt.backgroundImageStretch=this.backgroundImageStretch):ct&&ct(lt)}}),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.object.extend,ft=rt.util.object.clone,it=rt.util.toFixed,at=rt.util.string.capitalize,nt=rt.util.degreesToRadians,ot=!rt.isLikelyNode,ht=2;rt.Object||(rt.Object=rt.util.createClass(rt.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:ot,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(st){st&&this.setOptions(st)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=rt.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(st){var dt=rt.perfLimitSizeTotal,vt=st.width,mt=st.height,gt=rt.maxCacheSideLimit,bt=rt.minCacheSideLimit;if(vt<=gt&&mt<=gt&&vt*mt<=dt)return vt<bt&&(st.width=bt),mt<bt&&(st.height=bt),st;var _t=vt/mt,Ct=rt.util.limitDimsByArea(_t,dt),xt=rt.util.capValue,Tt=xt(bt,Ct.x,gt),Mt=xt(bt,Ct.y,gt);return vt>Tt&&(st.zoomX/=vt/Tt,st.width=Tt,st.capped=!0),mt>Mt&&(st.zoomY/=mt/Mt,st.height=Mt,st.capped=!0),st},_getCacheCanvasDimensions:function(){var st=this.getTotalObjectScaling(),dt=this._getTransformedDimensions(0,0),vt=dt.x*st.scaleX/this.scaleX,mt=dt.y*st.scaleY/this.scaleY;return{width:vt+ht,height:mt+ht,zoomX:st.scaleX,zoomY:st.scaleY,x:vt,y:mt}},_updateCacheCanvas:function(){var st=this.canvas;if(this.noScaleCache&&st&&st._currentTransform){var dt=st._currentTransform.target,vt=st._currentTransform.action;if(this===dt&&vt.slice&&vt.slice(0,5)==="scale")return!1}var mt=this._cacheCanvas,gt=this._limitCacheSize(this._getCacheCanvasDimensions()),bt=rt.minCacheSideLimit,_t=gt.width,Ct=gt.height,xt,Tt,Mt=gt.zoomX,jt=gt.zoomY,Gt=_t!==this.cacheWidth||Ct!==this.cacheHeight,zt=this.zoomX!==Mt||this.zoomY!==jt,Xt=Gt||zt,Kt=0,qt=0,er=!1;if(Gt){var Ut=this._cacheCanvas.width,Ot=this._cacheCanvas.height,Et=_t>Ut||Ct>Ot,wt=(_t<Ut*.9||Ct<Ot*.9)&&Ut>bt&&Ot>bt;er=Et||wt,Et&&!gt.capped&&(_t>bt||Ct>bt)&&(Kt=_t*.1,qt=Ct*.1)}return this instanceof rt.Text&&this.path&&(Xt=!0,er=!0,Kt+=this.getHeightOfLine(0)*this.zoomX,qt+=this.getHeightOfLine(0)*this.zoomY),Xt?(er?(mt.width=Math.ceil(_t+Kt),mt.height=Math.ceil(Ct+qt)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,mt.width,mt.height)),xt=gt.x/2,Tt=gt.y/2,this.cacheTranslationX=Math.round(mt.width/2-xt)+xt,this.cacheTranslationY=Math.round(mt.height/2-Tt)+Tt,this.cacheWidth=_t,this.cacheHeight=Ct,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Mt,jt),this.zoomX=Mt,this.zoomY=jt,!0):!1},setOptions:function(st){this._setOptions(st),this._initGradient(st.fill,"fill"),this._initGradient(st.stroke,"stroke"),this._initPattern(st.fill,"fill"),this._initPattern(st.stroke,"stroke")},transform:function(st){var dt=this.group&&!this.group._transformDone||this.group&&this.canvas&&st===this.canvas.contextTop,vt=this.calcTransformMatrix(!dt);st.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5])},toObject:function(st){var dt=rt.Object.NUM_FRACTION_DIGITS,vt={type:this.type,version:rt.version,originX:this.originX,originY:this.originY,left:it(this.left,dt),top:it(this.top,dt),width:it(this.width,dt),height:it(this.height,dt),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:it(this.strokeWidth,dt),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:it(this.strokeMiterLimit,dt),scaleX:it(this.scaleX,dt),scaleY:it(this.scaleY,dt),angle:it(this.angle,dt),flipX:this.flipX,flipY:this.flipY,opacity:it(this.opacity,dt),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:it(this.skewX,dt),skewY:it(this.skewY,dt)};return this.clipPath&&!this.clipPath.excludeFromExport&&(vt.clipPath=this.clipPath.toObject(st),vt.clipPath.inverted=this.clipPath.inverted,vt.clipPath.absolutePositioned=this.clipPath.absolutePositioned),rt.util.populateWithProperties(this,vt,st),this.includeDefaultValues||(vt=this._removeDefaultValues(vt)),vt},toDatalessObject:function(st){return this.toObject(st)},_removeDefaultValues:function(st){var dt=rt.util.getKlass(st.type).prototype,vt=dt.stateProperties;return vt.forEach(function(mt){mt==="left"||mt==="top"||(st[mt]===dt[mt]&&delete st[mt],Array.isArray(st[mt])&&Array.isArray(dt[mt])&&st[mt].length===0&&dt[mt].length===0&&delete st[mt])}),st},toString:function(){return"#<fabric."+at(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var st=rt.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(st.scaleX),scaleY:Math.abs(st.scaleY)}},getTotalObjectScaling:function(){var st=this.getObjectScaling(),dt=st.scaleX,vt=st.scaleY;if(this.canvas){var mt=this.canvas.getZoom(),gt=this.canvas.getRetinaScaling();dt*=mt*gt,vt*=mt*gt}return{scaleX:dt,scaleY:vt}},getObjectOpacity:function(){var st=this.opacity;return this.group&&(st*=this.group.getObjectOpacity()),st},_set:function(st,dt){var vt=st==="scaleX"||st==="scaleY",mt=this[st]!==dt,gt=!1;return vt&&(dt=this._constrainScale(dt)),st==="scaleX"&&dt<0?(this.flipX=!this.flipX,dt*=-1):st==="scaleY"&&dt<0?(this.flipY=!this.flipY,dt*=-1):st==="shadow"&&dt&&!(dt instanceof rt.Shadow)?dt=new rt.Shadow(dt):st==="dirty"&&this.group&&this.group.set("dirty",dt),this[st]=dt,mt&&(gt=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(st)>-1?(this.dirty=!0,gt&&this.group.set("dirty",!0)):gt&&this.stateProperties.indexOf(st)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:rt.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(st){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(st.save(),this._setupCompositeOperation(st),this.drawSelectionBackground(st),this.transform(st),this._setOpacity(st),this._setShadow(st,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(st)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(st),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),st.restore())},renderCache:function(st){st=st||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,st.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(st,dt){if(st.save(),dt.inverted?st.globalCompositeOperation="destination-out":st.globalCompositeOperation="destination-in",dt.absolutePositioned){var vt=rt.util.invertTransform(this.calcTransformMatrix());st.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5])}dt.transform(st),st.scale(1/dt.zoomX,1/dt.zoomY),st.drawImage(dt._cacheCanvas,-dt.cacheTranslationX,-dt.cacheTranslationY),st.restore()},drawObject:function(st,dt){var vt=this.fill,mt=this.stroke;dt?(this.fill="black",this.stroke="",this._setClippingProperties(st)):this._renderBackground(st),this._render(st),this._drawClipPath(st,this.clipPath),this.fill=vt,this.stroke=mt},_drawClipPath:function(st,dt){!dt||(dt.canvas=this.canvas,dt.shouldCache(),dt._transformDone=!0,dt.renderCache({forClipping:!0}),this.drawClipPathOnCache(st,dt))},drawCacheOnCanvas:function(st){st.scale(1/this.zoomX,1/this.zoomY),st.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(st){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!st&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!st){var dt=this.cacheWidth/this.zoomX,vt=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-dt/2,-vt/2,dt,vt)}return!0}return!1},_renderBackground:function(st){if(!!this.backgroundColor){var dt=this._getNonTransformedDimensions();st.fillStyle=this.backgroundColor,st.fillRect(-dt.x/2,-dt.y/2,dt.x,dt.y),this._removeShadow(st)}},_setOpacity:function(st){this.group&&!this.group._transformDone?st.globalAlpha=this.getObjectOpacity():st.globalAlpha*=this.opacity},_setStrokeStyles:function(st,dt){var vt=dt.stroke;vt&&(st.lineWidth=dt.strokeWidth,st.lineCap=dt.strokeLineCap,st.lineDashOffset=dt.strokeDashOffset,st.lineJoin=dt.strokeLineJoin,st.miterLimit=dt.strokeMiterLimit,vt.toLive?vt.gradientUnits==="percentage"||vt.gradientTransform||vt.patternTransform?this._applyPatternForTransformedGradient(st,vt):(st.strokeStyle=vt.toLive(st,this),this._applyPatternGradientTransform(st,vt)):st.strokeStyle=dt.stroke)},_setFillStyles:function(st,dt){var vt=dt.fill;vt&&(vt.toLive?(st.fillStyle=vt.toLive(st,this),this._applyPatternGradientTransform(st,dt.fill)):st.fillStyle=vt)},_setClippingProperties:function(st){st.globalAlpha=1,st.strokeStyle="transparent",st.fillStyle="#000000"},_setLineDash:function(st,dt){!dt||dt.length===0||(1&dt.length&&dt.push.apply(dt,dt),st.setLineDash(dt))},_renderControls:function(st,dt){var vt=this.getViewportTransform(),mt=this.calcTransformMatrix(),gt,bt,_t;dt=dt||{},bt=typeof dt.hasBorders!="undefined"?dt.hasBorders:this.hasBorders,_t=typeof dt.hasControls!="undefined"?dt.hasControls:this.hasControls,mt=rt.util.multiplyTransformMatrices(vt,mt),gt=rt.util.qrDecompose(mt),st.save(),st.translate(gt.translateX,gt.translateY),st.lineWidth=1*this.borderScaleFactor,this.group||(st.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(gt.angle-=180),st.rotate(nt(this.group?gt.angle:this.angle)),dt.forActiveSelection||this.group?bt&&this.drawBordersInGroup(st,gt,dt):bt&&this.drawBorders(st,dt),_t&&this.drawControls(st,dt),st.restore()},_setShadow:function(st){if(!!this.shadow){var dt=this.shadow,vt=this.canvas,mt,gt=vt&&vt.viewportTransform[0]||1,bt=vt&&vt.viewportTransform[3]||1;dt.nonScaling?mt={scaleX:1,scaleY:1}:mt=this.getObjectScaling(),vt&&vt._isRetinaScaling()&&(gt*=rt.devicePixelRatio,bt*=rt.devicePixelRatio),st.shadowColor=dt.color,st.shadowBlur=dt.blur*rt.browserShadowBlurConstant*(gt+bt)*(mt.scaleX+mt.scaleY)/4,st.shadowOffsetX=dt.offsetX*gt*mt.scaleX,st.shadowOffsetY=dt.offsetY*bt*mt.scaleY}},_removeShadow:function(st){!this.shadow||(st.shadowColor="",st.shadowBlur=st.shadowOffsetX=st.shadowOffsetY=0)},_applyPatternGradientTransform:function(st,dt){if(!dt||!dt.toLive)return{offsetX:0,offsetY:0};var vt=dt.gradientTransform||dt.patternTransform,mt=-this.width/2+dt.offsetX||0,gt=-this.height/2+dt.offsetY||0;return dt.gradientUnits==="percentage"?st.transform(this.width,0,0,this.height,mt,gt):st.transform(1,0,0,1,mt,gt),vt&&st.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]),{offsetX:mt,offsetY:gt}},_renderPaintInOrder:function(st){this.paintFirst==="stroke"?(this._renderStroke(st),this._renderFill(st)):(this._renderFill(st),this._renderStroke(st))},_render:function(){},_renderFill:function(st){!this.fill||(st.save(),this._setFillStyles(st,this),this.fillRule==="evenodd"?st.fill("evenodd"):st.fill(),st.restore())},_renderStroke:function(st){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(st),st.save(),this.strokeUniform&&this.group){var dt=this.getObjectScaling();st.scale(1/dt.scaleX,1/dt.scaleY)}else this.strokeUniform&&st.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(st,this.strokeDashArray),this._setStrokeStyles(st,this),st.stroke(),st.restore()}},_applyPatternForTransformedGradient:function(st,dt){var vt=this._limitCacheSize(this._getCacheCanvasDimensions()),mt=rt.util.createCanvasElement(),gt,bt=this.canvas.getRetinaScaling(),_t=vt.x/this.scaleX/bt,Ct=vt.y/this.scaleY/bt;mt.width=_t,mt.height=Ct,gt=mt.getContext("2d"),gt.beginPath(),gt.moveTo(0,0),gt.lineTo(_t,0),gt.lineTo(_t,Ct),gt.lineTo(0,Ct),gt.closePath(),gt.translate(_t/2,Ct/2),gt.scale(vt.zoomX/this.scaleX/bt,vt.zoomY/this.scaleY/bt),this._applyPatternGradientTransform(gt,dt),gt.fillStyle=dt.toLive(st),gt.fill(),st.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),st.scale(bt*this.scaleX/vt.zoomX,bt*this.scaleY/vt.zoomY),st.strokeStyle=gt.createPattern(mt,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var st=rt.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",st.scaleX),this.set("scaleY",st.scaleY),this.angle=st.angle,this.skewX=st.skewX,this.skewY=0}},_removeTransformMatrix:function(st){var dt=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),dt=rt.util.transformPoint(dt,this.transformMatrix)),this.transformMatrix=null,st&&(this.scaleX*=st.scaleX,this.scaleY*=st.scaleY,this.cropX=st.cropX,this.cropY=st.cropY,dt.x+=st.offsetLeft,dt.y+=st.offsetTop,this.width=st.width,this.height=st.height),this.setPositionByOrigin(dt,"center","center")},clone:function(st,dt){var vt=this.toObject(dt);this.constructor.fromObject?this.constructor.fromObject(vt,st):rt.Object._fromObject("Object",vt,st)},cloneAsImage:function(st,dt){var vt=this.toCanvasElement(dt);return st&&st(new rt.Image(vt)),this},toCanvasElement:function(st){st||(st={});var dt=rt.util,vt=dt.saveObjectTransform(this),mt=this.group,gt=this.shadow,bt=Math.abs,_t=(st.multiplier||1)*(st.enableRetinaScaling?rt.devicePixelRatio:1);delete this.group,st.withoutTransform&&dt.resetObjectTransform(this),st.withoutShadow&&(this.shadow=null);var Ct=rt.util.createCanvasElement(),xt=this.getBoundingRect(!0,!0),Tt=this.shadow,Mt,jt={x:0,y:0},Gt,zt,Xt;Tt&&(Gt=Tt.blur,Tt.nonScaling?Mt={scaleX:1,scaleY:1}:Mt=this.getObjectScaling(),jt.x=2*Math.round(bt(Tt.offsetX)+Gt)*bt(Mt.scaleX),jt.y=2*Math.round(bt(Tt.offsetY)+Gt)*bt(Mt.scaleY)),zt=xt.width+jt.x,Xt=xt.height+jt.y,Ct.width=Math.ceil(zt),Ct.height=Math.ceil(Xt);var Kt=new rt.StaticCanvas(Ct,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});st.format==="jpeg"&&(Kt.backgroundColor="#fff"),this.setPositionByOrigin(new rt.Point(Kt.width/2,Kt.height/2),"center","center");var qt=this.canvas;Kt.add(this);var er=Kt.toCanvasElement(_t||1,st);return this.shadow=gt,this.set("canvas",qt),mt&&(this.group=mt),this.set(vt).setCoords(),Kt._objects=[],Kt.dispose(),Kt=null,er},toDataURL:function(st){return st||(st={}),rt.util.toDataURL(this.toCanvasElement(st),st.format||"png",st.quality||1)},isType:function(st){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===st},complexity:function(){return 1},toJSON:function(st){return this.toObject(st)},rotate:function(st){var dt=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return dt&&this._setOriginToCenter(),this.set("angle",st),dt&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(st,dt){dt=dt||this.canvas.getPointer(st);var vt=new rt.Point(dt.x,dt.y),mt=this._getLeftTopCoords();return this.angle&&(vt=rt.util.rotatePoint(vt,mt,nt(-this.angle))),{x:vt.x-mt.x,y:vt.y-mt.y}},_setupCompositeOperation:function(st){this.globalCompositeOperation&&(st.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){rt.runningAnimations&&rt.runningAnimations.cancelByTarget(this)}}),rt.util.createAccessors&&rt.util.createAccessors(rt.Object),lt(rt.Object.prototype,rt.Observable),rt.Object.NUM_FRACTION_DIGITS=2,rt.Object.ENLIVEN_PROPS=["clipPath"],rt.Object._fromObject=function(st,dt,vt,mt){var gt=rt[st];dt=ft(dt,!0),rt.util.enlivenPatterns([dt.fill,dt.stroke],function(bt){typeof bt[0]!="undefined"&&(dt.fill=bt[0]),typeof bt[1]!="undefined"&&(dt.stroke=bt[1]),rt.util.enlivenObjectEnlivables(dt,dt,function(){var _t=mt?new gt(dt[mt],dt):new gt(dt);vt&&vt(_t)})})},rt.Object.__uid=0)}($),function(){var ct=_e.util.degreesToRadians,rt={left:-.5,center:0,right:.5},lt={top:-.5,center:0,bottom:.5};_e.util.object.extend(_e.Object.prototype,{translateToGivenOrigin:function(ft,it,at,nt,ot){var ht=ft.x,st=ft.y,dt,vt,mt;return typeof it=="string"?it=rt[it]:it-=.5,typeof nt=="string"?nt=rt[nt]:nt-=.5,dt=nt-it,typeof at=="string"?at=lt[at]:at-=.5,typeof ot=="string"?ot=lt[ot]:ot-=.5,vt=ot-at,(dt||vt)&&(mt=this._getTransformedDimensions(),ht=ft.x+dt*mt.x,st=ft.y+vt*mt.y),new _e.Point(ht,st)},translateToCenterPoint:function(ft,it,at){var nt=this.translateToGivenOrigin(ft,it,at,"center","center");return this.angle?_e.util.rotatePoint(nt,ft,ct(this.angle)):nt},translateToOriginPoint:function(ft,it,at){var nt=this.translateToGivenOrigin(ft,"center","center",it,at);return this.angle?_e.util.rotatePoint(nt,ft,ct(this.angle)):nt},getCenterPoint:function(){var ft=new _e.Point(this.left,this.top);return this.translateToCenterPoint(ft,this.originX,this.originY)},getPointByOrigin:function(ft,it){var at=this.getCenterPoint();return this.translateToOriginPoint(at,ft,it)},toLocalPoint:function(ft,it,at){var nt=this.getCenterPoint(),ot,ht;return typeof it!="undefined"&&typeof at!="undefined"?ot=this.translateToGivenOrigin(nt,"center","center",it,at):ot=new _e.Point(this.left,this.top),ht=new _e.Point(ft.x,ft.y),this.angle&&(ht=_e.util.rotatePoint(ht,nt,-ct(this.angle))),ht.subtractEquals(ot)},setPositionByOrigin:function(ft,it,at){var nt=this.translateToCenterPoint(ft,it,at),ot=this.translateToOriginPoint(nt,this.originX,this.originY);this.set("left",ot.x),this.set("top",ot.y)},adjustPosition:function(ft){var it=ct(this.angle),at=this.getScaledWidth(),nt=_e.util.cos(it)*at,ot=_e.util.sin(it)*at,ht,st;typeof this.originX=="string"?ht=rt[this.originX]:ht=this.originX-.5,typeof ft=="string"?st=rt[ft]:st=ft-.5,this.left+=nt*(st-ht),this.top+=ot*(st-ht),this.setCoords(),this.originX=ft},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var ft=this.getCenterPoint();this.originX="center",this.originY="center",this.left=ft.x,this.top=ft.y},_resetOrigin:function(){var ft=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=ft.x,this.top=ft.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function ct(at){return[new _e.Point(at.tl.x,at.tl.y),new _e.Point(at.tr.x,at.tr.y),new _e.Point(at.br.x,at.br.y),new _e.Point(at.bl.x,at.bl.y)]}var rt=_e.util,lt=rt.degreesToRadians,ft=rt.multiplyTransformMatrices,it=rt.transformPoint;rt.object.extend(_e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(at,nt){return nt?at?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),at?this.aCoords:this.lineCoords)},getCoords:function(at,nt){return ct(this._getCoords(at,nt))},intersectsWithRect:function(at,nt,ot,ht){var st=this.getCoords(ot,ht),dt=_e.Intersection.intersectPolygonRectangle(st,at,nt);return dt.status==="Intersection"},intersectsWithObject:function(at,nt,ot){var ht=_e.Intersection.intersectPolygonPolygon(this.getCoords(nt,ot),at.getCoords(nt,ot));return ht.status==="Intersection"||at.isContainedWithinObject(this,nt,ot)||this.isContainedWithinObject(at,nt,ot)},isContainedWithinObject:function(at,nt,ot){for(var ht=this.getCoords(nt,ot),st=nt?at.aCoords:at.lineCoords,dt=0,vt=at._getImageLines(st);dt<4;dt++)if(!at.containsPoint(ht[dt],vt))return!1;return!0},isContainedWithinRect:function(at,nt,ot,ht){var st=this.getBoundingRect(ot,ht);return st.left>=at.x&&st.left+st.width<=nt.x&&st.top>=at.y&&st.top+st.height<=nt.y},containsPoint:function(at,dt,ot,ht){var st=this._getCoords(ot,ht),dt=dt||this._getImageLines(st),vt=this._findCrossPoints(at,dt);return vt!==0&&vt%2===1},isOnScreen:function(at){if(!this.canvas)return!1;var nt=this.canvas.vptCoords.tl,ot=this.canvas.vptCoords.br,ht=this.getCoords(!0,at);return ht.some(function(st){return st.x<=ot.x&&st.x>=nt.x&&st.y<=ot.y&&st.y>=nt.y})||this.intersectsWithRect(nt,ot,!0,at)?!0:this._containsCenterOfCanvas(nt,ot,at)},_containsCenterOfCanvas:function(at,nt,ot){var ht={x:(at.x+nt.x)/2,y:(at.y+nt.y)/2};return!!this.containsPoint(ht,null,!0,ot)},isPartiallyOnScreen:function(at){if(!this.canvas)return!1;var nt=this.canvas.vptCoords.tl,ot=this.canvas.vptCoords.br;if(this.intersectsWithRect(nt,ot,!0,at))return!0;var ht=this.getCoords(!0,at).every(function(st){return(st.x>=ot.x||st.x<=nt.x)&&(st.y>=ot.y||st.y<=nt.y)});return ht&&this._containsCenterOfCanvas(nt,ot,at)},_getImageLines:function(at){var nt={topline:{o:at.tl,d:at.tr},rightline:{o:at.tr,d:at.br},bottomline:{o:at.br,d:at.bl},leftline:{o:at.bl,d:at.tl}};return nt},_findCrossPoints:function(at,nt){var ot,ht,st,dt,vt,mt=0,gt;for(var bt in nt)if(gt=nt[bt],!(gt.o.y<at.y&&gt.d.y<at.y)&&!(gt.o.y>=at.y&&gt.d.y>=at.y)&&(gt.o.x===gt.d.x&&gt.o.x>=at.x?vt=gt.o.x:(ot=0,ht=(gt.d.y-gt.o.y)/(gt.d.x-gt.o.x),st=at.y-ot*at.x,dt=gt.o.y-ht*gt.o.x,vt=-(st-dt)/(ot-ht)),vt>=at.x&&(mt+=1),mt===2))break;return mt},getBoundingRect:function(at,nt){var ot=this.getCoords(at,nt);return rt.makeBoundingBoxFromPoints(ot)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(at){return Math.abs(at)<this.minScaleLimit?at<0?-this.minScaleLimit:this.minScaleLimit:at===0?1e-4:at},scale:function(at){return this._set("scaleX",at),this._set("scaleY",at),this.setCoords()},scaleToWidth:function(at,nt){var ot=this.getBoundingRect(nt).width/this.getScaledWidth();return this.scale(at/this.width/ot)},scaleToHeight:function(at,nt){var ot=this.getBoundingRect(nt).height/this.getScaledHeight();return this.scale(at/this.height/ot)},calcLineCoords:function(){var at=this.getViewportTransform(),nt=this.padding,ot=lt(this.angle),ht=rt.cos(ot),st=rt.sin(ot),dt=ht*nt,vt=st*nt,mt=dt+vt,gt=dt-vt,bt=this.calcACoords(),_t={tl:it(bt.tl,at),tr:it(bt.tr,at),bl:it(bt.bl,at),br:it(bt.br,at)};return nt&&(_t.tl.x-=gt,_t.tl.y-=mt,_t.tr.x+=mt,_t.tr.y-=gt,_t.bl.x-=mt,_t.bl.y+=gt,_t.br.x+=gt,_t.br.y+=mt),_t},calcOCoords:function(){var at=this._calcRotateMatrix(),nt=this._calcTranslateMatrix(),ot=this.getViewportTransform(),ht=ft(ot,nt),st=ft(ht,at),st=ft(st,[1/ot[0],0,0,1/ot[3],0,0]),dt=this._calculateCurrentDimensions(),vt={};return this.forEachControl(function(mt,gt,bt){vt[gt]=mt.positionHandler(dt,st,bt)}),vt},calcACoords:function(){var at=this._calcRotateMatrix(),nt=this._calcTranslateMatrix(),ot=ft(nt,at),ht=this._getTransformedDimensions(),st=ht.x/2,dt=ht.y/2;return{tl:it({x:-st,y:-dt},ot),tr:it({x:st,y:-dt},ot),bl:it({x:-st,y:dt},ot),br:it({x:st,y:dt},ot)}},setCoords:function(at){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),at?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return rt.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var at=this.getCenterPoint();return[1,0,0,1,at.x,at.y]},transformMatrixKey:function(at){var nt="_",ot="";return!at&&this.group&&(ot=this.group.transformMatrixKey(at)+nt),ot+this.top+nt+this.left+nt+this.scaleX+nt+this.scaleY+nt+this.skewX+nt+this.skewY+nt+this.angle+nt+this.originX+nt+this.originY+nt+this.width+nt+this.height+nt+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(at){var nt=this.calcOwnMatrix();if(at||!this.group)return nt;var ot=this.transformMatrixKey(at),ht=this.matrixCache||(this.matrixCache={});return ht.key===ot?ht.value:(this.group&&(nt=ft(this.group.calcTransformMatrix(!1),nt)),ht.key=ot,ht.value=nt,nt)},calcOwnMatrix:function(){var at=this.transformMatrixKey(!0),nt=this.ownMatrixCache||(this.ownMatrixCache={});if(nt.key===at)return nt.value;var ot=this._calcTranslateMatrix(),ht={angle:this.angle,translateX:ot[4],translateY:ot[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return nt.key=at,nt.value=rt.composeMatrix(ht),nt.value},_getNonTransformedDimensions:function(){var at=this.strokeWidth,nt=this.width+at,ot=this.height+at;return{x:nt,y:ot}},_getTransformedDimensions:function(at,nt){typeof at=="undefined"&&(at=this.skewX),typeof nt=="undefined"&&(nt=this.skewY);var ot,ht,st,dt=at===0&&nt===0;if(this.strokeUniform?(ht=this.width,st=this.height):(ot=this._getNonTransformedDimensions(),ht=ot.x,st=ot.y),dt)return this._finalizeDimensions(ht*this.scaleX,st*this.scaleY);var vt=rt.sizeAfterTransform(ht,st,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:at,skewY:nt});return this._finalizeDimensions(vt.x,vt.y)},_finalizeDimensions:function(at,nt){return this.strokeUniform?{x:at+this.strokeWidth,y:nt+this.strokeWidth}:{x:at,y:nt}},_calculateCurrentDimensions:function(){var at=this.getViewportTransform(),nt=this._getTransformedDimensions(),ot=it(nt,at,!0);return ot.scalarAdd(2*this.padding)}})}(),_e.util.object.extend(_e.Object.prototype,{sendToBack:function(){return this.group?_e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?_e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(ct){return this.group?_e.StaticCanvas.prototype.sendBackwards.call(this.group,this,ct):this.canvas&&this.canvas.sendBackwards(this,ct),this},bringForward:function(ct){return this.group?_e.StaticCanvas.prototype.bringForward.call(this.group,this,ct):this.canvas&&this.canvas.bringForward(this,ct),this},moveTo:function(ct){return this.group&&this.group.type!=="activeSelection"?_e.StaticCanvas.prototype.moveTo.call(this.group,this,ct):this.canvas&&this.canvas.moveTo(this,ct),this}}),function(){function ct(lt,ft){if(ft){if(ft.toLive)return lt+": url(#SVGID_"+ft.id+"); ";var it=new _e.Color(ft),at=lt+": "+it.toRgb()+"; ",nt=it.getAlpha();return nt!==1&&(at+=lt+"-opacity: "+nt.toString()+"; "),at}else return lt+": none; "}var rt=_e.util.toFixed;_e.util.object.extend(_e.Object.prototype,{getSvgStyles:function(lt){var ft=this.fillRule?this.fillRule:"nonzero",it=this.strokeWidth?this.strokeWidth:"0",at=this.strokeDashArray?this.strokeDashArray.join(" "):"none",nt=this.strokeDashOffset?this.strokeDashOffset:"0",ot=this.strokeLineCap?this.strokeLineCap:"butt",ht=this.strokeLineJoin?this.strokeLineJoin:"miter",st=this.strokeMiterLimit?this.strokeMiterLimit:"4",dt=typeof this.opacity!="undefined"?this.opacity:"1",vt=this.visible?"":" visibility: hidden;",mt=lt?"":this.getSvgFilter(),gt=ct("fill",this.fill),bt=ct("stroke",this.stroke);return[bt,"stroke-width: ",it,"; ","stroke-dasharray: ",at,"; ","stroke-linecap: ",ot,"; ","stroke-dashoffset: ",nt,"; ","stroke-linejoin: ",ht,"; ","stroke-miterlimit: ",st,"; ",gt,"fill-rule: ",ft,"; ","opacity: ",dt,";",mt,vt].join("")},getSvgSpanStyles:function(lt,ft){var it="; ",nt=lt.fontFamily?"font-family: "+(lt.fontFamily.indexOf("'")===-1&&lt.fontFamily.indexOf('"')===-1?"'"+lt.fontFamily+"'":lt.fontFamily)+it:"",at=lt.strokeWidth?"stroke-width: "+lt.strokeWidth+it:"",nt=nt,ot=lt.fontSize?"font-size: "+lt.fontSize+"px"+it:"",ht=lt.fontStyle?"font-style: "+lt.fontStyle+it:"",st=lt.fontWeight?"font-weight: "+lt.fontWeight+it:"",dt=lt.fill?ct("fill",lt.fill):"",vt=lt.stroke?ct("stroke",lt.stroke):"",mt=this.getSvgTextDecoration(lt),gt=lt.deltaY?"baseline-shift: "+-lt.deltaY+"; ":"";return mt&&(mt="text-decoration: "+mt+it),[vt,at,nt,ot,ht,st,mt,dt,gt,ft?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(lt){return["overline","underline","line-through"].filter(function(ft){return lt[ft.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(lt,ft){var it=lt?this.calcTransformMatrix():this.calcOwnMatrix(),at='transform="'+_e.util.matrixToSVG(it);return at+(ft||"")+'" '},_setSVGBg:function(lt){if(this.backgroundColor){var ft=_e.Object.NUM_FRACTION_DIGITS;lt.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',rt(-this.width/2,ft),'" y="',rt(-this.height/2,ft),'" width="',rt(this.width,ft),'" height="',rt(this.height,ft),`"></rect>
`)}},toSVG:function(lt){return this._createBaseSVGMarkup(this._toSVG(lt),{reviver:lt})},toClipPathSVG:function(lt){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(lt),{reviver:lt})},_createBaseClipPathSVGMarkup:function(lt,ft){ft=ft||{};var it=ft.reviver,at=ft.additionalTransform||"",nt=[this.getSvgTransform(!0,at),this.getSvgCommons()].join(""),ot=lt.indexOf("COMMON_PARTS");return lt[ot]=nt,it?it(lt.join("")):lt.join("")},_createBaseSVGMarkup:function(lt,ft){ft=ft||{};var it=ft.noStyle,at=ft.reviver,nt=it?"":'style="'+this.getSvgStyles()+'" ',ot=ft.withShadow?'style="'+this.getSvgFilter()+'" ':"",ht=this.clipPath,st=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",dt=ht&&ht.absolutePositioned,vt=this.stroke,mt=this.fill,gt=this.shadow,bt,_t=[],Ct,xt=lt.indexOf("COMMON_PARTS"),Tt=ft.additionalTransform;return ht&&(ht.clipPathId="CLIPPATH_"+_e.Object.__uid++,Ct='<clipPath id="'+ht.clipPathId+`" >
`+ht.toClipPathSVG(at)+`</clipPath>
`),dt&&_t.push("<g ",ot,this.getSvgCommons(),` >
`),_t.push("<g ",this.getSvgTransform(!1),dt?"":ot+this.getSvgCommons(),` >
`),bt=[nt,st,it?"":this.addPaintOrder()," ",Tt?'transform="'+Tt+'" ':""].join(""),lt[xt]=bt,mt&&mt.toLive&&_t.push(mt.toSVG(this)),vt&&vt.toLive&&_t.push(vt.toSVG(this)),gt&&_t.push(gt.toSVG(this)),ht&&_t.push(Ct),_t.push(lt.join("")),_t.push(`</g>
`),dt&&_t.push(`</g>
`),at?at(_t.join("")):_t.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var ct=_e.util.object.extend,rt="stateProperties";function lt(it,at,nt){var ot={},ht=!0;nt.forEach(function(st){ot[st]=it[st]}),ct(it[at],ot,ht)}function ft(it,at,nt){if(it===at)return!0;if(Array.isArray(it)){if(!Array.isArray(at)||it.length!==at.length)return!1;for(var ot=0,ht=it.length;ot<ht;ot++)if(!ft(it[ot],at[ot]))return!1;return!0}else if(it&&typeof it=="object"){var st=Object.keys(it),dt;if(!at||typeof at!="object"||!nt&&st.length!==Object.keys(at).length)return!1;for(var ot=0,ht=st.length;ot<ht;ot++)if(dt=st[ot],!(dt==="canvas"||dt==="group")&&!ft(it[dt],at[dt]))return!1;return!0}}_e.util.object.extend(_e.Object.prototype,{hasStateChanged:function(it){it=it||rt;var at="_"+it;return Object.keys(this[at]).length<this[it].length?!0:!ft(this[at],this,!0)},saveState:function(it){var at=it&&it.propertySet||rt,nt="_"+at;return this[nt]?(lt(this,nt,this[at]),it&&it.stateProperties&&lt(this,nt,it.stateProperties),this):this.setupState(it)},setupState:function(it){it=it||{};var at=it.propertySet||rt;return it.propertySet=at,this["_"+at]={},this.saveState(it),this}})}(),function(){var ct=_e.util.degreesToRadians;_e.util.object.extend(_e.Object.prototype,{_findTargetCorner:function(rt,lt){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var ft=rt.x,it=rt.y,at,nt,ot=Object.keys(this.oCoords),ht=ot.length-1,st;for(this.__corner=0;ht>=0;ht--)if(st=ot[ht],!!this.isControlVisible(st)&&(nt=this._getImageLines(lt?this.oCoords[st].touchCorner:this.oCoords[st].corner),at=this._findCrossPoints({x:ft,y:it},nt),at!==0&&at%2===1))return this.__corner=st,st;return!1},forEachControl:function(rt){for(var lt in this.controls)rt(this.controls[lt],lt,this)},_setCornerCoords:function(){var rt=this.oCoords;for(var lt in rt){var ft=this.controls[lt];rt[lt].corner=ft.calcCornerCoords(this.angle,this.cornerSize,rt[lt].x,rt[lt].y,!1),rt[lt].touchCorner=ft.calcCornerCoords(this.angle,this.touchCornerSize,rt[lt].x,rt[lt].y,!0)}},drawSelectionBackground:function(rt){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;rt.save();var lt=this.getCenterPoint(),ft=this._calculateCurrentDimensions(),it=this.canvas.viewportTransform;return rt.translate(lt.x,lt.y),rt.scale(1/it[0],1/it[3]),rt.rotate(ct(this.angle)),rt.fillStyle=this.selectionBackgroundColor,rt.fillRect(-ft.x/2,-ft.y/2,ft.x,ft.y),rt.restore(),this},drawBorders:function(rt,lt){lt=lt||{};var ft=this._calculateCurrentDimensions(),it=this.borderScaleFactor,at=ft.x+it,nt=ft.y+it,ot=typeof lt.hasControls!="undefined"?lt.hasControls:this.hasControls,ht=!1;return rt.save(),rt.strokeStyle=lt.borderColor||this.borderColor,this._setLineDash(rt,lt.borderDashArray||this.borderDashArray),rt.strokeRect(-at/2,-nt/2,at,nt),ot&&(rt.beginPath(),this.forEachControl(function(st,dt,vt){st.withConnection&&st.getVisibility(vt,dt)&&(ht=!0,rt.moveTo(st.x*at,st.y*nt),rt.lineTo(st.x*at+st.offsetX,st.y*nt+st.offsetY))}),ht&&rt.stroke()),rt.restore(),this},drawBordersInGroup:function(rt,lt,ft){ft=ft||{};var it=_e.util.sizeAfterTransform(this.width,this.height,lt),at=this.strokeWidth,nt=this.strokeUniform,ot=this.borderScaleFactor,ht=it.x+at*(nt?this.canvas.getZoom():lt.scaleX)+ot,st=it.y+at*(nt?this.canvas.getZoom():lt.scaleY)+ot;return rt.save(),this._setLineDash(rt,ft.borderDashArray||this.borderDashArray),rt.strokeStyle=ft.borderColor||this.borderColor,rt.strokeRect(-ht/2,-st/2,ht,st),rt.restore(),this},drawControls:function(rt,lt){lt=lt||{},rt.save();var ft=this.canvas.getRetinaScaling(),it,at;return rt.setTransform(ft,0,0,ft,0,0),rt.strokeStyle=rt.fillStyle=lt.cornerColor||this.cornerColor,this.transparentCorners||(rt.strokeStyle=lt.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(rt,lt.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(it=this.group.calcTransformMatrix()),this.forEachControl(function(nt,ot,ht){at=ht.oCoords[ot],nt.getVisibility(ht,ot)&&(it&&(at=_e.util.transformPoint(at,it)),nt.render(rt,at.x,at.y,lt,ht))}),rt.restore(),this},isControlVisible:function(rt){return this.controls[rt]&&this.controls[rt].getVisibility(this,rt)},setControlVisible:function(rt,lt){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[rt]=lt,this},setControlsVisibility:function(rt){rt||(rt={});for(var lt in rt)this.setControlVisible(lt,rt[lt]);return this},onDeselect:function(){},onSelect:function(){}})}(),_e.util.object.extend(_e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(ct,rt){rt=rt||{};var lt=function(){},ft=rt.onComplete||lt,it=rt.onChange||lt,at=this;return _e.util.animate({target:this,startValue:ct.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(nt){ct.set("left",nt),at.requestRenderAll(),it()},onComplete:function(){ct.setCoords(),ft()}})},fxCenterObjectV:function(ct,rt){rt=rt||{};var lt=function(){},ft=rt.onComplete||lt,it=rt.onChange||lt,at=this;return _e.util.animate({target:this,startValue:ct.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(nt){ct.set("top",nt),at.requestRenderAll(),it()},onComplete:function(){ct.setCoords(),ft()}})},fxRemove:function(ct,rt){rt=rt||{};var lt=function(){},ft=rt.onComplete||lt,it=rt.onChange||lt,at=this;return _e.util.animate({target:this,startValue:ct.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(nt){ct.set("opacity",nt),at.requestRenderAll(),it()},onComplete:function(){at.remove(ct),ft()}})}}),_e.util.object.extend(_e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var ct=[],rt,lt,ft=[];for(rt in arguments[0])ct.push(rt);for(var it=0,at=ct.length;it<at;it++)rt=ct[it],lt=it!==at-1,ft.push(this._animate(rt,arguments[0][rt],arguments[1],lt));return ft}else return this._animate.apply(this,arguments)},_animate:function(ct,rt,lt,ft){var it=this,at;rt=rt.toString(),lt?lt=_e.util.object.clone(lt):lt={},~ct.indexOf(".")&&(at=ct.split("."));var nt=it.colorProperties.indexOf(ct)>-1||at&&it.colorProperties.indexOf(at[1])>-1,ot=at?this.get(at[0])[at[1]]:this.get(ct);"from"in lt||(lt.from=ot),nt||(~rt.indexOf("=")?rt=ot+parseFloat(rt.replace("=","")):rt=parseFloat(rt));var ht={target:this,startValue:lt.from,endValue:rt,byValue:lt.by,easing:lt.easing,duration:lt.duration,abort:lt.abort&&function(st,dt,vt){return lt.abort.call(it,st,dt,vt)},onChange:function(st,dt,vt){at?it[at[0]][at[1]]=st:it.set(ct,st),!ft&&lt.onChange&&lt.onChange(st,dt,vt)},onComplete:function(st,dt,vt){ft||(it.setCoords(),lt.onComplete&&lt.onComplete(st,dt,vt))}};return nt?_e.util.animateColor(ht.startValue,ht.endValue,ht.duration,ht):_e.util.animate(ht)}}),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.object.extend,ft=rt.util.object.clone,it={x1:1,x2:1,y1:1,y2:1};if(rt.Line){rt.warn("fabric.Line is already defined");return}rt.Line=rt.util.createClass(rt.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:rt.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(nt,ot){nt||(nt=[0,0,0,0]),this.callSuper("initialize",ot),this.set("x1",nt[0]),this.set("y1",nt[1]),this.set("x2",nt[2]),this.set("y2",nt[3]),this._setWidthHeight(ot)},_setWidthHeight:function(nt){nt||(nt={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in nt?nt.left:this._getLeftToOriginX(),this.top="top"in nt?nt.top:this._getTopToOriginY()},_set:function(nt,ot){return this.callSuper("_set",nt,ot),typeof it[nt]!="undefined"&&this._setWidthHeight(),this},_getLeftToOriginX:at({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:at({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(nt){nt.beginPath();var ot=this.calcLinePoints();nt.moveTo(ot.x1,ot.y1),nt.lineTo(ot.x2,ot.y2),nt.lineWidth=this.strokeWidth;var ht=nt.strokeStyle;nt.strokeStyle=this.stroke||nt.fillStyle,this.stroke&&this._renderStroke(nt),nt.strokeStyle=ht},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(nt){return lt(this.callSuper("toObject",nt),this.calcLinePoints())},_getNonTransformedDimensions:function(){var nt=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(nt.y-=this.strokeWidth),this.height===0&&(nt.x-=this.strokeWidth)),nt},calcLinePoints:function(){var nt=this.x1<=this.x2?-1:1,ot=this.y1<=this.y2?-1:1,ht=nt*this.width*.5,st=ot*this.height*.5,dt=nt*this.width*-.5,vt=ot*this.height*-.5;return{x1:ht,x2:dt,y1:st,y2:vt}},_toSVG:function(){var nt=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',nt.x1,'" y1="',nt.y1,'" x2="',nt.x2,'" y2="',nt.y2,`" />
`]}}),rt.Line.ATTRIBUTE_NAMES=rt.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),rt.Line.fromElement=function(nt,ot,ht){ht=ht||{};var st=rt.parseAttributes(nt,rt.Line.ATTRIBUTE_NAMES),dt=[st.x1||0,st.y1||0,st.x2||0,st.y2||0];ot(new rt.Line(dt,lt(st,ht)))},rt.Line.fromObject=function(nt,ot){function ht(dt){delete dt.points,ot&&ot(dt)}var st=ft(nt,!0);st.points=[nt.x1,nt.y1,nt.x2,nt.y2],rt.Object._fromObject("Line",st,ht,"points")};function at(nt,ot){var ht=nt.origin,st=nt.axis1,dt=nt.axis2,vt=nt.dimension,mt=ot.nearest,gt=ot.center,bt=ot.farthest;return function(){switch(this.get(ht)){case mt:return Math.min(this.get(st),this.get(dt));case gt:return Math.min(this.get(st),this.get(dt))+.5*this.get(vt);case bt:return Math.max(this.get(st),this.get(dt))}}}}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.degreesToRadians;if(rt.Circle){rt.warn("fabric.Circle is already defined.");return}rt.Circle=rt.util.createClass(rt.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:rt.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(it,at){return this.callSuper("_set",it,at),it==="radius"&&this.setRadius(at),this},toObject:function(it){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(it))},_toSVG:function(){var it,at=0,nt=0,ot=(this.endAngle-this.startAngle)%360;if(ot===0)it=["<circle ","COMMON_PARTS",'cx="'+at+'" cy="'+nt+'" ','r="',this.radius,`" />
`];else{var ht=lt(this.startAngle),st=lt(this.endAngle),dt=this.radius,vt=rt.util.cos(ht)*dt,mt=rt.util.sin(ht)*dt,gt=rt.util.cos(st)*dt,bt=rt.util.sin(st)*dt,_t=ot>180?"1":"0";it=['<path d="M '+vt+" "+mt," A "+dt+" "+dt," 0 ",+_t+" 1"," "+gt+" "+bt,'" ',"COMMON_PARTS",` />
`]}return it},_render:function(it){it.beginPath(),it.arc(0,0,this.radius,lt(this.startAngle),lt(this.endAngle),!1),this._renderPaintInOrder(it)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(it){return this.radius=it,this.set("width",it*2).set("height",it*2)}}),rt.Circle.ATTRIBUTE_NAMES=rt.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),rt.Circle.fromElement=function(it,at){var nt=rt.parseAttributes(it,rt.Circle.ATTRIBUTE_NAMES);if(!ft(nt))throw new Error("value of `r` attribute is required and can not be negative");nt.left=(nt.left||0)-nt.radius,nt.top=(nt.top||0)-nt.radius,at(new rt.Circle(nt))};function ft(it){return"radius"in it&&it.radius>=0}rt.Circle.fromObject=function(it,at){rt.Object._fromObject("Circle",it,at)}}($),function(ct){var rt=ct.fabric||(ct.fabric={});if(rt.Triangle){rt.warn("fabric.Triangle is already defined");return}rt.Triangle=rt.util.createClass(rt.Object,{type:"triangle",width:100,height:100,_render:function(lt){var ft=this.width/2,it=this.height/2;lt.beginPath(),lt.moveTo(-ft,it),lt.lineTo(0,-it),lt.lineTo(ft,it),lt.closePath(),this._renderPaintInOrder(lt)},_toSVG:function(){var lt=this.width/2,ft=this.height/2,it=[-lt+" "+ft,"0 "+-ft,lt+" "+ft].join(",");return["<polygon ","COMMON_PARTS",'points="',it,'" />']}}),rt.Triangle.fromObject=function(lt,ft){return rt.Object._fromObject("Triangle",lt,ft)}}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=Math.PI*2;if(rt.Ellipse){rt.warn("fabric.Ellipse is already defined.");return}rt.Ellipse=rt.util.createClass(rt.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:rt.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(ft){this.callSuper("initialize",ft),this.set("rx",ft&&ft.rx||0),this.set("ry",ft&&ft.ry||0)},_set:function(ft,it){switch(this.callSuper("_set",ft,it),ft){case"rx":this.rx=it,this.set("width",it*2);break;case"ry":this.ry=it,this.set("height",it*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(ft){return this.callSuper("toObject",["rx","ry"].concat(ft))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(ft){ft.beginPath(),ft.save(),ft.transform(1,0,0,this.ry/this.rx,0,0),ft.arc(0,0,this.rx,0,lt,!1),ft.restore(),this._renderPaintInOrder(ft)}}),rt.Ellipse.ATTRIBUTE_NAMES=rt.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),rt.Ellipse.fromElement=function(ft,it){var at=rt.parseAttributes(ft,rt.Ellipse.ATTRIBUTE_NAMES);at.left=(at.left||0)-at.rx,at.top=(at.top||0)-at.ry,it(new rt.Ellipse(at))},rt.Ellipse.fromObject=function(ft,it){rt.Object._fromObject("Ellipse",ft,it)}}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.object.extend;if(rt.Rect){rt.warn("fabric.Rect is already defined");return}rt.Rect=rt.util.createClass(rt.Object,{stateProperties:rt.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:rt.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(ft){this.callSuper("initialize",ft),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(ft){var it=this.rx?Math.min(this.rx,this.width/2):0,at=this.ry?Math.min(this.ry,this.height/2):0,nt=this.width,ot=this.height,ht=-this.width/2,st=-this.height/2,dt=it!==0||at!==0,vt=1-.5522847498;ft.beginPath(),ft.moveTo(ht+it,st),ft.lineTo(ht+nt-it,st),dt&&ft.bezierCurveTo(ht+nt-vt*it,st,ht+nt,st+vt*at,ht+nt,st+at),ft.lineTo(ht+nt,st+ot-at),dt&&ft.bezierCurveTo(ht+nt,st+ot-vt*at,ht+nt-vt*it,st+ot,ht+nt-it,st+ot),ft.lineTo(ht+it,st+ot),dt&&ft.bezierCurveTo(ht+vt*it,st+ot,ht,st+ot-vt*at,ht,st+ot-at),ft.lineTo(ht,st+at),dt&&ft.bezierCurveTo(ht,st+vt*at,ht+vt*it,st,ht+it,st),ft.closePath(),this._renderPaintInOrder(ft)},toObject:function(ft){return this.callSuper("toObject",["rx","ry"].concat(ft))},_toSVG:function(){var ft=-this.width/2,it=-this.height/2;return["<rect ","COMMON_PARTS",'x="',ft,'" y="',it,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),rt.Rect.ATTRIBUTE_NAMES=rt.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),rt.Rect.fromElement=function(ft,it,at){if(!ft)return it(null);at=at||{};var nt=rt.parseAttributes(ft,rt.Rect.ATTRIBUTE_NAMES);nt.left=nt.left||0,nt.top=nt.top||0,nt.height=nt.height||0,nt.width=nt.width||0;var ot=new rt.Rect(lt(at?rt.util.object.clone(at):{},nt));ot.visible=ot.visible&&ot.width>0&&ot.height>0,it(ot)},rt.Rect.fromObject=function(ft,it){return rt.Object._fromObject("Rect",ft,it)}}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.object.extend,ft=rt.util.array.min,it=rt.util.array.max,at=rt.util.toFixed,nt=rt.util.projectStrokeOnPoints;if(rt.Polyline){rt.warn("fabric.Polyline is already defined");return}rt.Polyline=rt.util.createClass(rt.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:rt.Object.prototype.cacheProperties.concat("points"),initialize:function(ot,ht){ht=ht||{},this.points=ot||[],this.callSuper("initialize",ht),this._setPositionDimensions(ht)},_projectStrokeOnPoints:function(){return nt(this.points,this,!0)},_setPositionDimensions:function(ot){var ht=this._calcDimensions(ot),st,dt=this.exactBoundingBox?this.strokeWidth:0;this.width=ht.width-dt,this.height=ht.height-dt,ot.fromSVG||(st=this.translateToGivenOrigin({x:ht.left-this.strokeWidth/2+dt/2,y:ht.top-this.strokeWidth/2+dt/2},"left","top",this.originX,this.originY)),typeof ot.left=="undefined"&&(this.left=ot.fromSVG?ht.left:st.x),typeof ot.top=="undefined"&&(this.top=ot.fromSVG?ht.top:st.y),this.pathOffset={x:ht.left+this.width/2+dt/2,y:ht.top+this.height/2+dt/2}},_calcDimensions:function(){var ot=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,ht=ft(ot,"x")||0,st=ft(ot,"y")||0,dt=it(ot,"x")||0,vt=it(ot,"y")||0,mt=dt-ht,gt=vt-st;return{left:ht,top:st,width:mt,height:gt}},toObject:function(ot){return lt(this.callSuper("toObject",ot),{points:this.points.concat()})},_toSVG:function(){for(var ot=[],ht=this.pathOffset.x,st=this.pathOffset.y,dt=rt.Object.NUM_FRACTION_DIGITS,vt=0,mt=this.points.length;vt<mt;vt++)ot.push(at(this.points[vt].x-ht,dt),",",at(this.points[vt].y-st,dt)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',ot.join(""),`" />
`]},commonRender:function(ot){var ht,st=this.points.length,dt=this.pathOffset.x,vt=this.pathOffset.y;if(!st||isNaN(this.points[st-1].y))return!1;ot.beginPath(),ot.moveTo(this.points[0].x-dt,this.points[0].y-vt);for(var mt=0;mt<st;mt++)ht=this.points[mt],ot.lineTo(ht.x-dt,ht.y-vt);return!0},_render:function(ot){!this.commonRender(ot)||this._renderPaintInOrder(ot)},complexity:function(){return this.get("points").length}}),rt.Polyline.ATTRIBUTE_NAMES=rt.SHARED_ATTRIBUTES.concat(),rt.Polyline.fromElementGenerator=function(ot){return function(ht,st,dt){if(!ht)return st(null);dt||(dt={});var vt=rt.parsePointsAttribute(ht.getAttribute("points")),mt=rt.parseAttributes(ht,rt[ot].ATTRIBUTE_NAMES);mt.fromSVG=!0,st(new rt[ot](vt,lt(mt,dt)))}},rt.Polyline.fromElement=rt.Polyline.fromElementGenerator("Polyline"),rt.Polyline.fromObject=function(ot,ht){return rt.Object._fromObject("Polyline",ot,ht,"points")}}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.projectStrokeOnPoints;if(rt.Polygon){rt.warn("fabric.Polygon is already defined");return}rt.Polygon=rt.util.createClass(rt.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return lt(this.points,this)},_render:function(ft){!this.commonRender(ft)||(ft.closePath(),this._renderPaintInOrder(ft))}}),rt.Polygon.ATTRIBUTE_NAMES=rt.SHARED_ATTRIBUTES.concat(),rt.Polygon.fromElement=rt.Polyline.fromElementGenerator("Polygon"),rt.Polygon.fromObject=function(ft,it){rt.Object._fromObject("Polygon",ft,it,"points")}}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.array.min,ft=rt.util.array.max,it=rt.util.object.extend,at=rt.util.object.clone,nt=rt.util.toFixed;if(rt.Path){rt.warn("fabric.Path is already defined");return}rt.Path=rt.util.createClass(rt.Object,{type:"path",path:null,cacheProperties:rt.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:rt.Object.prototype.stateProperties.concat("path"),initialize:function(ot,ht){ht=at(ht||{}),delete ht.path,this.callSuper("initialize",ht),this._setPath(ot||[],ht)},_setPath:function(ot,ht){this.path=rt.util.makePathSimpler(Array.isArray(ot)?ot:rt.util.parsePath(ot)),rt.Polyline.prototype._setPositionDimensions.call(this,ht||{})},_renderPathCommands:function(ot){var ht,st=0,dt=0,vt=0,mt=0,gt=0,bt=0,_t=-this.pathOffset.x,Ct=-this.pathOffset.y;ot.beginPath();for(var xt=0,Tt=this.path.length;xt<Tt;++xt)switch(ht=this.path[xt],ht[0]){case"L":vt=ht[1],mt=ht[2],ot.lineTo(vt+_t,mt+Ct);break;case"M":vt=ht[1],mt=ht[2],st=vt,dt=mt,ot.moveTo(vt+_t,mt+Ct);break;case"C":vt=ht[5],mt=ht[6],gt=ht[3],bt=ht[4],ot.bezierCurveTo(ht[1]+_t,ht[2]+Ct,gt+_t,bt+Ct,vt+_t,mt+Ct);break;case"Q":ot.quadraticCurveTo(ht[1]+_t,ht[2]+Ct,ht[3]+_t,ht[4]+Ct),vt=ht[3],mt=ht[4],gt=ht[1],bt=ht[2];break;case"z":case"Z":vt=st,mt=dt,ot.closePath();break}},_render:function(ot){this._renderPathCommands(ot),this._renderPaintInOrder(ot)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(ot){return it(this.callSuper("toObject",ot),{path:this.path.map(function(ht){return ht.slice()})})},toDatalessObject:function(ot){var ht=this.toObject(["sourcePath"].concat(ot));return ht.sourcePath&&delete ht.path,ht},_toSVG:function(){var ot=rt.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',ot,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var ot=rt.Object.NUM_FRACTION_DIGITS;return" translate("+nt(-this.pathOffset.x,ot)+", "+nt(-this.pathOffset.y,ot)+")"},toClipPathSVG:function(ot){var ht=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:ot,additionalTransform:ht})},toSVG:function(ot){var ht=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:ot,additionalTransform:ht})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var ot=[],ht=[],st,dt=0,vt=0,mt=0,gt=0,bt,_t=0,Ct=this.path.length;_t<Ct;++_t){switch(st=this.path[_t],st[0]){case"L":mt=st[1],gt=st[2],bt=[];break;case"M":mt=st[1],gt=st[2],dt=mt,vt=gt,bt=[];break;case"C":bt=rt.util.getBoundsOfCurve(mt,gt,st[1],st[2],st[3],st[4],st[5],st[6]),mt=st[5],gt=st[6];break;case"Q":bt=rt.util.getBoundsOfCurve(mt,gt,st[1],st[2],st[1],st[2],st[3],st[4]),mt=st[3],gt=st[4];break;case"z":case"Z":mt=dt,gt=vt;break}bt.forEach(function(Xt){ot.push(Xt.x),ht.push(Xt.y)}),ot.push(mt),ht.push(gt)}var xt=lt(ot)||0,Tt=lt(ht)||0,Mt=ft(ot)||0,jt=ft(ht)||0,Gt=Mt-xt,zt=jt-Tt;return{left:xt,top:Tt,width:Gt,height:zt}}}),rt.Path.fromObject=function(ot,ht){if(typeof ot.sourcePath=="string"){var st=ot.sourcePath;rt.loadSVGFromURL(st,function(dt){var vt=dt[0];vt.setOptions(ot),ot.clipPath?rt.util.enlivenObjects([ot.clipPath],function(mt){vt.clipPath=mt[0],ht&&ht(vt)}):ht&&ht(vt)})}else rt.Object._fromObject("Path",ot,ht,"path")},rt.Path.ATTRIBUTE_NAMES=rt.SHARED_ATTRIBUTES.concat(["d"]),rt.Path.fromElement=function(ot,ht,st){var dt=rt.parseAttributes(ot,rt.Path.ATTRIBUTE_NAMES);dt.fromSVG=!0,ht(new rt.Path(dt.d,it(dt,st)))}}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.array.min,ft=rt.util.array.max;rt.Group||(rt.Group=rt.util.createClass(rt.Object,rt.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(it,at,nt){at=at||{},this._objects=[],nt&&this.callSuper("initialize",at),this._objects=it||[];for(var ot=this._objects.length;ot--;)this._objects[ot].group=this;if(nt)this._updateObjectsACoords();else{var ht=at&&at.centerPoint;at.originX!==void 0&&(this.originX=at.originX),at.originY!==void 0&&(this.originY=at.originY),ht||this._calcBounds(),this._updateObjectsCoords(ht),delete at.centerPoint,this.callSuper("initialize",at)}this.setCoords()},_updateObjectsACoords:function(){for(var it=!0,at=this._objects.length;at--;)this._objects[at].setCoords(it)},_updateObjectsCoords:function(at){for(var at=at||this.getCenterPoint(),nt=this._objects.length;nt--;)this._updateObjectCoords(this._objects[nt],at)},_updateObjectCoords:function(it,at){var nt=it.left,ot=it.top,ht=!0;it.set({left:nt-at.x,top:ot-at.y}),it.group=this,it.setCoords(ht)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(it){var at=!!this.group;return this._restoreObjectsState(),rt.util.resetObjectTransform(this),it&&(at&&rt.util.removeTransformFromObject(it,this.group.calcTransformMatrix()),this._objects.push(it),it.group=this,it._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,at?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(it){return this._restoreObjectsState(),rt.util.resetObjectTransform(this),this.remove(it),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(it){this.dirty=!0,it.group=this,it._set("canvas",this.canvas)},_onObjectRemoved:function(it){this.dirty=!0,delete it.group},_set:function(it,at){var nt=this._objects.length;if(this.useSetOnGroup)for(;nt--;)this._objects[nt].setOnGroup(it,at);if(it==="canvas")for(;nt--;)this._objects[nt]._set(it,at);rt.Object.prototype._set.call(this,it,at)},toObject:function(it){var at=this.includeDefaultValues,nt=this._objects.filter(function(ht){return!ht.excludeFromExport}).map(function(ht){var st=ht.includeDefaultValues;ht.includeDefaultValues=at;var dt=ht.toObject(it);return ht.includeDefaultValues=st,dt}),ot=rt.Object.prototype.toObject.call(this,it);return ot.objects=nt,ot},toDatalessObject:function(it){var at,nt=this.sourcePath;if(nt)at=nt;else{var ot=this.includeDefaultValues;at=this._objects.map(function(st){var dt=st.includeDefaultValues;st.includeDefaultValues=ot;var vt=st.toDatalessObject(it);return st.includeDefaultValues=dt,vt})}var ht=rt.Object.prototype.toDatalessObject.call(this,it);return ht.objects=at,ht},render:function(it){this._transformDone=!0,this.callSuper("render",it),this._transformDone=!1},shouldCache:function(){var it=rt.Object.prototype.shouldCache.call(this);if(it){for(var at=0,nt=this._objects.length;at<nt;at++)if(this._objects[at].willDrawShadow())return this.ownCaching=!1,!1}return it},willDrawShadow:function(){if(rt.Object.prototype.willDrawShadow.call(this))return!0;for(var it=0,at=this._objects.length;it<at;it++)if(this._objects[it].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(it){for(var at=0,nt=this._objects.length;at<nt;at++)this._objects[at].render(it);this._drawClipPath(it,this.clipPath)},isCacheDirty:function(it){if(this.callSuper("isCacheDirty",it))return!0;if(!this.statefullCache)return!1;for(var at=0,nt=this._objects.length;at<nt;at++)if(this._objects[at].isCacheDirty(!0)){if(this._cacheCanvas){var ot=this.cacheWidth/this.zoomX,ht=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-ot/2,-ht/2,ot,ht)}return!0}return!1},_restoreObjectsState:function(){var it=this.calcOwnMatrix();return this._objects.forEach(function(at){rt.util.addTransformToObject(at,it),delete at.group,at.setCoords()}),this},destroy:function(){return this._objects.forEach(function(it){it.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(it){it.dispose&&it.dispose()}),this._objects=[]},toActiveSelection:function(){if(!!this.canvas){var it=this._objects,at=this.canvas;this._objects=[];var nt=this.toObject();delete nt.objects;var ot=new rt.ActiveSelection([]);return ot.set(nt),ot.type="activeSelection",at.remove(this),it.forEach(function(ht){ht.group=ot,ht.dirty=!0,at.add(ht)}),ot.canvas=at,ot._objects=it,at._activeObject=ot,ot.setCoords(),ot}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var it=!0;return this.forEachObject(function(at){at.setCoords(it)}),this},_calcBounds:function(it){for(var at=[],nt=[],ot,ht,st,dt=["tr","br","bl","tl"],vt=0,mt=this._objects.length,gt,bt=dt.length;vt<mt;++vt){for(ot=this._objects[vt],st=ot.calcACoords(),gt=0;gt<bt;gt++)ht=dt[gt],at.push(st[ht].x),nt.push(st[ht].y);ot.aCoords=st}this._getBounds(at,nt,it)},_getBounds:function(it,at,nt){var ot=new rt.Point(lt(it),lt(at)),ht=new rt.Point(ft(it),ft(at)),st=ot.y||0,dt=ot.x||0,vt=ht.x-ot.x||0,mt=ht.y-ot.y||0;this.width=vt,this.height=mt,nt||this.setPositionByOrigin({x:dt,y:st},"left","top")},_toSVG:function(it){for(var at=["<g ","COMMON_PARTS",` >
`],nt=0,ot=this._objects.length;nt<ot;nt++)at.push("		",this._objects[nt].toSVG(it));return at.push(`</g>
`),at},getSvgStyles:function(){var it=typeof this.opacity!="undefined"&&this.opacity!==1?"opacity: "+this.opacity+";":"",at=this.visible?"":" visibility: hidden;";return[it,this.getSvgFilter(),at].join("")},toClipPathSVG:function(it){for(var at=[],nt=0,ot=this._objects.length;nt<ot;nt++)at.push("	",this._objects[nt].toClipPathSVG(it));return this._createBaseClipPathSVGMarkup(at,{reviver:it})}}),rt.Group.fromObject=function(it,at){var nt=it.objects,ot=rt.util.object.clone(it,!0);if(delete ot.objects,typeof nt=="string"){rt.loadSVGFromURL(nt,function(ht){var st=rt.util.groupSVGElements(ht,it,nt),dt=ot.clipPath;delete ot.clipPath,st.set(ot),dt?rt.util.enlivenObjects([dt],function(vt){st.clipPath=vt[0],at&&at(st)}):at&&at(st)});return}rt.util.enlivenObjects(nt,function(ht){rt.util.enlivenObjectEnlivables(it,ot,function(){at&&at(new rt.Group(ht,ot,!0))})})})}($),function(ct){var rt=ct.fabric||(ct.fabric={});rt.ActiveSelection||(rt.ActiveSelection=rt.util.createClass(rt.Group,{type:"activeSelection",initialize:function(lt,ft){ft=ft||{},this._objects=lt||[];for(var it=this._objects.length;it--;)this._objects[it].group=this;ft.originX&&(this.originX=ft.originX),ft.originY&&(this.originY=ft.originY),this._calcBounds(),this._updateObjectsCoords(),rt.Object.prototype.initialize.call(this,ft),this.setCoords()},toGroup:function(){var lt=this._objects.concat();this._objects=[];var ft=rt.Object.prototype.toObject.call(this),it=new rt.Group([]);if(delete ft.type,it.set(ft),lt.forEach(function(nt){nt.canvas.remove(nt),nt.group=it}),it._objects=lt,!this.canvas)return it;var at=this.canvas;return at.add(it),at._activeObject=it,it.setCoords(),it},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(lt,ft,it){lt.save(),lt.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",lt,ft),it=it||{},typeof it.hasControls=="undefined"&&(it.hasControls=!1),it.forActiveSelection=!0;for(var at=0,nt=this._objects.length;at<nt;at++)this._objects[at]._renderControls(lt,it);lt.restore()}}),rt.ActiveSelection.fromObject=function(lt,ft){rt.util.enlivenObjects(lt.objects,function(it){delete lt.objects,ft&&ft(new rt.ActiveSelection(it,lt,!0))})})}($),function(ct){var rt=_e.util.object.extend;if(ct.fabric||(ct.fabric={}),ct.fabric.Image){_e.warn("fabric.Image is already defined.");return}_e.Image=_e.util.createClass(_e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:_e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:_e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(lt,ft){ft||(ft={}),this.filters=[],this.cacheKey="texture"+_e.Object.__uid++,this.callSuper("initialize",ft),this._initElement(lt,ft)},getElement:function(){return this._element||{}},setElement:function(lt,ft){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=lt,this._originalElement=lt,this._initConfig(ft),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(lt){var ft=_e.filterBackend;ft&&ft.evictCachesForKey&&ft.evictCachesForKey(lt)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(lt){_e.util.cleanUpJsdomNode(this[lt]),this[lt]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var lt=this.getElement();return{width:lt.naturalWidth||lt.width,height:lt.naturalHeight||lt.height}},_stroke:function(lt){if(!(!this.stroke||this.strokeWidth===0)){var ft=this.width/2,it=this.height/2;lt.beginPath(),lt.moveTo(-ft,-it),lt.lineTo(ft,-it),lt.lineTo(ft,it),lt.lineTo(-ft,it),lt.lineTo(-ft,-it),lt.closePath()}},toObject:function(lt){var ft=[];this.filters.forEach(function(at){at&&ft.push(at.toObject())});var it=rt(this.callSuper("toObject",["cropX","cropY"].concat(lt)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:ft});return this.resizeFilter&&(it.resizeFilter=this.resizeFilter.toObject()),it},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var lt=[],ft=[],it,at=this._element,nt=-this.width/2,ot=-this.height/2,ht="",st="";if(!at)return[];if(this.hasCrop()){var dt=_e.Object.__uid++;lt.push('<clipPath id="imageCrop_'+dt+`">
`,'	<rect x="'+nt+'" y="'+ot+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),ht=' clip-path="url(#imageCrop_'+dt+')" '}if(this.imageSmoothing||(st='" image-rendering="optimizeSpeed'),ft.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',nt-this.cropX,'" y="',ot-this.cropY,'" width="',at.width||at.naturalWidth,'" height="',at.height||at.height,st,'"',ht,`></image>
`),this.stroke||this.strokeDashArray){var vt=this.fill;this.fill=null,it=["	<rect ",'x="',nt,'" y="',ot,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=vt}return this.paintFirst!=="fill"?lt=lt.concat(it,ft):lt=lt.concat(ft,it),lt},getSrc:function(lt){var ft=lt?this._element:this._originalElement;return ft?ft.toDataURL?ft.toDataURL():this.srcFromAttribute?ft.getAttribute("src"):ft.src:this.src||""},setSrc:function(lt,ft,it){return _e.util.loadImage(lt,function(at,nt){this.setElement(at,it),this._setWidthHeight(),ft&&ft(this,nt)},this,it&&it.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var lt=this.resizeFilter,ft=this.minimumScaleTrigger,it=this.getTotalObjectScaling(),at=it.scaleX,nt=it.scaleY,ot=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!lt||at>ft&&nt>ft){this._element=ot,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=at,this._lastScaleY=nt;return}_e.filterBackend||(_e.filterBackend=_e.initFilterBackend());var ht=_e.util.createCanvasElement(),st=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,dt=ot.width,vt=ot.height;ht.width=dt,ht.height=vt,this._element=ht,this._lastScaleX=lt.scaleX=at,this._lastScaleY=lt.scaleY=nt,_e.filterBackend.applyFilters([lt],ot,dt,vt,this._element,st),this._filterScalingX=ht.width/this._originalElement.width,this._filterScalingY=ht.height/this._originalElement.height},applyFilters:function(lt){if(lt=lt||this.filters||[],lt=lt.filter(function(ot){return ot&&!ot.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),lt.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var ft=this._originalElement,it=ft.naturalWidth||ft.width,at=ft.naturalHeight||ft.height;if(this._element===this._originalElement){var nt=_e.util.createCanvasElement();nt.width=it,nt.height=at,this._element=nt,this._filteredEl=nt}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,it,at),this._lastScaleX=1,this._lastScaleY=1;return _e.filterBackend||(_e.filterBackend=_e.initFilterBackend()),_e.filterBackend.applyFilters(lt,this._originalElement,it,at,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(lt){_e.util.setImageSmoothing(lt,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(lt),this._renderPaintInOrder(lt)},drawCacheOnCanvas:function(lt){_e.util.setImageSmoothing(lt,this.imageSmoothing),_e.Object.prototype.drawCacheOnCanvas.call(this,lt)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(lt){var ft=this._element;if(!!ft){var it=this._filterScalingX,at=this._filterScalingY,nt=this.width,ot=this.height,ht=Math.min,st=Math.max,dt=st(this.cropX,0),vt=st(this.cropY,0),mt=ft.naturalWidth||ft.width,gt=ft.naturalHeight||ft.height,bt=dt*it,_t=vt*at,Ct=ht(nt*it,mt-bt),xt=ht(ot*at,gt-_t),Tt=-nt/2,Mt=-ot/2,jt=ht(nt,mt/it-dt),Gt=ht(ot,gt/at-vt);ft&&lt.drawImage(ft,bt,_t,Ct,xt,Tt,Mt,jt,Gt)}},_needsResize:function(){var lt=this.getTotalObjectScaling();return lt.scaleX!==this._lastScaleX||lt.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(lt,ft){this.setElement(_e.util.getById(lt),ft),_e.util.addClass(this.getElement(),_e.Image.CSS_CANVAS)},_initConfig:function(lt){lt||(lt={}),this.setOptions(lt),this._setWidthHeight(lt)},_initFilters:function(lt,ft){lt&&lt.length?_e.util.enlivenObjects(lt,function(it){ft&&ft(it)},"fabric.Image.filters"):ft&&ft()},_setWidthHeight:function(lt){lt||(lt={});var ft=this.getElement();this.width=lt.width||ft.naturalWidth||ft.width||0,this.height=lt.height||ft.naturalHeight||ft.height||0},parsePreserveAspectRatioAttribute:function(){var lt=_e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),ft=this._element.width,it=this._element.height,at=1,nt=1,ot=0,ht=0,st=0,dt=0,vt,mt=this.width,gt=this.height,bt={width:mt,height:gt};return lt&&(lt.alignX!=="none"||lt.alignY!=="none")?(lt.meetOrSlice==="meet"&&(at=nt=_e.util.findScaleToFit(this._element,bt),vt=(mt-ft*at)/2,lt.alignX==="Min"&&(ot=-vt),lt.alignX==="Max"&&(ot=vt),vt=(gt-it*nt)/2,lt.alignY==="Min"&&(ht=-vt),lt.alignY==="Max"&&(ht=vt)),lt.meetOrSlice==="slice"&&(at=nt=_e.util.findScaleToCover(this._element,bt),vt=ft-mt/at,lt.alignX==="Mid"&&(st=vt/2),lt.alignX==="Max"&&(st=vt),vt=it-gt/nt,lt.alignY==="Mid"&&(dt=vt/2),lt.alignY==="Max"&&(dt=vt),ft=mt/at,it=gt/nt)):(at=mt/ft,nt=gt/it),{width:ft,height:it,scaleX:at,scaleY:nt,offsetLeft:ot,offsetTop:ht,cropX:st,cropY:dt}}}),_e.Image.CSS_CANVAS="canvas-img",_e.Image.prototype.getSvgSrc=_e.Image.prototype.getSrc,_e.Image.fromObject=function(lt,ft){var it=_e.util.object.clone(lt);_e.util.loadImage(it.src,function(at,nt){if(nt){ft&&ft(null,!0);return}_e.Image.prototype._initFilters.call(it,it.filters,function(ot){it.filters=ot||[],_e.Image.prototype._initFilters.call(it,[it.resizeFilter],function(ht){it.resizeFilter=ht[0],_e.util.enlivenObjectEnlivables(it,it,function(){var st=new _e.Image(at,it);ft(st,!1)})})})},null,it.crossOrigin)},_e.Image.fromURL=function(lt,ft,it){_e.util.loadImage(lt,function(at,nt){ft&&ft(new _e.Image(at,it),nt)},null,it&&it.crossOrigin)},_e.Image.ATTRIBUTE_NAMES=_e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),_e.Image.fromElement=function(lt,ft,it){var at=_e.parseAttributes(lt,_e.Image.ATTRIBUTE_NAMES);_e.Image.fromURL(at["xlink:href"],ft,rt(it?_e.util.object.clone(it):{},at))}}($),_e.util.object.extend(_e.Object.prototype,{_getAngleValueForStraighten:function(){var ct=this.angle%360;return ct>0?Math.round((ct-1)/90)*90:Math.round(ct/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(ct){ct=ct||{};var rt=function(){},lt=ct.onComplete||rt,ft=ct.onChange||rt,it=this;return _e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(at){it.rotate(at),ft()},onComplete:function(){it.setCoords(),lt()}})}}),_e.util.object.extend(_e.StaticCanvas.prototype,{straightenObject:function(ct){return ct.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(ct){return ct.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function ct(lt,ft){var it="precision "+ft+` float;
void main(){}`,at=lt.createShader(lt.FRAGMENT_SHADER);return lt.shaderSource(at,it),lt.compileShader(at),!!lt.getShaderParameter(at,lt.COMPILE_STATUS)}_e.isWebglSupported=function(lt){if(_e.isLikelyNode)return!1;lt=lt||_e.WebglFilterBackend.prototype.tileSize;var ft=document.createElement("canvas"),it=ft.getContext("webgl")||ft.getContext("experimental-webgl"),at=!1;if(it){_e.maxTextureSize=it.getParameter(it.MAX_TEXTURE_SIZE),at=_e.maxTextureSize>=lt;for(var nt=["highp","mediump","lowp"],ot=0;ot<3;ot++)if(ct(it,nt[ot])){_e.webGlPrecision=nt[ot];break}}return this.isSupported=at,at},_e.WebglFilterBackend=rt;function rt(lt){lt&&lt.tileSize&&(this.tileSize=lt.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}rt.prototype={tileSize:2048,resources:{},setupGLContext:function(lt,ft){this.dispose(),this.createWebGLCanvas(lt,ft),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(lt,ft)},chooseFastestCopyGLTo2DMethod:function(lt,ft){var it=typeof window.performance!="undefined",at;try{new ImageData(1,1),at=!0}catch{at=!1}var nt=typeof ArrayBuffer!="undefined",ot=typeof Uint8ClampedArray!="undefined";if(!!(it&&at&&nt&&ot)){var ht=_e.util.createCanvasElement(),st=new ArrayBuffer(lt*ft*4);if(_e.forceGLPutImageData){this.imageBuffer=st,this.copyGLTo2D=yt;return}var dt={imageBuffer:st,destinationWidth:lt,destinationHeight:ft,targetCanvas:ht},vt,mt,gt;ht.width=lt,ht.height=ft,vt=window.performance.now(),pt.call(dt,this.gl,dt),mt=window.performance.now()-vt,vt=window.performance.now(),yt.call(dt,this.gl,dt),gt=window.performance.now()-vt,mt>gt?(this.imageBuffer=st,this.copyGLTo2D=yt):this.copyGLTo2D=pt}},createWebGLCanvas:function(lt,ft){var it=_e.util.createCanvasElement();it.width=lt,it.height=ft;var at={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},nt=it.getContext("webgl",at);nt||(nt=it.getContext("experimental-webgl",at)),nt&&(nt.clearColor(0,0,0,0),this.canvas=it,this.gl=nt)},applyFilters:function(lt,ft,it,at,nt,ot){var ht=this.gl,st;ot&&(st=this.getCachedTexture(ot,ft));var dt={originalWidth:ft.width||ft.originalWidth,originalHeight:ft.height||ft.originalHeight,sourceWidth:it,sourceHeight:at,destinationWidth:it,destinationHeight:at,context:ht,sourceTexture:this.createTexture(ht,it,at,!st&&ft),targetTexture:this.createTexture(ht,it,at),originalTexture:st||this.createTexture(ht,it,at,!st&&ft),passes:lt.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:nt},vt=ht.createFramebuffer();return ht.bindFramebuffer(ht.FRAMEBUFFER,vt),lt.forEach(function(mt){mt&&mt.applyTo(dt)}),ut(dt),this.copyGLTo2D(ht,dt),ht.bindTexture(ht.TEXTURE_2D,null),ht.deleteTexture(dt.sourceTexture),ht.deleteTexture(dt.targetTexture),ht.deleteFramebuffer(vt),nt.getContext("2d").setTransform(1,0,0,1,0,0),dt},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(lt,ft,it,at){var nt=lt.createTexture();return lt.bindTexture(lt.TEXTURE_2D,nt),lt.texParameteri(lt.TEXTURE_2D,lt.TEXTURE_MAG_FILTER,lt.NEAREST),lt.texParameteri(lt.TEXTURE_2D,lt.TEXTURE_MIN_FILTER,lt.NEAREST),lt.texParameteri(lt.TEXTURE_2D,lt.TEXTURE_WRAP_S,lt.CLAMP_TO_EDGE),lt.texParameteri(lt.TEXTURE_2D,lt.TEXTURE_WRAP_T,lt.CLAMP_TO_EDGE),at?lt.texImage2D(lt.TEXTURE_2D,0,lt.RGBA,lt.RGBA,lt.UNSIGNED_BYTE,at):lt.texImage2D(lt.TEXTURE_2D,0,lt.RGBA,ft,it,0,lt.RGBA,lt.UNSIGNED_BYTE,null),nt},getCachedTexture:function(lt,ft){if(this.textureCache[lt])return this.textureCache[lt];var it=this.createTexture(this.gl,ft.width,ft.height,ft);return this.textureCache[lt]=it,it},evictCachesForKey:function(lt){this.textureCache[lt]&&(this.gl.deleteTexture(this.textureCache[lt]),delete this.textureCache[lt])},copyGLTo2D:pt,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var lt=this.gl,ft={renderer:"",vendor:""};if(!lt)return ft;var it=lt.getExtension("WEBGL_debug_renderer_info");if(it){var at=lt.getParameter(it.UNMASKED_RENDERER_WEBGL),nt=lt.getParameter(it.UNMASKED_VENDOR_WEBGL);at&&(ft.renderer=at.toLowerCase()),nt&&(ft.vendor=nt.toLowerCase())}return this.gpuInfo=ft,ft}}}();function ut(ct){var rt=ct.targetCanvas,lt=rt.width,ft=rt.height,it=ct.destinationWidth,at=ct.destinationHeight;(lt!==it||ft!==at)&&(rt.width=it,rt.height=at)}function pt(ct,rt){var lt=ct.canvas,ft=rt.targetCanvas,it=ft.getContext("2d");it.translate(0,ft.height),it.scale(1,-1);var at=lt.height-ft.height;it.drawImage(lt,0,at,ft.width,ft.height,0,0,ft.width,ft.height)}function yt(ct,rt){var lt=rt.targetCanvas,ft=lt.getContext("2d"),it=rt.destinationWidth,at=rt.destinationHeight,nt=it*at*4,ot=new Uint8Array(this.imageBuffer,0,nt),ht=new Uint8ClampedArray(this.imageBuffer,0,nt);ct.readPixels(0,0,it,at,ct.RGBA,ct.UNSIGNED_BYTE,ot);var st=new ImageData(ht,it,at);ft.putImageData(st,0,0)}(function(){var ct=function(){};_e.Canvas2dFilterBackend=rt;function rt(){}rt.prototype={evictCachesForKey:ct,dispose:ct,clearWebGLCaches:ct,resources:{},applyFilters:function(lt,ft,it,at,nt){var ot=nt.getContext("2d");ot.drawImage(ft,0,0,it,at);var ht=ot.getImageData(0,0,it,at),st=ot.getImageData(0,0,it,at),dt={sourceWidth:it,sourceHeight:at,imageData:ht,originalEl:ft,originalImageData:st,canvasEl:nt,ctx:ot,filterBackend:this};return lt.forEach(function(vt){vt.applyTo(dt)}),(dt.imageData.width!==it||dt.imageData.height!==at)&&(nt.width=dt.imageData.width,nt.height=dt.imageData.height),ot.putImageData(dt.imageData,0,0),dt}}})(),_e.Image=_e.Image||{},_e.Image.filters=_e.Image.filters||{},_e.Image.filters.BaseFilter=_e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(ct){ct&&this.setOptions(ct)},setOptions:function(ct){for(var rt in ct)this[rt]=ct[rt]},createProgram:function(ct,rt,lt){rt=rt||this.fragmentSource,lt=lt||this.vertexSource,_e.webGlPrecision!=="highp"&&(rt=rt.replace(/precision highp float/g,"precision "+_e.webGlPrecision+" float"));var ft=ct.createShader(ct.VERTEX_SHADER);if(ct.shaderSource(ft,lt),ct.compileShader(ft),!ct.getShaderParameter(ft,ct.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+ct.getShaderInfoLog(ft));var it=ct.createShader(ct.FRAGMENT_SHADER);if(ct.shaderSource(it,rt),ct.compileShader(it),!ct.getShaderParameter(it,ct.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+ct.getShaderInfoLog(it));var at=ct.createProgram();if(ct.attachShader(at,ft),ct.attachShader(at,it),ct.linkProgram(at),!ct.getProgramParameter(at,ct.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+ct.getProgramInfoLog(at));var nt=this.getAttributeLocations(ct,at),ot=this.getUniformLocations(ct,at)||{};return ot.uStepW=ct.getUniformLocation(at,"uStepW"),ot.uStepH=ct.getUniformLocation(at,"uStepH"),{program:at,attributeLocations:nt,uniformLocations:ot}},getAttributeLocations:function(ct,rt){return{aPosition:ct.getAttribLocation(rt,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(ct,rt,lt){var ft=rt.aPosition,it=ct.createBuffer();ct.bindBuffer(ct.ARRAY_BUFFER,it),ct.enableVertexAttribArray(ft),ct.vertexAttribPointer(ft,2,ct.FLOAT,!1,0,0),ct.bufferData(ct.ARRAY_BUFFER,lt,ct.STATIC_DRAW)},_setupFrameBuffer:function(ct){var rt=ct.context,lt,ft;ct.passes>1?(lt=ct.destinationWidth,ft=ct.destinationHeight,(ct.sourceWidth!==lt||ct.sourceHeight!==ft)&&(rt.deleteTexture(ct.targetTexture),ct.targetTexture=ct.filterBackend.createTexture(rt,lt,ft)),rt.framebufferTexture2D(rt.FRAMEBUFFER,rt.COLOR_ATTACHMENT0,rt.TEXTURE_2D,ct.targetTexture,0)):(rt.bindFramebuffer(rt.FRAMEBUFFER,null),rt.finish())},_swapTextures:function(ct){ct.passes--,ct.pass++;var rt=ct.targetTexture;ct.targetTexture=ct.sourceTexture,ct.sourceTexture=rt},isNeutralState:function(){var ct=this.mainParameter,rt=_e.Image.filters[this.type].prototype;if(ct)if(Array.isArray(rt[ct])){for(var lt=rt[ct].length;lt--;)if(this[ct][lt]!==rt[ct][lt])return!1;return!0}else return rt[ct]===this[ct];else return!1},applyTo:function(ct){ct.webgl?(this._setupFrameBuffer(ct),this.applyToWebGL(ct),this._swapTextures(ct)):this.applyTo2d(ct)},retrieveShader:function(ct){return ct.programCache.hasOwnProperty(this.type)||(ct.programCache[this.type]=this.createProgram(ct.context)),ct.programCache[this.type]},applyToWebGL:function(ct){var rt=ct.context,lt=this.retrieveShader(ct);ct.pass===0&&ct.originalTexture?rt.bindTexture(rt.TEXTURE_2D,ct.originalTexture):rt.bindTexture(rt.TEXTURE_2D,ct.sourceTexture),rt.useProgram(lt.program),this.sendAttributeData(rt,lt.attributeLocations,ct.aPosition),rt.uniform1f(lt.uniformLocations.uStepW,1/ct.sourceWidth),rt.uniform1f(lt.uniformLocations.uStepH,1/ct.sourceHeight),this.sendUniformData(rt,lt.uniformLocations),rt.viewport(0,0,ct.destinationWidth,ct.destinationHeight),rt.drawArrays(rt.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(ct,rt,lt){ct.activeTexture(lt),ct.bindTexture(ct.TEXTURE_2D,rt),ct.activeTexture(ct.TEXTURE0)},unbindAdditionalTexture:function(ct,rt){ct.activeTexture(rt),ct.bindTexture(ct.TEXTURE_2D,null),ct.activeTexture(ct.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(ct){this[this.mainParameter]=ct},sendUniformData:function(){},createHelpLayer:function(ct){if(!ct.helpLayer){var rt=document.createElement("canvas");rt.width=ct.sourceWidth,rt.height=ct.sourceHeight,ct.helpLayer=rt}},toObject:function(){var ct={type:this.type},rt=this.mainParameter;return rt&&(ct[rt]=this[rt]),ct},toJSON:function(){return this.toObject()}}),_e.Image.filters.BaseFilter.fromObject=function(ct,rt){var lt=new _e.Image.filters[ct.type](ct);return rt&&rt(lt),lt},function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass;lt.ColorMatrix=ft(lt.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(it){this.callSuper("initialize",it),this.matrix=this.matrix.slice(0)},applyTo2d:function(it){var at=it.imageData,nt=at.data,ot=nt.length,ht=this.matrix,st,dt,vt,mt,gt,bt=this.colorsOnly;for(gt=0;gt<ot;gt+=4)st=nt[gt],dt=nt[gt+1],vt=nt[gt+2],bt?(nt[gt]=st*ht[0]+dt*ht[1]+vt*ht[2]+ht[4]*255,nt[gt+1]=st*ht[5]+dt*ht[6]+vt*ht[7]+ht[9]*255,nt[gt+2]=st*ht[10]+dt*ht[11]+vt*ht[12]+ht[14]*255):(mt=nt[gt+3],nt[gt]=st*ht[0]+dt*ht[1]+vt*ht[2]+mt*ht[3]+ht[4]*255,nt[gt+1]=st*ht[5]+dt*ht[6]+vt*ht[7]+mt*ht[8]+ht[9]*255,nt[gt+2]=st*ht[10]+dt*ht[11]+vt*ht[12]+mt*ht[13]+ht[14]*255,nt[gt+3]=st*ht[15]+dt*ht[16]+vt*ht[17]+mt*ht[18]+ht[19]*255)},getUniformLocations:function(it,at){return{uColorMatrix:it.getUniformLocation(at,"uColorMatrix"),uConstants:it.getUniformLocation(at,"uConstants")}},sendUniformData:function(it,at){var nt=this.matrix,ot=[nt[0],nt[1],nt[2],nt[3],nt[5],nt[6],nt[7],nt[8],nt[10],nt[11],nt[12],nt[13],nt[15],nt[16],nt[17],nt[18]],ht=[nt[4],nt[9],nt[14],nt[19]];it.uniformMatrix4fv(at.uColorMatrix,!1,ot),it.uniform4fv(at.uConstants,ht)}}),rt.Image.filters.ColorMatrix.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass;lt.Brightness=ft(lt.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(it){if(this.brightness!==0){var at=it.imageData,nt=at.data,ot,ht=nt.length,st=Math.round(this.brightness*255);for(ot=0;ot<ht;ot+=4)nt[ot]=nt[ot]+st,nt[ot+1]=nt[ot+1]+st,nt[ot+2]=nt[ot+2]+st}},getUniformLocations:function(it,at){return{uBrightness:it.getUniformLocation(at,"uBrightness")}},sendUniformData:function(it,at){it.uniform1f(at.uBrightness,this.brightness)}}),rt.Image.filters.Brightness.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.object.extend,ft=rt.Image.filters,it=rt.util.createClass;ft.Convolute=it(ft.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(at){var nt=Math.sqrt(this.matrix.length),ot=this.type+"_"+nt+"_"+(this.opaque?1:0),ht=this.fragmentSource[ot];return at.programCache.hasOwnProperty(ot)||(at.programCache[ot]=this.createProgram(at.context,ht)),at.programCache[ot]},applyTo2d:function(at){var nt=at.imageData,ot=nt.data,ht=this.matrix,st=Math.round(Math.sqrt(ht.length)),dt=Math.floor(st/2),vt=nt.width,mt=nt.height,gt=at.ctx.createImageData(vt,mt),bt=gt.data,_t=this.opaque?1:0,Ct,xt,Tt,Mt,jt,Gt,zt,Xt,Kt,qt,er,Ut,Ot;for(er=0;er<mt;er++)for(qt=0;qt<vt;qt++){for(jt=(er*vt+qt)*4,Ct=0,xt=0,Tt=0,Mt=0,Ot=0;Ot<st;Ot++)for(Ut=0;Ut<st;Ut++)zt=er+Ot-dt,Gt=qt+Ut-dt,!(zt<0||zt>=mt||Gt<0||Gt>=vt)&&(Xt=(zt*vt+Gt)*4,Kt=ht[Ot*st+Ut],Ct+=ot[Xt]*Kt,xt+=ot[Xt+1]*Kt,Tt+=ot[Xt+2]*Kt,_t||(Mt+=ot[Xt+3]*Kt));bt[jt]=Ct,bt[jt+1]=xt,bt[jt+2]=Tt,_t?bt[jt+3]=ot[jt+3]:bt[jt+3]=Mt}at.imageData=gt},getUniformLocations:function(at,nt){return{uMatrix:at.getUniformLocation(nt,"uMatrix"),uOpaque:at.getUniformLocation(nt,"uOpaque"),uHalfSize:at.getUniformLocation(nt,"uHalfSize"),uSize:at.getUniformLocation(nt,"uSize")}},sendUniformData:function(at,nt){at.uniform1fv(nt.uMatrix,this.matrix)},toObject:function(){return lt(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),rt.Image.filters.Convolute.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass;lt.Grayscale=ft(lt.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(it){var at=it.imageData,nt=at.data,ot,ht=nt.length,st,dt=this.mode;for(ot=0;ot<ht;ot+=4)dt==="average"?st=(nt[ot]+nt[ot+1]+nt[ot+2])/3:dt==="lightness"?st=(Math.min(nt[ot],nt[ot+1],nt[ot+2])+Math.max(nt[ot],nt[ot+1],nt[ot+2]))/2:dt==="luminosity"&&(st=.21*nt[ot]+.72*nt[ot+1]+.07*nt[ot+2]),nt[ot]=st,nt[ot+1]=st,nt[ot+2]=st},retrieveShader:function(it){var at=this.type+"_"+this.mode;if(!it.programCache.hasOwnProperty(at)){var nt=this.fragmentSource[this.mode];it.programCache[at]=this.createProgram(it.context,nt)}return it.programCache[at]},getUniformLocations:function(it,at){return{uMode:it.getUniformLocation(at,"uMode")}},sendUniformData:function(it,at){var nt=1;it.uniform1i(at.uMode,nt)},isNeutralState:function(){return!1}}),rt.Image.filters.Grayscale.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass;lt.Invert=ft(lt.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(it){var at=it.imageData,nt=at.data,ot,ht=nt.length;for(ot=0;ot<ht;ot+=4)nt[ot]=255-nt[ot],nt[ot+1]=255-nt[ot+1],nt[ot+2]=255-nt[ot+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(it,at){return{uInvert:it.getUniformLocation(at,"uInvert")}},sendUniformData:function(it,at){it.uniform1i(at.uInvert,this.invert)}}),rt.Image.filters.Invert.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.object.extend,ft=rt.Image.filters,it=rt.util.createClass;ft.Noise=it(ft.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(at){if(this.noise!==0){var nt=at.imageData,ot=nt.data,ht,st=ot.length,dt=this.noise,vt;for(ht=0,st=ot.length;ht<st;ht+=4)vt=(.5-Math.random())*dt,ot[ht]+=vt,ot[ht+1]+=vt,ot[ht+2]+=vt}},getUniformLocations:function(at,nt){return{uNoise:at.getUniformLocation(nt,"uNoise"),uSeed:at.getUniformLocation(nt,"uSeed")}},sendUniformData:function(at,nt){at.uniform1f(nt.uNoise,this.noise/255),at.uniform1f(nt.uSeed,Math.random())},toObject:function(){return lt(this.callSuper("toObject"),{noise:this.noise})}}),rt.Image.filters.Noise.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass;lt.Pixelate=ft(lt.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(it){var at=it.imageData,nt=at.data,ot=at.height,ht=at.width,st,dt,vt,mt,gt,bt,_t,Ct,xt,Tt,Mt;for(dt=0;dt<ot;dt+=this.blocksize)for(vt=0;vt<ht;vt+=this.blocksize)for(st=dt*4*ht+vt*4,mt=nt[st],gt=nt[st+1],bt=nt[st+2],_t=nt[st+3],Tt=Math.min(dt+this.blocksize,ot),Mt=Math.min(vt+this.blocksize,ht),Ct=dt;Ct<Tt;Ct++)for(xt=vt;xt<Mt;xt++)st=Ct*4*ht+xt*4,nt[st]=mt,nt[st+1]=gt,nt[st+2]=bt,nt[st+3]=_t},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(it,at){return{uBlocksize:it.getUniformLocation(at,"uBlocksize"),uStepW:it.getUniformLocation(at,"uStepW"),uStepH:it.getUniformLocation(at,"uStepH")}},sendUniformData:function(it,at){it.uniform1f(at.uBlocksize,this.blocksize)}}),rt.Image.filters.Pixelate.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.object.extend,ft=rt.Image.filters,it=rt.util.createClass;ft.RemoveColor=it(ft.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(at){var nt=at.imageData,ot=nt.data,ht,st=this.distance*255,dt,vt,mt,gt=new rt.Color(this.color).getSource(),bt=[gt[0]-st,gt[1]-st,gt[2]-st],_t=[gt[0]+st,gt[1]+st,gt[2]+st];for(ht=0;ht<ot.length;ht+=4)dt=ot[ht],vt=ot[ht+1],mt=ot[ht+2],dt>bt[0]&&vt>bt[1]&&mt>bt[2]&&dt<_t[0]&&vt<_t[1]&&mt<_t[2]&&(ot[ht+3]=0)},getUniformLocations:function(at,nt){return{uLow:at.getUniformLocation(nt,"uLow"),uHigh:at.getUniformLocation(nt,"uHigh")}},sendUniformData:function(at,nt){var ot=new rt.Color(this.color).getSource(),ht=parseFloat(this.distance),st=[0+ot[0]/255-ht,0+ot[1]/255-ht,0+ot[2]/255-ht,1],dt=[ot[0]/255+ht,ot[1]/255+ht,ot[2]/255+ht,1];at.uniform4fv(nt.uLow,st),at.uniform4fv(nt.uHigh,dt)},toObject:function(){return lt(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),rt.Image.filters.RemoveColor.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass,it={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var at in it)lt[at]=ft(lt.ColorMatrix,{type:at,matrix:it[at],mainParameter:!1,colorsOnly:!0}),rt.Image.filters[at].fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric,lt=rt.Image.filters,ft=rt.util.createClass;lt.BlendColor=ft(lt.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(it){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[it]+`}
}`},retrieveShader:function(it){var at=this.type+"_"+this.mode,nt;return it.programCache.hasOwnProperty(at)||(nt=this.buildSource(this.mode),it.programCache[at]=this.createProgram(it.context,nt)),it.programCache[at]},applyTo2d:function(it){var at=it.imageData,nt=at.data,ot=nt.length,ht,st,dt,vt,mt,gt,bt,_t=1-this.alpha;bt=new rt.Color(this.color).getSource(),ht=bt[0]*this.alpha,st=bt[1]*this.alpha,dt=bt[2]*this.alpha;for(var Ct=0;Ct<ot;Ct+=4)switch(vt=nt[Ct],mt=nt[Ct+1],gt=nt[Ct+2],this.mode){case"multiply":nt[Ct]=vt*ht/255,nt[Ct+1]=mt*st/255,nt[Ct+2]=gt*dt/255;break;case"screen":nt[Ct]=255-(255-vt)*(255-ht)/255,nt[Ct+1]=255-(255-mt)*(255-st)/255,nt[Ct+2]=255-(255-gt)*(255-dt)/255;break;case"add":nt[Ct]=vt+ht,nt[Ct+1]=mt+st,nt[Ct+2]=gt+dt;break;case"diff":case"difference":nt[Ct]=Math.abs(vt-ht),nt[Ct+1]=Math.abs(mt-st),nt[Ct+2]=Math.abs(gt-dt);break;case"subtract":nt[Ct]=vt-ht,nt[Ct+1]=mt-st,nt[Ct+2]=gt-dt;break;case"darken":nt[Ct]=Math.min(vt,ht),nt[Ct+1]=Math.min(mt,st),nt[Ct+2]=Math.min(gt,dt);break;case"lighten":nt[Ct]=Math.max(vt,ht),nt[Ct+1]=Math.max(mt,st),nt[Ct+2]=Math.max(gt,dt);break;case"overlay":nt[Ct]=ht<128?2*vt*ht/255:255-2*(255-vt)*(255-ht)/255,nt[Ct+1]=st<128?2*mt*st/255:255-2*(255-mt)*(255-st)/255,nt[Ct+2]=dt<128?2*gt*dt/255:255-2*(255-gt)*(255-dt)/255;break;case"exclusion":nt[Ct]=ht+vt-2*ht*vt/255,nt[Ct+1]=st+mt-2*st*mt/255,nt[Ct+2]=dt+gt-2*dt*gt/255;break;case"tint":nt[Ct]=ht+vt*_t,nt[Ct+1]=st+mt*_t,nt[Ct+2]=dt+gt*_t}},getUniformLocations:function(it,at){return{uColor:it.getUniformLocation(at,"uColor")}},sendUniformData:function(it,at){var nt=new rt.Color(this.color).getSource();nt[0]=this.alpha*nt[0]/255,nt[1]=this.alpha*nt[1]/255,nt[2]=this.alpha*nt[2]/255,nt[3]=this.alpha,it.uniform4fv(at.uColor,nt)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),rt.Image.filters.BlendColor.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric,lt=rt.Image.filters,ft=rt.util.createClass;lt.BlendImage=ft(lt.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(it){var at=this.type+"_"+this.mode,nt=this.fragmentSource[this.mode];return it.programCache.hasOwnProperty(at)||(it.programCache[at]=this.createProgram(it.context,nt)),it.programCache[at]},applyToWebGL:function(it){var at=it.context,nt=this.createTexture(it.filterBackend,this.image);this.bindAdditionalTexture(at,nt,at.TEXTURE1),this.callSuper("applyToWebGL",it),this.unbindAdditionalTexture(at,at.TEXTURE1)},createTexture:function(it,at){return it.getCachedTexture(at.cacheKey,at._element)},calculateMatrix:function(){var it=this.image,at=it._element.width,nt=it._element.height;return[1/it.scaleX,0,0,0,1/it.scaleY,0,-it.left/at,-it.top/nt,1]},applyTo2d:function(it){var at=it.imageData,nt=it.filterBackend.resources,ot=at.data,ht=ot.length,st=at.width,dt=at.height,vt,mt,gt,bt,_t,Ct,xt,Tt,Mt,jt,Gt=this.image,zt;nt.blendImage||(nt.blendImage=rt.util.createCanvasElement()),Mt=nt.blendImage,jt=Mt.getContext("2d"),Mt.width!==st||Mt.height!==dt?(Mt.width=st,Mt.height=dt):jt.clearRect(0,0,st,dt),jt.setTransform(Gt.scaleX,0,0,Gt.scaleY,Gt.left,Gt.top),jt.drawImage(Gt._element,0,0,st,dt),zt=jt.getImageData(0,0,st,dt).data;for(var Xt=0;Xt<ht;Xt+=4)switch(_t=ot[Xt],Ct=ot[Xt+1],xt=ot[Xt+2],Tt=ot[Xt+3],vt=zt[Xt],mt=zt[Xt+1],gt=zt[Xt+2],bt=zt[Xt+3],this.mode){case"multiply":ot[Xt]=_t*vt/255,ot[Xt+1]=Ct*mt/255,ot[Xt+2]=xt*gt/255,ot[Xt+3]=Tt*bt/255;break;case"mask":ot[Xt+3]=bt;break}},getUniformLocations:function(it,at){return{uTransformMatrix:it.getUniformLocation(at,"uTransformMatrix"),uImage:it.getUniformLocation(at,"uImage")}},sendUniformData:function(it,at){var nt=this.calculateMatrix();it.uniform1i(at.uImage,1),it.uniformMatrix3fv(at.uTransformMatrix,!1,nt)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),rt.Image.filters.BlendImage.fromObject=function(it,at){rt.Image.fromObject(it.image,function(nt){var ot=rt.util.object.clone(it);ot.image=nt,at(new rt.Image.filters.BlendImage(ot))})}}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=Math.pow,ft=Math.floor,it=Math.sqrt,at=Math.abs,nt=Math.round,ot=Math.sin,ht=Math.ceil,st=rt.Image.filters,dt=rt.util.createClass;st.Resize=dt(st.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(vt,mt){return{uDelta:vt.getUniformLocation(mt,"uDelta"),uTaps:vt.getUniformLocation(mt,"uTaps")}},sendUniformData:function(vt,mt){vt.uniform2fv(mt.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),vt.uniform1fv(mt.uTaps,this.taps)},retrieveShader:function(vt){var mt=this.getFilterWindow(),gt=this.type+"_"+mt;if(!vt.programCache.hasOwnProperty(gt)){var bt=this.generateShader(mt);vt.programCache[gt]=this.createProgram(vt.context,bt)}return vt.programCache[gt]},getFilterWindow:function(){var vt=this.tempScale;return Math.ceil(this.lanczosLobes/vt)},getTaps:function(){for(var vt=this.lanczosCreate(this.lanczosLobes),mt=this.tempScale,gt=this.getFilterWindow(),bt=new Array(gt),_t=1;_t<=gt;_t++)bt[_t-1]=vt(_t*mt);return bt},generateShader:function(bt){for(var mt=new Array(bt),gt=this.fragmentSourceTOP,bt,_t=1;_t<=bt;_t++)mt[_t-1]=_t+".0 * uDelta";return gt+="uniform float uTaps["+bt+`];
`,gt+=`void main() {
`,gt+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,gt+=`  float sum = 1.0;
`,mt.forEach(function(Ct,xt){gt+="  color += texture2D(uTexture, vTexCoord + "+Ct+") * uTaps["+xt+`];
`,gt+="  color += texture2D(uTexture, vTexCoord - "+Ct+") * uTaps["+xt+`];
`,gt+="  sum += 2.0 * uTaps["+xt+`];
`}),gt+=`  gl_FragColor = color / sum;
`,gt+="}",gt},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(vt){vt.webgl?(vt.passes++,this.width=vt.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=vt.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),vt.destinationWidth=this.dW,this._setupFrameBuffer(vt),this.applyToWebGL(vt),this._swapTextures(vt),vt.sourceWidth=vt.destinationWidth,this.height=vt.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),vt.destinationHeight=this.dH,this._setupFrameBuffer(vt),this.applyToWebGL(vt),this._swapTextures(vt),vt.sourceHeight=vt.destinationHeight):this.applyTo2d(vt)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(vt){return function(mt){if(mt>=vt||mt<=-vt)return 0;if(mt<11920929e-14&&mt>-11920929e-14)return 1;mt*=Math.PI;var gt=mt/vt;return ot(mt)/mt*ot(gt)/gt}},applyTo2d:function(vt){var mt=vt.imageData,gt=this.scaleX,bt=this.scaleY;this.rcpScaleX=1/gt,this.rcpScaleY=1/bt;var _t=mt.width,Ct=mt.height,xt=nt(_t*gt),Tt=nt(Ct*bt),Mt;this.resizeType==="sliceHack"?Mt=this.sliceByTwo(vt,_t,Ct,xt,Tt):this.resizeType==="hermite"?Mt=this.hermiteFastResize(vt,_t,Ct,xt,Tt):this.resizeType==="bilinear"?Mt=this.bilinearFiltering(vt,_t,Ct,xt,Tt):this.resizeType==="lanczos"&&(Mt=this.lanczosResize(vt,_t,Ct,xt,Tt)),vt.imageData=Mt},sliceByTwo:function(vt,mt,gt,bt,_t){var Ct=vt.imageData,xt=.5,Tt=!1,Mt=!1,jt=mt*xt,Gt=gt*xt,zt=rt.filterBackend.resources,Xt,Kt,qt=0,er=0,Ut=mt,Ot=0;for(zt.sliceByTwo||(zt.sliceByTwo=document.createElement("canvas")),Xt=zt.sliceByTwo,(Xt.width<mt*1.5||Xt.height<gt)&&(Xt.width=mt*1.5,Xt.height=gt),Kt=Xt.getContext("2d"),Kt.clearRect(0,0,mt*1.5,gt),Kt.putImageData(Ct,0,0),bt=ft(bt),_t=ft(_t);!Tt||!Mt;)mt=jt,gt=Gt,bt<ft(jt*xt)?jt=ft(jt*xt):(jt=bt,Tt=!0),_t<ft(Gt*xt)?Gt=ft(Gt*xt):(Gt=_t,Mt=!0),Kt.drawImage(Xt,qt,er,mt,gt,Ut,Ot,jt,Gt),qt=Ut,er=Ot,Ot+=Gt;return Kt.getImageData(qt,er,bt,_t)},lanczosResize:function(vt,mt,gt,bt,_t){function Ct(wt){var Pt,Lt,Dt,It,Nt,Jt,sr,lr,Ht,Bt,Ft;for(Ot.x=(wt+.5)*Gt,Et.x=ft(Ot.x),Pt=0;Pt<_t;Pt++){for(Ot.y=(Pt+.5)*zt,Et.y=ft(Ot.y),Nt=0,Jt=0,sr=0,lr=0,Ht=0,Lt=Et.x-qt;Lt<=Et.x+qt;Lt++)if(!(Lt<0||Lt>=mt)){Bt=ft(1e3*at(Lt-Ot.x)),Ut[Bt]||(Ut[Bt]={});for(var At=Et.y-er;At<=Et.y+er;At++)At<0||At>=gt||(Ft=ft(1e3*at(At-Ot.y)),Ut[Bt][Ft]||(Ut[Bt][Ft]=jt(it(lt(Bt*Xt,2)+lt(Ft*Kt,2))/1e3)),Dt=Ut[Bt][Ft],Dt>0&&(It=(At*mt+Lt)*4,Nt+=Dt,Jt+=Dt*xt[It],sr+=Dt*xt[It+1],lr+=Dt*xt[It+2],Ht+=Dt*xt[It+3]))}It=(Pt*bt+wt)*4,Mt[It]=Jt/Nt,Mt[It+1]=sr/Nt,Mt[It+2]=lr/Nt,Mt[It+3]=Ht/Nt}return++wt<bt?Ct(wt):Tt}var xt=vt.imageData.data,Tt=vt.ctx.createImageData(bt,_t),Mt=Tt.data,jt=this.lanczosCreate(this.lanczosLobes),Gt=this.rcpScaleX,zt=this.rcpScaleY,Xt=2/this.rcpScaleX,Kt=2/this.rcpScaleY,qt=ht(Gt*this.lanczosLobes/2),er=ht(zt*this.lanczosLobes/2),Ut={},Ot={},Et={};return Ct(0)},bilinearFiltering:function(vt,mt,gt,bt,_t){var Ct,xt,Tt,Mt,jt,Gt,zt,Xt,Kt,qt,er,Ut,Ot=0,Et,wt=this.rcpScaleX,Pt=this.rcpScaleY,Lt=4*(mt-1),Dt=vt.imageData,It=Dt.data,Nt=vt.ctx.createImageData(bt,_t),Jt=Nt.data;for(zt=0;zt<_t;zt++)for(Xt=0;Xt<bt;Xt++)for(jt=ft(wt*Xt),Gt=ft(Pt*zt),Kt=wt*Xt-jt,qt=Pt*zt-Gt,Et=4*(Gt*mt+jt),er=0;er<4;er++)Ct=It[Et+er],xt=It[Et+4+er],Tt=It[Et+Lt+er],Mt=It[Et+Lt+4+er],Ut=Ct*(1-Kt)*(1-qt)+xt*Kt*(1-qt)+Tt*qt*(1-Kt)+Mt*Kt*qt,Jt[Ot++]=Ut;return Nt},hermiteFastResize:function(vt,mt,gt,bt,_t){for(var Ct=this.rcpScaleX,xt=this.rcpScaleY,Tt=ht(Ct/2),Mt=ht(xt/2),jt=vt.imageData,Gt=jt.data,zt=vt.ctx.createImageData(bt,_t),Xt=zt.data,Kt=0;Kt<_t;Kt++)for(var qt=0;qt<bt;qt++){for(var er=(qt+Kt*bt)*4,Ut=0,Ot=0,Et=0,wt=0,Pt=0,Lt=0,Dt=0,It=(Kt+.5)*xt,Nt=ft(Kt*xt);Nt<(Kt+1)*xt;Nt++)for(var Jt=at(It-(Nt+.5))/Mt,sr=(qt+.5)*Ct,lr=Jt*Jt,Ht=ft(qt*Ct);Ht<(qt+1)*Ct;Ht++){var Bt=at(sr-(Ht+.5))/Tt,Ft=it(lr+Bt*Bt);Ft>1&&Ft<-1||(Ut=2*Ft*Ft*Ft-3*Ft*Ft+1,Ut>0&&(Bt=4*(Ht+Nt*mt),Dt+=Ut*Gt[Bt+3],Et+=Ut,Gt[Bt+3]<255&&(Ut=Ut*Gt[Bt+3]/250),wt+=Ut*Gt[Bt],Pt+=Ut*Gt[Bt+1],Lt+=Ut*Gt[Bt+2],Ot+=Ut))}Xt[er]=wt/Ot,Xt[er+1]=Pt/Ot,Xt[er+2]=Lt/Ot,Xt[er+3]=Dt/Et}return zt},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),rt.Image.filters.Resize.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass;lt.Contrast=ft(lt.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(it){if(this.contrast!==0){var at=it.imageData,nt,ht,ot=at.data,ht=ot.length,st=Math.floor(this.contrast*255),dt=259*(st+255)/(255*(259-st));for(nt=0;nt<ht;nt+=4)ot[nt]=dt*(ot[nt]-128)+128,ot[nt+1]=dt*(ot[nt+1]-128)+128,ot[nt+2]=dt*(ot[nt+2]-128)+128}},getUniformLocations:function(it,at){return{uContrast:it.getUniformLocation(at,"uContrast")}},sendUniformData:function(it,at){it.uniform1f(at.uContrast,this.contrast)}}),rt.Image.filters.Contrast.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass;lt.Saturation=ft(lt.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(it){if(this.saturation!==0){var at=it.imageData,nt=at.data,ot=nt.length,ht=-this.saturation,st,dt;for(st=0;st<ot;st+=4)dt=Math.max(nt[st],nt[st+1],nt[st+2]),nt[st]+=dt!==nt[st]?(dt-nt[st])*ht:0,nt[st+1]+=dt!==nt[st+1]?(dt-nt[st+1])*ht:0,nt[st+2]+=dt!==nt[st+2]?(dt-nt[st+2])*ht:0}},getUniformLocations:function(it,at){return{uSaturation:it.getUniformLocation(at,"uSaturation")}},sendUniformData:function(it,at){it.uniform1f(at.uSaturation,-this.saturation)}}),rt.Image.filters.Saturation.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass;lt.Vibrance=ft(lt.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(it){if(this.vibrance!==0){var at=it.imageData,nt=at.data,ot=nt.length,ht=-this.vibrance,st,dt,vt,mt;for(st=0;st<ot;st+=4)dt=Math.max(nt[st],nt[st+1],nt[st+2]),vt=(nt[st]+nt[st+1]+nt[st+2])/3,mt=Math.abs(dt-vt)*2/255*ht,nt[st]+=dt!==nt[st]?(dt-nt[st])*mt:0,nt[st+1]+=dt!==nt[st+1]?(dt-nt[st+1])*mt:0,nt[st+2]+=dt!==nt[st+2]?(dt-nt[st+2])*mt:0}},getUniformLocations:function(it,at){return{uVibrance:it.getUniformLocation(at,"uVibrance")}},sendUniformData:function(it,at){it.uniform1f(at.uVibrance,-this.vibrance)}}),rt.Image.filters.Vibrance.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass;lt.Blur=ft(lt.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(it){it.webgl?(this.aspectRatio=it.sourceWidth/it.sourceHeight,it.passes++,this._setupFrameBuffer(it),this.horizontal=!0,this.applyToWebGL(it),this._swapTextures(it),this._setupFrameBuffer(it),this.horizontal=!1,this.applyToWebGL(it),this._swapTextures(it)):this.applyTo2d(it)},applyTo2d:function(it){it.imageData=this.simpleBlur(it)},simpleBlur:function(it){var at=it.filterBackend.resources,nt,ot,ht=it.imageData.width,st=it.imageData.height;at.blurLayer1||(at.blurLayer1=rt.util.createCanvasElement(),at.blurLayer2=rt.util.createCanvasElement()),nt=at.blurLayer1,ot=at.blurLayer2,(nt.width!==ht||nt.height!==st)&&(ot.width=nt.width=ht,ot.height=nt.height=st);var dt=nt.getContext("2d"),vt=ot.getContext("2d"),mt=15,gt,bt,_t,Ct,xt=this.blur*.06*.5;for(dt.putImageData(it.imageData,0,0),vt.clearRect(0,0,ht,st),Ct=-mt;Ct<=mt;Ct++)gt=(Math.random()-.5)/4,bt=Ct/mt,_t=xt*bt*ht+gt,vt.globalAlpha=1-Math.abs(bt),vt.drawImage(nt,_t,gt),dt.drawImage(ot,0,0),vt.globalAlpha=1,vt.clearRect(0,0,ot.width,ot.height);for(Ct=-mt;Ct<=mt;Ct++)gt=(Math.random()-.5)/4,bt=Ct/mt,_t=xt*bt*st+gt,vt.globalAlpha=1-Math.abs(bt),vt.drawImage(nt,gt,_t),dt.drawImage(ot,0,0),vt.globalAlpha=1,vt.clearRect(0,0,ot.width,ot.height);it.ctx.drawImage(nt,0,0);var Tt=it.ctx.getImageData(0,0,nt.width,nt.height);return dt.globalAlpha=1,dt.clearRect(0,0,nt.width,nt.height),Tt},getUniformLocations:function(it,at){return{delta:it.getUniformLocation(at,"uDelta")}},sendUniformData:function(it,at){var nt=this.chooseRightDelta();it.uniform2fv(at.delta,nt)},chooseRightDelta:function(){var it=1,at=[0,0],nt;return this.horizontal?this.aspectRatio>1&&(it=1/this.aspectRatio):this.aspectRatio<1&&(it=this.aspectRatio),nt=it*this.blur*.12,this.horizontal?at[0]=nt:at[1]=nt,at}}),lt.Blur.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass;lt.Gamma=ft(lt.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(it){this.gamma=[1,1,1],lt.BaseFilter.prototype.initialize.call(this,it)},applyTo2d:function(it){var at=it.imageData,nt=at.data,ot=this.gamma,ht=nt.length,st=1/ot[0],dt=1/ot[1],vt=1/ot[2],mt;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),mt=0,ht=256;mt<ht;mt++)this.rVals[mt]=Math.pow(mt/255,st)*255,this.gVals[mt]=Math.pow(mt/255,dt)*255,this.bVals[mt]=Math.pow(mt/255,vt)*255;for(mt=0,ht=nt.length;mt<ht;mt+=4)nt[mt]=this.rVals[nt[mt]],nt[mt+1]=this.gVals[nt[mt+1]],nt[mt+2]=this.bVals[nt[mt+2]]},getUniformLocations:function(it,at){return{uGamma:it.getUniformLocation(at,"uGamma")}},sendUniformData:function(it,at){it.uniform3fv(at.uGamma,this.gamma)}}),rt.Image.filters.Gamma.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass;lt.Composed=ft(lt.BaseFilter,{type:"Composed",subFilters:[],initialize:function(it){this.callSuper("initialize",it),this.subFilters=this.subFilters.slice(0)},applyTo:function(it){it.passes+=this.subFilters.length-1,this.subFilters.forEach(function(at){at.applyTo(it)})},toObject:function(){return rt.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(it){return it.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(it){return!it.isNeutralState()})}}),rt.Image.filters.Composed.fromObject=function(it,at){var nt=it.subFilters||[],ot=nt.map(function(st){return new rt.Image.filters[st.type](st)}),ht=new rt.Image.filters.Composed({subFilters:ot});return at&&at(ht),ht}}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.Image.filters,ft=rt.util.createClass;lt.HueRotation=ft(lt.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var it=this.rotation*Math.PI,at=rt.util.cos(it),nt=rt.util.sin(it),ot=1/3,ht=Math.sqrt(ot)*nt,st=1-at;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=at+st/3,this.matrix[1]=ot*st-ht,this.matrix[2]=ot*st+ht,this.matrix[5]=ot*st+ht,this.matrix[6]=at+ot*st,this.matrix[7]=ot*st-ht,this.matrix[10]=ot*st-ht,this.matrix[11]=ot*st+ht,this.matrix[12]=at+ot*st},isNeutralState:function(it){return this.calculateMatrix(),lt.BaseFilter.prototype.isNeutralState.call(this,it)},applyTo:function(it){this.calculateMatrix(),lt.BaseFilter.prototype.applyTo.call(this,it)}}),rt.Image.filters.HueRotation.fromObject=rt.Image.filters.BaseFilter.fromObject}($),function(ct){var rt=ct.fabric||(ct.fabric={}),lt=rt.util.object.clone;if(rt.Text){rt.warn("fabric.Text is already defined");return}var ft="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");rt.Text=rt.util.createClass(rt.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:rt.Object.prototype.stateProperties.concat(ft),cacheProperties:rt.Object.prototype.cacheProperties.concat(ft),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(it,at){this.styles=at?at.styles||{}:{},this.text=it,this.__skipDimension=!0,this.callSuper("initialize",at),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var it=this.path;it&&(it.segmentsInfo=rt.util.getPathSegmentsInfo(it.path))},getMeasuringContext:function(){return rt._measuringContext||(rt._measuringContext=this.canvas&&this.canvas.contextCache||rt.util.createCanvasElement().getContext("2d")),rt._measuringContext},_splitText:function(){var it=this._splitTextIntoLines(this.text);return this.textLines=it.lines,this._textLines=it.graphemeLines,this._unwrappedTextLines=it._unwrappedLines,this._text=it.graphemeText,it},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var it,at,nt,ot,ht,st,dt,vt=0,mt=this._textLines.length;vt<mt;vt++)if(!(this.textAlign!=="justify"&&(vt===mt-1||this.isEndOfWrapping(vt)))&&(ot=0,ht=this._textLines[vt],at=this.getLineWidth(vt),at<this.width&&(dt=this.textLines[vt].match(this._reSpacesAndTabs)))){nt=dt.length,it=(this.width-at)/nt;for(var gt=0,bt=ht.length;gt<=bt;gt++)st=this.__charBounds[vt][gt],this._reSpaceAndTab.test(ht[gt])?(st.width+=it,st.kernedWidth+=it,st.left+=ot,ot+=it):st.left+=ot}},isEndOfWrapping:function(it){return it===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var it=this.callSuper("_getCacheCanvasDimensions"),at=this.fontSize;return it.width+=at*it.zoomX,it.height+=at*it.zoomY,it},_render:function(it){var at=this.path;at&&!at.isNotVisible()&&at._render(it),this._setTextStyles(it),this._renderTextLinesBackground(it),this._renderTextDecoration(it,"underline"),this._renderText(it),this._renderTextDecoration(it,"overline"),this._renderTextDecoration(it,"linethrough")},_renderText:function(it){this.paintFirst==="stroke"?(this._renderTextStroke(it),this._renderTextFill(it)):(this._renderTextFill(it),this._renderTextStroke(it))},_setTextStyles:function(it,at,nt){if(it.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":it.textBaseline="middle";break;case"ascender":it.textBaseline="top";break;case"descender":it.textBaseline="bottom";break}it.font=this._getFontDeclaration(at,nt)},calcTextWidth:function(){for(var it=this.getLineWidth(0),at=1,nt=this._textLines.length;at<nt;at++){var ot=this.getLineWidth(at);ot>it&&(it=ot)}return it},_renderTextLine:function(it,at,nt,ot,ht,st){this._renderChars(it,at,nt,ot,ht,st)},_renderTextLinesBackground:function(it){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var at,nt,ot=it.fillStyle,ht,st,dt=this._getLeftOffset(),vt=this._getTopOffset(),mt=0,gt=0,bt,_t,Ct=this.path,xt,Tt=0,Mt=this._textLines.length;Tt<Mt;Tt++){if(at=this.getHeightOfLine(Tt),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Tt)){vt+=at;continue}ht=this._textLines[Tt],nt=this._getLineLeftOffset(Tt),gt=0,mt=0,st=this.getValueOfPropertyAt(Tt,0,"textBackgroundColor");for(var jt=0,Gt=ht.length;jt<Gt;jt++)bt=this.__charBounds[Tt][jt],_t=this.getValueOfPropertyAt(Tt,jt,"textBackgroundColor"),Ct?(it.save(),it.translate(bt.renderLeft,bt.renderTop),it.rotate(bt.angle),it.fillStyle=_t,_t&&it.fillRect(-bt.width/2,-at/this.lineHeight*(1-this._fontSizeFraction),bt.width,at/this.lineHeight),it.restore()):_t!==st?(xt=dt+nt+mt,this.direction==="rtl"&&(xt=this.width-xt-gt),it.fillStyle=st,st&&it.fillRect(xt,vt,gt,at/this.lineHeight),mt=bt.left,gt=bt.width,st=_t):gt+=bt.kernedWidth;_t&&!Ct&&(xt=dt+nt+mt,this.direction==="rtl"&&(xt=this.width-xt-gt),it.fillStyle=_t,it.fillRect(xt,vt,gt,at/this.lineHeight)),vt+=at}it.fillStyle=ot,this._removeShadow(it)}},getFontCache:function(it){var at=it.fontFamily.toLowerCase();rt.charWidthsCache[at]||(rt.charWidthsCache[at]={});var nt=rt.charWidthsCache[at],ot=it.fontStyle.toLowerCase()+"_"+(it.fontWeight+"").toLowerCase();return nt[ot]||(nt[ot]={}),nt[ot]},_measureChar:function(it,at,nt,ot){var ht=this.getFontCache(at),st=this._getFontDeclaration(at),dt=this._getFontDeclaration(ot),vt=nt+it,mt=st===dt,gt,bt,_t,Ct=at.fontSize/this.CACHE_FONT_SIZE,xt;if(nt&&ht[nt]!==void 0&&(_t=ht[nt]),ht[it]!==void 0&&(xt=gt=ht[it]),mt&&ht[vt]!==void 0&&(bt=ht[vt],xt=bt-_t),gt===void 0||_t===void 0||bt===void 0){var Tt=this.getMeasuringContext();this._setTextStyles(Tt,at,!0)}return gt===void 0&&(xt=gt=Tt.measureText(it).width,ht[it]=gt),_t===void 0&&mt&&nt&&(_t=Tt.measureText(nt).width,ht[nt]=_t),mt&&bt===void 0&&(bt=Tt.measureText(vt).width,ht[vt]=bt,xt=bt-_t),{width:gt*Ct,kernedWidth:xt*Ct}},getHeightOfChar:function(it,at){return this.getValueOfPropertyAt(it,at,"fontSize")},measureLine:function(it){var at=this._measureLine(it);return this.charSpacing!==0&&(at.width-=this._getWidthOfCharSpacing()),at.width<0&&(at.width=0),at},_measureLine:function(it){var at=0,nt,ot,ht=this._textLines[it],st,dt,vt=0,mt=new Array(ht.length),gt=0,bt,_t,Ct=this.path,xt=this.pathSide==="right";for(this.__charBounds[it]=mt,nt=0;nt<ht.length;nt++)ot=ht[nt],dt=this._getGraphemeBox(ot,it,nt,st),mt[nt]=dt,at+=dt.kernedWidth,st=ot;if(mt[nt]={left:dt?dt.left+dt.width:0,width:0,kernedWidth:0,height:this.fontSize},Ct){switch(_t=Ct.segmentsInfo[Ct.segmentsInfo.length-1].length,bt=rt.util.getPointOnPath(Ct.path,0,Ct.segmentsInfo),bt.x+=Ct.pathOffset.x,bt.y+=Ct.pathOffset.y,this.textAlign){case"left":gt=xt?_t-at:0;break;case"center":gt=(_t-at)/2;break;case"right":gt=xt?0:_t-at;break}for(gt+=this.pathStartOffset*(xt?-1:1),nt=xt?ht.length-1:0;xt?nt>=0:nt<ht.length;xt?nt--:nt++)dt=mt[nt],gt>_t?gt%=_t:gt<0&&(gt+=_t),this._setGraphemeOnPath(gt,dt,bt),gt+=dt.kernedWidth}return{width:at,numOfSpaces:vt}},_setGraphemeOnPath:function(it,at,nt){var ot=it+at.kernedWidth/2,ht=this.path,st=rt.util.getPointOnPath(ht.path,ot,ht.segmentsInfo);at.renderLeft=st.x-nt.x,at.renderTop=st.y-nt.y,at.angle=st.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(it,at,nt,ot,ht){var st=this.getCompleteStyleDeclaration(at,nt),dt=ot?this.getCompleteStyleDeclaration(at,nt-1):{},vt=this._measureChar(it,st,ot,dt),mt=vt.kernedWidth,gt=vt.width,bt;this.charSpacing!==0&&(bt=this._getWidthOfCharSpacing(),gt+=bt,mt+=bt);var _t={width:gt,left:0,height:st.fontSize,kernedWidth:mt,deltaY:st.deltaY};if(nt>0&&!ht){var Ct=this.__charBounds[at][nt-1];_t.left=Ct.left+Ct.width+vt.kernedWidth-vt.width}return _t},getHeightOfLine:function(it){if(this.__lineHeights[it])return this.__lineHeights[it];for(var at=this._textLines[it],nt=this.getHeightOfChar(it,0),ot=1,ht=at.length;ot<ht;ot++)nt=Math.max(this.getHeightOfChar(it,ot),nt);return this.__lineHeights[it]=nt*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var it,at=0,nt=0,ot=this._textLines.length;nt<ot;nt++)it=this.getHeightOfLine(nt),at+=nt===ot-1?it/this.lineHeight:it;return at},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(it,at){it.save();for(var nt=0,ot=this._getLeftOffset(),ht=this._getTopOffset(),st=0,dt=this._textLines.length;st<dt;st++){var vt=this.getHeightOfLine(st),mt=vt/this.lineHeight,gt=this._getLineLeftOffset(st);this._renderTextLine(at,it,this._textLines[st],ot+gt,ht+nt+mt,st),nt+=vt}it.restore()},_renderTextFill:function(it){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(it,"fillText")},_renderTextStroke:function(it){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(it),it.save(),this._setLineDash(it,this.strokeDashArray),it.beginPath(),this._renderTextCommon(it,"strokeText"),it.closePath(),it.restore())},_renderChars:function(it,at,nt,ot,ht,st){var dt=this.getHeightOfLine(st),vt=this.textAlign.indexOf("justify")!==-1,mt,gt,bt="",_t,Ct=0,xt,Tt=this.path,Mt=!vt&&this.charSpacing===0&&this.isEmptyStyles(st)&&!Tt,jt=this.direction==="ltr",Gt=this.direction==="ltr"?1:-1,zt,Xt=at.canvas.getAttribute("dir");if(at.save(),Xt!==this.direction&&(at.canvas.setAttribute("dir",jt?"ltr":"rtl"),at.direction=jt?"ltr":"rtl",at.textAlign=jt?"left":"right"),ht-=dt*this._fontSizeFraction/this.lineHeight,Mt){this._renderChar(it,at,st,0,nt.join(""),ot,ht,dt),at.restore();return}for(var Kt=0,qt=nt.length-1;Kt<=qt;Kt++)xt=Kt===qt||this.charSpacing||Tt,bt+=nt[Kt],_t=this.__charBounds[st][Kt],Ct===0?(ot+=Gt*(_t.kernedWidth-_t.width),Ct+=_t.width):Ct+=_t.kernedWidth,vt&&!xt&&this._reSpaceAndTab.test(nt[Kt])&&(xt=!0),xt||(mt=mt||this.getCompleteStyleDeclaration(st,Kt),gt=this.getCompleteStyleDeclaration(st,Kt+1),xt=rt.util.hasStyleChanged(mt,gt,!1)),xt&&(Tt?(at.save(),at.translate(_t.renderLeft,_t.renderTop),at.rotate(_t.angle),this._renderChar(it,at,st,Kt,bt,-Ct/2,0,dt),at.restore()):(zt=ot,this._renderChar(it,at,st,Kt,bt,zt,ht,dt)),bt="",mt=gt,ot+=Gt*Ct,Ct=0);at.restore()},_applyPatternGradientTransformText:function(it){var at=rt.util.createCanvasElement(),nt,ot=this.width+this.strokeWidth,ht=this.height+this.strokeWidth;return at.width=ot,at.height=ht,nt=at.getContext("2d"),nt.beginPath(),nt.moveTo(0,0),nt.lineTo(ot,0),nt.lineTo(ot,ht),nt.lineTo(0,ht),nt.closePath(),nt.translate(ot/2,ht/2),nt.fillStyle=it.toLive(nt),this._applyPatternGradientTransform(nt,it),nt.fill(),nt.createPattern(at,"no-repeat")},handleFiller:function(it,at,nt){var ot,ht;return nt.toLive?nt.gradientUnits==="percentage"||nt.gradientTransform||nt.patternTransform?(ot=-this.width/2,ht=-this.height/2,it.translate(ot,ht),it[at]=this._applyPatternGradientTransformText(nt),{offsetX:ot,offsetY:ht}):(it[at]=nt.toLive(it,this),this._applyPatternGradientTransform(it,nt)):(it[at]=nt,{offsetX:0,offsetY:0})},_setStrokeStyles:function(it,at){return it.lineWidth=at.strokeWidth,it.lineCap=this.strokeLineCap,it.lineDashOffset=this.strokeDashOffset,it.lineJoin=this.strokeLineJoin,it.miterLimit=this.strokeMiterLimit,this.handleFiller(it,"strokeStyle",at.stroke)},_setFillStyles:function(it,at){return this.handleFiller(it,"fillStyle",at.fill)},_renderChar:function(it,at,nt,ot,ht,st,dt){var vt=this._getStyleDeclaration(nt,ot),mt=this.getCompleteStyleDeclaration(nt,ot),gt=it==="fillText"&&mt.fill,bt=it==="strokeText"&&mt.stroke&&mt.strokeWidth,_t,Ct;!bt&&!gt||(at.save(),gt&&(_t=this._setFillStyles(at,mt)),bt&&(Ct=this._setStrokeStyles(at,mt)),at.font=this._getFontDeclaration(mt),vt&&vt.textBackgroundColor&&this._removeShadow(at),vt&&vt.deltaY&&(dt+=vt.deltaY),gt&&at.fillText(ht,st-_t.offsetX,dt-_t.offsetY),bt&&at.strokeText(ht,st-Ct.offsetX,dt-Ct.offsetY),at.restore())},setSuperscript:function(it,at){return this._setScript(it,at,this.superscript)},setSubscript:function(it,at){return this._setScript(it,at,this.subscript)},_setScript:function(it,at,nt){var ot=this.get2DCursorLocation(it,!0),ht=this.getValueOfPropertyAt(ot.lineIndex,ot.charIndex,"fontSize"),st=this.getValueOfPropertyAt(ot.lineIndex,ot.charIndex,"deltaY"),dt={fontSize:ht*nt.size,deltaY:st+ht*nt.baseline};return this.setSelectionStyles(dt,it,at),this},_getLineLeftOffset:function(it){var at=this.getLineWidth(it),nt=this.width-at,ot=this.textAlign,ht=this.direction,dt,st=0,dt=this.isEndOfWrapping(it);return ot==="justify"||ot==="justify-center"&&!dt||ot==="justify-right"&&!dt||ot==="justify-left"&&!dt?0:(ot==="center"&&(st=nt/2),ot==="right"&&(st=nt),ot==="justify-center"&&(st=nt/2),ot==="justify-right"&&(st=nt),ht==="rtl"&&(st-=nt),st)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var it=this._forceClearCache;return it||(it=this.hasStateChanged("_dimensionAffectingProps")),it&&(this.dirty=!0,this._forceClearCache=!1),it},getLineWidth:function(it){if(this.__lineWidths[it]!==void 0)return this.__lineWidths[it];var at=this.measureLine(it),nt=at.width;return this.__lineWidths[it]=nt,nt},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(it,at,nt){var ot=this._getStyleDeclaration(it,at);return ot&&typeof ot[nt]!="undefined"?ot[nt]:this[nt]},_renderTextDecoration:function(it,at){if(!(!this[at]&&!this.styleHas(at))){for(var nt,ot,ht,st,dt,vt,mt,gt,bt=this._getLeftOffset(),_t=this._getTopOffset(),Ct,xt,Tt,Mt,jt,Gt,zt,Xt,Kt=this.path,qt=this._getWidthOfCharSpacing(),er=this.offsets[at],Ut=0,Ot=this._textLines.length;Ut<Ot;Ut++){if(nt=this.getHeightOfLine(Ut),!this[at]&&!this.styleHas(at,Ut)){_t+=nt;continue}mt=this._textLines[Ut],Gt=nt/this.lineHeight,st=this._getLineLeftOffset(Ut),xt=0,Tt=0,gt=this.getValueOfPropertyAt(Ut,0,at),Xt=this.getValueOfPropertyAt(Ut,0,"fill"),Ct=_t+Gt*(1-this._fontSizeFraction),ot=this.getHeightOfChar(Ut,0),dt=this.getValueOfPropertyAt(Ut,0,"deltaY");for(var Et=0,wt=mt.length;Et<wt;Et++)if(Mt=this.__charBounds[Ut][Et],jt=this.getValueOfPropertyAt(Ut,Et,at),zt=this.getValueOfPropertyAt(Ut,Et,"fill"),ht=this.getHeightOfChar(Ut,Et),vt=this.getValueOfPropertyAt(Ut,Et,"deltaY"),Kt&&jt&&zt)it.save(),it.fillStyle=Xt,it.translate(Mt.renderLeft,Mt.renderTop),it.rotate(Mt.angle),it.fillRect(-Mt.kernedWidth/2,er*ht+vt,Mt.kernedWidth,this.fontSize/15),it.restore();else if((jt!==gt||zt!==Xt||ht!==ot||vt!==dt)&&Tt>0){var Pt=bt+st+xt;this.direction==="rtl"&&(Pt=this.width-Pt-Tt),gt&&Xt&&(it.fillStyle=Xt,it.fillRect(Pt,Ct+er*ot+dt,Tt,this.fontSize/15)),xt=Mt.left,Tt=Mt.width,gt=jt,Xt=zt,ot=ht,dt=vt}else Tt+=Mt.kernedWidth;var Pt=bt+st+xt;this.direction==="rtl"&&(Pt=this.width-Pt-Tt),it.fillStyle=zt,jt&&zt&&it.fillRect(Pt,Ct+er*ot+dt,Tt-qt,this.fontSize/15),_t+=nt}this._removeShadow(it)}},_getFontDeclaration:function(it,at){var nt=it||this,ot=this.fontFamily,ht=rt.Text.genericFonts.indexOf(ot.toLowerCase())>-1,st=ot===void 0||ot.indexOf("'")>-1||ot.indexOf(",")>-1||ot.indexOf('"')>-1||ht?nt.fontFamily:'"'+nt.fontFamily+'"';return[rt.isLikelyNode?nt.fontWeight:nt.fontStyle,rt.isLikelyNode?nt.fontStyle:nt.fontWeight,at?this.CACHE_FONT_SIZE+"px":nt.fontSize+"px",st].join(" ")},render:function(it){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",it))},_splitTextIntoLines:function(it){for(var at=it.split(this._reNewline),nt=new Array(at.length),ot=[`
`],ht=[],st=0;st<at.length;st++)nt[st]=rt.util.string.graphemeSplit(at[st]),ht=ht.concat(nt[st],ot);return ht.pop(),{_unwrappedLines:nt,lines:at,graphemeText:ht,graphemeLines:nt}},toObject:function(it){var at=ft.concat(it),nt=this.callSuper("toObject",at);return nt.styles=rt.util.stylesToArray(this.styles,this.text),nt.path&&(nt.path=this.path.toObject()),nt},set:function(it,at){this.callSuper("set",it,at);var nt=!1,ot=!1;if(typeof it=="object")for(var ht in it)ht==="path"&&this.setPathInfo(),nt=nt||this._dimensionAffectingProps.indexOf(ht)!==-1,ot=ot||ht==="path";else nt=this._dimensionAffectingProps.indexOf(it)!==-1,ot=it==="path";return ot&&this.setPathInfo(),nt&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),rt.Text.ATTRIBUTE_NAMES=rt.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),rt.Text.DEFAULT_SVG_FONT_SIZE=16,rt.Text.fromElement=function(it,at,nt){if(!it)return at(null);var ot=rt.parseAttributes(it,rt.Text.ATTRIBUTE_NAMES),ht=ot.textAnchor||"left";if(nt=rt.util.object.extend(nt?lt(nt):{},ot),nt.top=nt.top||0,nt.left=nt.left||0,ot.textDecoration){var st=ot.textDecoration;st.indexOf("underline")!==-1&&(nt.underline=!0),st.indexOf("overline")!==-1&&(nt.overline=!0),st.indexOf("line-through")!==-1&&(nt.linethrough=!0),delete nt.textDecoration}"dx"in ot&&(nt.left+=ot.dx),"dy"in ot&&(nt.top+=ot.dy),"fontSize"in nt||(nt.fontSize=rt.Text.DEFAULT_SVG_FONT_SIZE);var dt="";"textContent"in it?dt=it.textContent:"firstChild"in it&&it.firstChild!==null&&"data"in it.firstChild&&it.firstChild.data!==null&&(dt=it.firstChild.data),dt=dt.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var vt=nt.strokeWidth;nt.strokeWidth=0;var mt=new rt.Text(dt,nt),gt=mt.getScaledHeight()/mt.height,bt=(mt.height+mt.strokeWidth)*mt.lineHeight-mt.height,_t=bt*gt,Ct=mt.getScaledHeight()+_t,xt=0;ht==="center"&&(xt=mt.getScaledWidth()/2),ht==="right"&&(xt=mt.getScaledWidth()),mt.set({left:mt.left-xt,top:mt.top-(Ct-mt.fontSize*(.07+mt._fontSizeFraction))/mt.lineHeight,strokeWidth:typeof vt!="undefined"?vt:1}),at(mt)},rt.Text.fromObject=function(it,at){var nt=lt(it),ot=it.path;return delete nt.path,rt.Object._fromObject("Text",nt,function(ht){ht.styles=rt.util.stylesFromArray(it.styles,it.text),ot?rt.Object._fromObject("Path",ot,function(st){ht.set("path",st),at(ht)},"path"):at(ht)},"text")},rt.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],rt.util.createAccessors&&rt.util.createAccessors(rt.Text)}($),function(){_e.util.object.extend(_e.Text.prototype,{isEmptyStyles:function(ct){if(!this.styles||typeof ct!="undefined"&&!this.styles[ct])return!0;var rt=typeof ct=="undefined"?this.styles:{line:this.styles[ct]};for(var lt in rt)for(var ft in rt[lt])for(var it in rt[lt][ft])return!1;return!0},styleHas:function(ct,rt){if(!this.styles||!ct||ct===""||typeof rt!="undefined"&&!this.styles[rt])return!1;var lt=typeof rt=="undefined"?this.styles:{0:this.styles[rt]};for(var ft in lt)for(var it in lt[ft])if(typeof lt[ft][it][ct]!="undefined")return!0;return!1},cleanStyle:function(ct){if(!this.styles||!ct||ct==="")return!1;var rt=this.styles,lt=0,ft,it,at=!0,nt=0,ot;for(var ht in rt){ft=0;for(var st in rt[ht]){var ot=rt[ht][st],dt=ot.hasOwnProperty(ct);lt++,dt?(it?ot[ct]!==it&&(at=!1):it=ot[ct],ot[ct]===this[ct]&&delete ot[ct]):at=!1,Object.keys(ot).length!==0?ft++:delete rt[ht][st]}ft===0&&delete rt[ht]}for(var vt=0;vt<this._textLines.length;vt++)nt+=this._textLines[vt].length;at&&lt===nt&&(this[ct]=it,this.removeStyle(ct))},removeStyle:function(ct){if(!(!this.styles||!ct||ct==="")){var rt=this.styles,lt,ft,it;for(ft in rt){lt=rt[ft];for(it in lt)delete lt[it][ct],Object.keys(lt[it]).length===0&&delete lt[it];Object.keys(lt).length===0&&delete rt[ft]}}},_extendStyles:function(ct,rt){var lt=this.get2DCursorLocation(ct);this._getLineStyle(lt.lineIndex)||this._setLineStyle(lt.lineIndex),this._getStyleDeclaration(lt.lineIndex,lt.charIndex)||this._setStyleDeclaration(lt.lineIndex,lt.charIndex,{}),_e.util.object.extend(this._getStyleDeclaration(lt.lineIndex,lt.charIndex),rt)},get2DCursorLocation:function(ct,rt){typeof ct=="undefined"&&(ct=this.selectionStart);for(var lt=rt?this._unwrappedTextLines:this._textLines,ft=lt.length,it=0;it<ft;it++){if(ct<=lt[it].length)return{lineIndex:it,charIndex:ct};ct-=lt[it].length+this.missingNewlineOffset(it)}return{lineIndex:it-1,charIndex:lt[it-1].length<ct?lt[it-1].length:ct}},getSelectionStyles:function(ct,rt,lt){typeof ct=="undefined"&&(ct=this.selectionStart||0),typeof rt=="undefined"&&(rt=this.selectionEnd||ct);for(var ft=[],it=ct;it<rt;it++)ft.push(this.getStyleAtPosition(it,lt));return ft},getStyleAtPosition:function(ct,rt){var lt=this.get2DCursorLocation(ct),ft=rt?this.getCompleteStyleDeclaration(lt.lineIndex,lt.charIndex):this._getStyleDeclaration(lt.lineIndex,lt.charIndex);return ft||{}},setSelectionStyles:function(ct,rt,lt){typeof rt=="undefined"&&(rt=this.selectionStart||0),typeof lt=="undefined"&&(lt=this.selectionEnd||rt);for(var ft=rt;ft<lt;ft++)this._extendStyles(ft,ct);return this._forceClearCache=!0,this},_getStyleDeclaration:function(ct,rt){var lt=this.styles&&this.styles[ct];return lt?lt[rt]:null},getCompleteStyleDeclaration:function(ct,rt){for(var lt=this._getStyleDeclaration(ct,rt)||{},ft={},it,at=0;at<this._styleProperties.length;at++)it=this._styleProperties[at],ft[it]=typeof lt[it]=="undefined"?this[it]:lt[it];return ft},_setStyleDeclaration:function(ct,rt,lt){this.styles[ct][rt]=lt},_deleteStyleDeclaration:function(ct,rt){delete this.styles[ct][rt]},_getLineStyle:function(ct){return!!this.styles[ct]},_setLineStyle:function(ct){this.styles[ct]={}},_deleteLineStyle:function(ct){delete this.styles[ct]}})}(),function(){function ct(rt){rt.textDecoration&&(rt.textDecoration.indexOf("underline")>-1&&(rt.underline=!0),rt.textDecoration.indexOf("line-through")>-1&&(rt.linethrough=!0),rt.textDecoration.indexOf("overline")>-1&&(rt.overline=!0),delete rt.textDecoration)}_e.IText=_e.util.createClass(_e.Text,_e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(rt,lt){this.callSuper("initialize",rt,lt),this.initBehavior()},setSelectionStart:function(rt){rt=Math.max(rt,0),this._updateAndFire("selectionStart",rt)},setSelectionEnd:function(rt){rt=Math.min(rt,this.text.length),this._updateAndFire("selectionEnd",rt)},_updateAndFire:function(rt,lt){this[rt]!==lt&&(this._fireSelectionChanged(),this[rt]=lt),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(rt){this.clearContextTop(),this.callSuper("render",rt),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(rt){this.callSuper("_render",rt)},clearContextTop:function(rt){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var lt=this.canvas.contextTop,ft=this.canvas.viewportTransform;lt.save(),lt.transform(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]),this.transform(lt),this._clearTextArea(lt),rt||lt.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var rt=this._getCursorBoundaries(),lt=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(rt,lt):this.renderSelection(rt,lt),lt.restore()}},_clearTextArea:function(rt){var lt=this.width+4,ft=this.height+4;rt.clearRect(-lt/2,-ft/2,lt,ft)},_getCursorBoundaries:function(rt){typeof rt=="undefined"&&(rt=this.selectionStart);var lt=this._getLeftOffset(),ft=this._getTopOffset(),it=this._getCursorBoundariesOffsets(rt);return{left:lt,top:ft,leftOffset:it.left,topOffset:it.top}},_getCursorBoundariesOffsets:function(rt){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var lt,ft,it,at=0,nt=0,ot,ht=this.get2DCursorLocation(rt);it=ht.charIndex,ft=ht.lineIndex;for(var st=0;st<ft;st++)at+=this.getHeightOfLine(st);lt=this._getLineLeftOffset(ft);var dt=this.__charBounds[ft][it];return dt&&(nt=dt.left),this.charSpacing!==0&&it===this._textLines[ft].length&&(nt-=this._getWidthOfCharSpacing()),ot={top:at,left:lt+(nt>0?nt:0)},this.direction==="rtl"&&(ot.left*=-1),this.cursorOffsetCache=ot,this.cursorOffsetCache},renderCursor:function(rt,lt){var ft=this.get2DCursorLocation(),it=ft.lineIndex,at=ft.charIndex>0?ft.charIndex-1:0,nt=this.getValueOfPropertyAt(it,at,"fontSize"),ot=this.scaleX*this.canvas.getZoom(),ht=this.cursorWidth/ot,st=rt.topOffset,dt=this.getValueOfPropertyAt(it,at,"deltaY");st+=(1-this._fontSizeFraction)*this.getHeightOfLine(it)/this.lineHeight-nt*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(rt,lt),lt.fillStyle=this.cursorColor||this.getValueOfPropertyAt(it,at,"fill"),lt.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,lt.fillRect(rt.left+rt.leftOffset-ht/2,st+rt.top+dt,ht,nt)},renderSelection:function(rt,lt){for(var ft=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,it=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,at=this.textAlign.indexOf("justify")!==-1,nt=this.get2DCursorLocation(ft),ot=this.get2DCursorLocation(it),ht=nt.lineIndex,st=ot.lineIndex,dt=nt.charIndex<0?0:nt.charIndex,vt=ot.charIndex<0?0:ot.charIndex,mt=ht;mt<=st;mt++){var gt=this._getLineLeftOffset(mt)||0,bt=this.getHeightOfLine(mt),_t=0,Ct=0,xt=0;if(mt===ht&&(Ct=this.__charBounds[ht][dt].left),mt>=ht&&mt<st)xt=at&&!this.isEndOfWrapping(mt)?this.width:this.getLineWidth(mt)||5;else if(mt===st)if(vt===0)xt=this.__charBounds[st][vt].left;else{var Tt=this._getWidthOfCharSpacing();xt=this.__charBounds[st][vt-1].left+this.__charBounds[st][vt-1].width-Tt}_t=bt,(this.lineHeight<1||mt===st&&this.lineHeight>1)&&(bt/=this.lineHeight);var Mt=rt.left+gt+Ct,jt=xt-Ct,Gt=bt,zt=0;this.inCompositionMode?(lt.fillStyle=this.compositionColor||"black",Gt=1,zt=bt):lt.fillStyle=this.selectionColor,this.direction==="rtl"&&(Mt=this.width-Mt-jt),lt.fillRect(Mt,rt.top+rt.topOffset+zt,jt,Gt),rt.topOffset+=_t}},getCurrentCharFontSize:function(){var rt=this._getCurrentCharIndex();return this.getValueOfPropertyAt(rt.l,rt.c,"fontSize")},getCurrentCharColor:function(){var rt=this._getCurrentCharIndex();return this.getValueOfPropertyAt(rt.l,rt.c,"fill")},_getCurrentCharIndex:function(){var rt=this.get2DCursorLocation(this.selectionStart,!0),lt=rt.charIndex>0?rt.charIndex-1:0;return{l:rt.lineIndex,c:lt}}}),_e.IText.fromObject=function(rt,lt){var ft=_e.util.stylesFromArray(rt.styles,rt.text),it=Object.assign({},rt,{styles:ft});if(ct(it),it.styles)for(var at in it.styles)for(var nt in it.styles[at])ct(it.styles[at][nt]);_e.Object._fromObject("IText",it,lt,"text")}}(),function(){var ct=_e.util.object.clone;_e.util.object.extend(_e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var rt=this;this.on("added",function(){var lt=rt.canvas;lt&&(lt._hasITextHandlers||(lt._hasITextHandlers=!0,rt._initCanvasHandlers(lt)),lt._iTextInstances=lt._iTextInstances||[],lt._iTextInstances.push(rt))})},initRemovedHandler:function(){var rt=this;this.on("removed",function(){var lt=rt.canvas;lt&&(lt._iTextInstances=lt._iTextInstances||[],_e.util.removeFromArray(lt._iTextInstances,rt),lt._iTextInstances.length===0&&(lt._hasITextHandlers=!1,rt._removeCanvasHandlers(lt)))})},_initCanvasHandlers:function(rt){rt._mouseUpITextHandler=function(){rt._iTextInstances&&rt._iTextInstances.forEach(function(lt){lt.__isMousedown=!1})},rt.on("mouse:up",rt._mouseUpITextHandler)},_removeCanvasHandlers:function(rt){rt.off("mouse:up",rt._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(rt,lt,ft,it){var at;return at={isAborted:!1,abort:function(){this.isAborted=!0}},rt.animate("_currentCursorOpacity",lt,{duration:ft,onComplete:function(){at.isAborted||rt[it]()},onChange:function(){rt.canvas&&rt.selectionStart===rt.selectionEnd&&rt.renderCursorOrSelection()},abort:function(){return at.isAborted}}),at},_onTickComplete:function(){var rt=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){rt._currentTickCompleteState=rt._animateCursor(rt,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(rt){var lt=this,ft=rt?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){lt._tick()},ft)},abortCursorAnimation:function(){var rt=this._currentTickState||this._currentTickCompleteState,lt=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,rt&&lt&&lt.clearContext(lt.contextTop||lt.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(rt){var lt=0,ft=rt-1;if(this._reSpace.test(this._text[ft]))for(;this._reSpace.test(this._text[ft]);)lt++,ft--;for(;/\S/.test(this._text[ft])&&ft>-1;)lt++,ft--;return rt-lt},findWordBoundaryRight:function(rt){var lt=0,ft=rt;if(this._reSpace.test(this._text[ft]))for(;this._reSpace.test(this._text[ft]);)lt++,ft++;for(;/\S/.test(this._text[ft])&&ft<this._text.length;)lt++,ft++;return rt+lt},findLineBoundaryLeft:function(rt){for(var lt=0,ft=rt-1;!/\n/.test(this._text[ft])&&ft>-1;)lt++,ft--;return rt-lt},findLineBoundaryRight:function(rt){for(var lt=0,ft=rt;!/\n/.test(this._text[ft])&&ft<this._text.length;)lt++,ft++;return rt+lt},searchWordBoundary:function(rt,lt){for(var ft=this._text,it=this._reSpace.test(ft[rt])?rt-1:rt,at=ft[it],nt=_e.reNonWord;!nt.test(at)&&it>0&&it<ft.length;)it+=lt,at=ft[it];return nt.test(at)&&(it+=lt===1?0:1),it},selectWord:function(rt){rt=rt||this.selectionStart;var lt=this.searchWordBoundary(rt,-1),ft=this.searchWordBoundary(rt,1);this.selectionStart=lt,this.selectionEnd=ft,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(rt){rt=rt||this.selectionStart;var lt=this.findLineBoundaryLeft(rt),ft=this.findLineBoundaryRight(rt);return this.selectionStart=lt,this.selectionEnd=ft,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(rt){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(rt),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(rt){rt._iTextInstances&&rt._iTextInstances.forEach(function(lt){lt.selected=!1,lt.isEditing&&lt.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(rt){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var lt=this.getSelectionStartFromPointer(rt.e),ft=this.selectionStart,it=this.selectionEnd;(lt!==this.__selectionStartOnMouseDown||ft===it)&&(ft===lt||it===lt)||(lt>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=lt):(this.selectionStart=lt,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==ft||this.selectionEnd!==it)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(rt,lt,ft){var it=ft.slice(0,rt),at=_e.util.string.graphemeSplit(it).length;if(rt===lt)return{selectionStart:at,selectionEnd:at};var nt=ft.slice(rt,lt),ot=_e.util.string.graphemeSplit(nt).length;return{selectionStart:at,selectionEnd:at+ot}},fromGraphemeToStringSelection:function(rt,lt,ft){var it=ft.slice(0,rt),at=it.join("").length;if(rt===lt)return{selectionStart:at,selectionEnd:at};var nt=ft.slice(rt,lt),ot=nt.join("").length;return{selectionStart:at,selectionEnd:at+ot}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var rt=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=rt.selectionStart,this.hiddenTextarea.selectionEnd=rt.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var rt=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=rt.selectionEnd,this.inCompositionMode||(this.selectionStart=rt.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var rt=this._calcTextareaPosition();this.hiddenTextarea.style.left=rt.left,this.hiddenTextarea.style.top=rt.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var rt=this.inCompositionMode?this.compositionStart:this.selectionStart,lt=this._getCursorBoundaries(rt),ft=this.get2DCursorLocation(rt),it=ft.lineIndex,at=ft.charIndex,nt=this.getValueOfPropertyAt(it,at,"fontSize")*this.lineHeight,ot=lt.leftOffset,ht=this.calcTransformMatrix(),st={x:lt.left+ot,y:lt.top+lt.topOffset+nt},dt=this.canvas.getRetinaScaling(),vt=this.canvas.upperCanvasEl,mt=vt.width/dt,gt=vt.height/dt,bt=mt-nt,_t=gt-nt,Ct=vt.clientWidth/mt,xt=vt.clientHeight/gt;return st=_e.util.transformPoint(st,ht),st=_e.util.transformPoint(st,this.canvas.viewportTransform),st.x*=Ct,st.y*=xt,st.x<0&&(st.x=0),st.x>bt&&(st.x=bt),st.y<0&&(st.y=0),st.y>_t&&(st.y=_t),st.x+=this.canvas._offset.left,st.y+=this.canvas._offset.top,{left:st.x+"px",top:st.y+"px",fontSize:nt+"px",charHeight:nt}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var rt=this._textBeforeEdit!==this.text,lt=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,lt&&(lt.blur&&lt.blur(),lt.parentNode&&lt.parentNode.removeChild(lt)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),rt&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),rt&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var rt in this.styles)this._textLines[rt]||delete this.styles[rt]},removeStyleFromTo:function(rt,lt){var ft=this.get2DCursorLocation(rt,!0),it=this.get2DCursorLocation(lt,!0),at=ft.lineIndex,nt=ft.charIndex,ot=it.lineIndex,ht=it.charIndex,st,dt;if(at!==ot){if(this.styles[at])for(st=nt;st<this._unwrappedTextLines[at].length;st++)delete this.styles[at][st];if(this.styles[ot])for(st=ht;st<this._unwrappedTextLines[ot].length;st++)dt=this.styles[ot][st],dt&&(this.styles[at]||(this.styles[at]={}),this.styles[at][nt+st-ht]=dt);for(st=at+1;st<=ot;st++)delete this.styles[st];this.shiftLineStyles(ot,at-ot)}else if(this.styles[at]){dt=this.styles[at];var vt=ht-nt,mt,gt;for(st=nt;st<ht;st++)delete dt[st];for(gt in this.styles[at])mt=parseInt(gt,10),mt>=ht&&(dt[mt-vt]=dt[gt],delete dt[gt])}},shiftLineStyles:function(rt,lt){var ft=ct(this.styles);for(var it in this.styles){var at=parseInt(it,10);at>rt&&(this.styles[at+lt]=ft[at],ft[at-lt]||delete this.styles[at])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(rt,lt,ft,it){var at,nt={},ot=!1,ht=this._unwrappedTextLines[rt].length===lt;ft||(ft=1),this.shiftLineStyles(rt,ft),this.styles[rt]&&(at=this.styles[rt][lt===0?lt:lt-1]);for(var st in this.styles[rt]){var dt=parseInt(st,10);dt>=lt&&(ot=!0,nt[dt-lt]=this.styles[rt][st],ht&&lt===0||delete this.styles[rt][st])}var vt=!1;for(ot&&!ht&&(this.styles[rt+ft]=nt,vt=!0),vt&&ft--;ft>0;)it&&it[ft-1]?this.styles[rt+ft]={0:ct(it[ft-1])}:at?this.styles[rt+ft]={0:ct(at)}:delete this.styles[rt+ft],ft--;this._forceClearCache=!0},insertCharStyleObject:function(rt,lt,ft,it){this.styles||(this.styles={});var at=this.styles[rt],nt=at?ct(at):{};ft||(ft=1);for(var ot in nt){var ht=parseInt(ot,10);ht>=lt&&(at[ht+ft]=nt[ht],nt[ht-ft]||delete at[ht])}if(this._forceClearCache=!0,it){for(;ft--;)!Object.keys(it[ft]).length||(this.styles[rt]||(this.styles[rt]={}),this.styles[rt][lt+ft]=ct(it[ft]));return}if(!!at)for(var st=at[lt?lt-1:1];st&&ft--;)this.styles[rt][lt+ft]=ct(st)},insertNewStyleBlock:function(rt,lt,ft){for(var it=this.get2DCursorLocation(lt,!0),at=[0],nt=0,ot=0;ot<rt.length;ot++)rt[ot]===`
`?(nt++,at[nt]=0):at[nt]++;at[0]>0&&(this.insertCharStyleObject(it.lineIndex,it.charIndex,at[0],ft),ft=ft&&ft.slice(at[0]+1)),nt&&this.insertNewlineStyleObject(it.lineIndex,it.charIndex+at[0],nt);for(var ot=1;ot<nt;ot++)at[ot]>0?this.insertCharStyleObject(it.lineIndex+ot,0,at[ot],ft):ft&&this.styles[it.lineIndex+ot]&&ft[0]&&(this.styles[it.lineIndex+ot][0]=ft[0]),ft=ft&&ft.slice(at[ot]+1);at[ot]>0&&this.insertCharStyleObject(it.lineIndex+ot,0,at[ot],ft)},setSelectionStartEndWithShift:function(rt,lt,ft){ft<=rt?(lt===rt?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=rt),this.selectionStart=ft):ft>rt&&ft<lt?this._selectionDirection==="right"?this.selectionEnd=ft:this.selectionStart=ft:(lt===rt?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=lt),this.selectionEnd=ft)},setSelectionInBoundaries:function(){var rt=this.text.length;this.selectionStart>rt?this.selectionStart=rt:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>rt?this.selectionEnd=rt:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),_e.util.object.extend(_e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(ct){if(!!this.canvas){this.__newClickTime=+new Date;var rt=ct.pointer;this.isTripleClick(rt)&&(this.fire("tripleclick",ct),this._stopEvent(ct.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=rt,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(ct){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===ct.x&&this.__lastPointer.y===ct.y},_stopEvent:function(ct){ct.preventDefault&&ct.preventDefault(),ct.stopPropagation&&ct.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(ct){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(ct.e))},tripleClickHandler:function(ct){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(ct.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(ct){!this.canvas||!this.editable||ct.e.button&&ct.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(ct.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(ct){!this.canvas||!this.editable||ct.e.button&&ct.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(ct){if(this.__isMousedown=!1,!(!this.editable||this.group||ct.transform&&ct.transform.actionPerformed||ct.e.button&&ct.e.button!==1)){if(this.canvas){var rt=this.canvas._activeObject;if(rt&&rt!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(ct.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(ct){var rt=this.getSelectionStartFromPointer(ct),lt=this.selectionStart,ft=this.selectionEnd;ct.shiftKey?this.setSelectionStartEndWithShift(lt,ft,rt):(this.selectionStart=rt,this.selectionEnd=rt),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(ct){for(var rt=this.getLocalPointer(ct),lt=0,ft=0,it=0,at=0,nt=0,ot,ht,st=0,dt=this._textLines.length;st<dt&&it<=rt.y;st++)it+=this.getHeightOfLine(st)*this.scaleY,nt=st,st>0&&(at+=this._textLines[st-1].length+this.missingNewlineOffset(st-1));ot=this._getLineLeftOffset(nt),ft=ot*this.scaleX,ht=this._textLines[nt],this.direction==="rtl"&&(rt.x=this.width*this.scaleX-rt.x+ft);for(var vt=0,mt=ht.length;vt<mt&&(lt=ft,ft+=this.__charBounds[nt][vt].kernedWidth*this.scaleX,ft<=rt.x);vt++)at++;return this._getNewSelectionStartFromOffset(rt,lt,ft,at,mt)},_getNewSelectionStartFromOffset:function(ct,rt,lt,ft,it){var at=ct.x-rt,nt=lt-ct.x,ot=nt>at||nt<0?0:1,ht=ft+ot;return this.flipX&&(ht=it-ht),ht>this._text.length&&(ht=this._text.length),ht}}),_e.util.object.extend(_e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=_e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var ct=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+ct.top+"; left: "+ct.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+ct.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):_e.document.body.appendChild(this.hiddenTextarea),_e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),_e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),_e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),_e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),_e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),_e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),_e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),_e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),_e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(_e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(ct){if(!!this.isEditing){var rt=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(ct.keyCode in rt)this[rt[ct.keyCode]](ct);else if(ct.keyCode in this.ctrlKeysMapDown&&(ct.ctrlKey||ct.metaKey))this[this.ctrlKeysMapDown[ct.keyCode]](ct);else return;ct.stopImmediatePropagation(),ct.preventDefault(),ct.keyCode>=33&&ct.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(ct){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(ct.keyCode in this.ctrlKeysMapUp&&(ct.ctrlKey||ct.metaKey))this[this.ctrlKeysMapUp[ct.keyCode]](ct);else return;ct.stopImmediatePropagation(),ct.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(ct){var rt=this.fromPaste;if(this.fromPaste=!1,ct&&ct.stopPropagation(),!!this.isEditing){var lt=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,ft=this._text.length,it=lt.length,at,nt,ot=it-ft,ht=this.selectionStart,st=this.selectionEnd,dt=ht!==st,vt,mt,gt;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var bt=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),_t=ht>bt.selectionStart;dt?(at=this._text.slice(ht,st),ot+=st-ht):it<ft&&(_t?at=this._text.slice(st+ot,st):at=this._text.slice(ht,ht-ot)),nt=lt.slice(bt.selectionEnd-ot,bt.selectionEnd),at&&at.length&&(nt.length&&(vt=this.getSelectionStyles(ht,ht+1,!1),vt=nt.map(function(){return vt[0]})),dt?(mt=ht,gt=st):_t?(mt=st-at.length,gt=st):(mt=st,gt=st+at.length),this.removeStyleFromTo(mt,gt)),nt.length&&(rt&&nt.join("")===_e.copiedText&&!_e.disableStyleCopyPaste&&(vt=_e.copiedTextStyle),this.insertNewStyleBlock(nt,ht,vt)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(ct){this.compositionStart=ct.target.selectionStart,this.compositionEnd=ct.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(_e.copiedText=this.getSelectedText(),_e.disableStyleCopyPaste?_e.copiedTextStyle=null:_e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(ct){return ct&&ct.clipboardData||_e.window.clipboardData},_getWidthBeforeCursor:function(ct,rt){var lt=this._getLineLeftOffset(ct),ft;return rt>0&&(ft=this.__charBounds[ct][rt-1],lt+=ft.left+ft.width),lt},getDownCursorOffset:function(ct,rt){var lt=this._getSelectionForOffset(ct,rt),ft=this.get2DCursorLocation(lt),it=ft.lineIndex;if(it===this._textLines.length-1||ct.metaKey||ct.keyCode===34)return this._text.length-lt;var at=ft.charIndex,nt=this._getWidthBeforeCursor(it,at),ot=this._getIndexOnLine(it+1,nt),ht=this._textLines[it].slice(at);return ht.length+ot+1+this.missingNewlineOffset(it)},_getSelectionForOffset:function(ct,rt){return ct.shiftKey&&this.selectionStart!==this.selectionEnd&&rt?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(ct,rt){var lt=this._getSelectionForOffset(ct,rt),ft=this.get2DCursorLocation(lt),it=ft.lineIndex;if(it===0||ct.metaKey||ct.keyCode===33)return-lt;var at=ft.charIndex,nt=this._getWidthBeforeCursor(it,at),ot=this._getIndexOnLine(it-1,nt),ht=this._textLines[it].slice(0,at),st=this.missingNewlineOffset(it-1);return-this._textLines[it-1].length+ot-ht.length+(1-st)},_getIndexOnLine:function(ct,rt){for(var lt=this._textLines[ct],ft=this._getLineLeftOffset(ct),it=ft,at=0,nt,ot,ht=0,st=lt.length;ht<st;ht++)if(nt=this.__charBounds[ct][ht].width,it+=nt,it>rt){ot=!0;var dt=it-nt,vt=it,mt=Math.abs(dt-rt),gt=Math.abs(vt-rt);at=gt<mt?ht:ht-1;break}return ot||(at=lt.length-1),at},moveCursorDown:function(ct){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",ct)},moveCursorUp:function(ct){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",ct)},_moveCursorUpOrDown:function(ct,rt){var lt="get"+ct+"CursorOffset",ft=this[lt](rt,this._selectionDirection==="right");rt.shiftKey?this.moveCursorWithShift(ft):this.moveCursorWithoutShift(ft),ft!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(ct){var rt=this._selectionDirection==="left"?this.selectionStart+ct:this.selectionEnd+ct;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,rt),ct!==0},moveCursorWithoutShift:function(ct){return ct<0?(this.selectionStart+=ct,this.selectionEnd=this.selectionStart):(this.selectionEnd+=ct,this.selectionStart=this.selectionEnd),ct!==0},moveCursorLeft:function(ct){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",ct)},_move:function(ct,rt,lt){var ft;if(ct.altKey)ft=this["findWordBoundary"+lt](this[rt]);else if(ct.metaKey||ct.keyCode===35||ct.keyCode===36)ft=this["findLineBoundary"+lt](this[rt]);else return this[rt]+=lt==="Left"?-1:1,!0;if(typeof ft!="undefined"&&this[rt]!==ft)return this[rt]=ft,!0},_moveLeft:function(ct,rt){return this._move(ct,rt,"Left")},_moveRight:function(ct,rt){return this._move(ct,rt,"Right")},moveCursorLeftWithoutShift:function(ct){var rt=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(rt=this._moveLeft(ct,"selectionStart")),this.selectionEnd=this.selectionStart,rt},moveCursorLeftWithShift:function(ct){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(ct,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(ct,"selectionStart")},moveCursorRight:function(ct){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",ct)},_moveCursorLeftOrRight:function(ct,rt){var lt="moveCursor"+ct+"With";this._currentCursorOpacity=1,rt.shiftKey?lt+="Shift":lt+="outShift",this[lt](rt)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(ct){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(ct,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(ct,"selectionEnd")},moveCursorRightWithoutShift:function(ct){var rt=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(rt=this._moveRight(ct,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,rt},removeChars:function(ct,rt){typeof rt=="undefined"&&(rt=ct+1),this.removeStyleFromTo(ct,rt),this._text.splice(ct,rt-ct),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(ct,rt,lt,ft){typeof ft=="undefined"&&(ft=lt),ft>lt&&this.removeStyleFromTo(lt,ft);var it=_e.util.string.graphemeSplit(ct);this.insertNewStyleBlock(it,lt,rt),this._text=[].concat(this._text.slice(0,lt),it,this._text.slice(ft)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var ct=_e.util.toFixed,rt=/  +/g;_e.util.object.extend(_e.Text.prototype,{_toSVG:function(){var lt=this._getSVGLeftTopOffsets(),ft=this._getSVGTextAndBg(lt.textTop,lt.textLeft);return this._wrapSVGTextAndBg(ft)},toSVG:function(lt){return this._createBaseSVGMarkup(this._toSVG(),{reviver:lt,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(lt){var ft=!0,it=this.getSvgTextDecoration(this);return[lt.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",it?'text-decoration="'+it+'" ':"",'style="',this.getSvgStyles(ft),'"',this.addPaintOrder()," >",lt.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(lt,ft){var it=[],at=[],nt=lt,ot;this._setSVGBg(at);for(var ht=0,st=this._textLines.length;ht<st;ht++)ot=this._getLineLeftOffset(ht),(this.textBackgroundColor||this.styleHas("textBackgroundColor",ht))&&this._setSVGTextLineBg(at,ht,ft+ot,nt),this._setSVGTextLineText(it,ht,ft+ot,nt),nt+=this.getHeightOfLine(ht);return{textSpans:it,textBgRects:at}},_createTextCharSpan:function(lt,ft,it,at){var nt=lt!==lt.trim()||lt.match(rt),ot=this.getSvgSpanStyles(ft,nt),ht=ot?'style="'+ot+'"':"",st=ft.deltaY,dt="",vt=_e.Object.NUM_FRACTION_DIGITS;return st&&(dt=' dy="'+ct(st,vt)+'" '),['<tspan x="',ct(it,vt),'" y="',ct(at,vt),'" ',dt,ht,">",_e.util.string.escapeXml(lt),"</tspan>"].join("")},_setSVGTextLineText:function(lt,ft,it,at){var nt=this.getHeightOfLine(ft),ot=this.textAlign.indexOf("justify")!==-1,ht,st,dt="",vt,mt,gt=0,bt=this._textLines[ft],_t;at+=nt*(1-this._fontSizeFraction)/this.lineHeight;for(var Ct=0,xt=bt.length-1;Ct<=xt;Ct++)_t=Ct===xt||this.charSpacing,dt+=bt[Ct],vt=this.__charBounds[ft][Ct],gt===0?(it+=vt.kernedWidth-vt.width,gt+=vt.width):gt+=vt.kernedWidth,ot&&!_t&&this._reSpaceAndTab.test(bt[Ct])&&(_t=!0),_t||(ht=ht||this.getCompleteStyleDeclaration(ft,Ct),st=this.getCompleteStyleDeclaration(ft,Ct+1),_t=_e.util.hasStyleChanged(ht,st,!0)),_t&&(mt=this._getStyleDeclaration(ft,Ct)||{},lt.push(this._createTextCharSpan(dt,mt,it,at)),dt="",ht=st,it+=gt,gt=0)},_pushTextBgRect:function(lt,ft,it,at,nt,ot){var ht=_e.Object.NUM_FRACTION_DIGITS;lt.push("		<rect ",this._getFillAttributes(ft),' x="',ct(it,ht),'" y="',ct(at,ht),'" width="',ct(nt,ht),'" height="',ct(ot,ht),`"></rect>
`)},_setSVGTextLineBg:function(lt,ft,it,at){for(var nt=this._textLines[ft],ot=this.getHeightOfLine(ft)/this.lineHeight,ht=0,st=0,dt,vt,mt=this.getValueOfPropertyAt(ft,0,"textBackgroundColor"),gt=0,bt=nt.length;gt<bt;gt++)dt=this.__charBounds[ft][gt],vt=this.getValueOfPropertyAt(ft,gt,"textBackgroundColor"),vt!==mt?(mt&&this._pushTextBgRect(lt,mt,it+st,at,ht,ot),st=dt.left,ht=dt.width,mt=vt):ht+=dt.kernedWidth;vt&&this._pushTextBgRect(lt,vt,it+st,at,ht,ot)},_getFillAttributes:function(lt){var ft=lt&&typeof lt=="string"?new _e.Color(lt):"";return!ft||!ft.getSource()||ft.getAlpha()===1?'fill="'+lt+'"':'opacity="'+ft.getAlpha()+'" fill="'+ft.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(lt){for(var ft=0,it=0,at=0;at<lt;at++)ft+=this.getHeightOfLine(at);return it=this.getHeightOfLine(at),{lineTop:ft,offset:(this._fontSizeMult-this._fontSizeFraction)*it/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(lt){var ft=_e.Object.prototype.getSvgStyles.call(this,lt);return ft+" white-space: pre;"}})}(),function(ct){var rt=ct.fabric||(ct.fabric={});rt.Textbox=rt.util.createClass(rt.IText,rt.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:rt.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(lt){for(var ft=0,it=0,at=0,nt={},ot=0;ot<lt.graphemeLines.length;ot++)lt.graphemeText[at]===`
`&&ot>0?(it=0,at++,ft++):!this.splitByGrapheme&&this._reSpaceAndTab.test(lt.graphemeText[at])&&ot>0&&(it++,at++),nt[ot]={line:ft,offset:it},at+=lt.graphemeLines[ot].length,it+=lt.graphemeLines[ot].length;return nt},styleHas:function(lt,ft){if(this._styleMap&&!this.isWrapping){var it=this._styleMap[ft];it&&(ft=it.line)}return rt.Text.prototype.styleHas.call(this,lt,ft)},isEmptyStyles:function(lt){if(!this.styles)return!0;var ft=0,it=lt+1,at,nt,ot=!1,ht=this._styleMap[lt],st=this._styleMap[lt+1];ht&&(lt=ht.line,ft=ht.offset),st&&(it=st.line,ot=it===lt,at=st.offset),nt=typeof lt=="undefined"?this.styles:{line:this.styles[lt]};for(var dt in nt)for(var vt in nt[dt])if(vt>=ft&&(!ot||vt<at))for(var mt in nt[dt][vt])return!1;return!0},_getStyleDeclaration:function(lt,ft){if(this._styleMap&&!this.isWrapping){var it=this._styleMap[lt];if(!it)return null;lt=it.line,ft=it.offset+ft}return this.callSuper("_getStyleDeclaration",lt,ft)},_setStyleDeclaration:function(lt,ft,it){var at=this._styleMap[lt];lt=at.line,ft=at.offset+ft,this.styles[lt][ft]=it},_deleteStyleDeclaration:function(lt,ft){var it=this._styleMap[lt];lt=it.line,ft=it.offset+ft,delete this.styles[lt][ft]},_getLineStyle:function(lt){var ft=this._styleMap[lt];return!!this.styles[ft.line]},_setLineStyle:function(lt){var ft=this._styleMap[lt];this.styles[ft.line]={}},_wrapText:function(lt,ft){var it=[],at;for(this.isWrapping=!0,at=0;at<lt.length;at++)it=it.concat(this._wrapLine(lt[at],at,ft));return this.isWrapping=!1,it},_measureWord:function(lt,ft,it){var at=0,nt,ot=!0;it=it||0;for(var ht=0,st=lt.length;ht<st;ht++){var dt=this._getGraphemeBox(lt[ht],ft,ht+it,nt,ot);at+=dt.kernedWidth,nt=lt[ht]}return at},_wrapLine:function(lt,ft,it,Mt){var nt=0,ot=this.splitByGrapheme,ht=[],st=[],dt=ot?rt.util.string.graphemeSplit(lt):lt.split(this._wordJoiners),vt="",mt=0,gt=ot?"":" ",bt=0,_t=0,Ct=0,xt=!0,Tt=this._getWidthOfCharSpacing(),Mt=Mt||0;dt.length===0&&dt.push([]),it-=Mt;for(var jt=0;jt<dt.length;jt++)vt=ot?dt[jt]:rt.util.string.graphemeSplit(dt[jt]),bt=this._measureWord(vt,ft,mt),mt+=vt.length,nt+=_t+bt-Tt,nt>it&&!xt?(ht.push(st),st=[],nt=bt,xt=!0):nt+=Tt,!xt&&!ot&&st.push(gt),st=st.concat(vt),_t=ot?0:this._measureWord([gt],ft,mt),mt++,xt=!1,bt>Ct&&(Ct=bt);return jt&&ht.push(st),Ct+Mt>this.dynamicMinWidth&&(this.dynamicMinWidth=Ct-Tt+Mt),ht},isEndOfWrapping:function(lt){return!this._styleMap[lt+1]||this._styleMap[lt+1].line!==this._styleMap[lt].line},missingNewlineOffset:function(lt){return this.splitByGrapheme?this.isEndOfWrapping(lt)?1:0:1},_splitTextIntoLines:function(lt){for(var ft=rt.Text.prototype._splitTextIntoLines.call(this,lt),it=this._wrapText(ft.lines,this.width),at=new Array(it.length),nt=0;nt<it.length;nt++)at[nt]=it[nt].join("");return ft.lines=at,ft.graphemeLines=it,ft},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var lt={};for(var ft in this._styleMap)this._textLines[ft]&&(lt[this._styleMap[ft].line]=1);for(var ft in this.styles)lt[ft]||delete this.styles[ft]},toObject:function(lt){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(lt))}}),rt.Textbox.fromObject=function(lt,ft){var it=rt.util.stylesFromArray(lt.styles,lt.text),at=Object.assign({},lt,{styles:it});return rt.Object._fromObject("Textbox",at,ft,"text")}}($),function(){var ct=_e.controlsUtils,rt=ct.scaleSkewCursorStyleHandler,lt=ct.scaleCursorStyleHandler,ft=ct.scalingEqually,it=ct.scalingYOrSkewingX,at=ct.scalingXOrSkewingY,nt=ct.scaleOrSkewActionName,ot=_e.Object.prototype.controls;if(ot.ml=new _e.Control({x:-.5,y:0,cursorStyleHandler:rt,actionHandler:at,getActionName:nt}),ot.mr=new _e.Control({x:.5,y:0,cursorStyleHandler:rt,actionHandler:at,getActionName:nt}),ot.mb=new _e.Control({x:0,y:.5,cursorStyleHandler:rt,actionHandler:it,getActionName:nt}),ot.mt=new _e.Control({x:0,y:-.5,cursorStyleHandler:rt,actionHandler:it,getActionName:nt}),ot.tl=new _e.Control({x:-.5,y:-.5,cursorStyleHandler:lt,actionHandler:ft}),ot.tr=new _e.Control({x:.5,y:-.5,cursorStyleHandler:lt,actionHandler:ft}),ot.bl=new _e.Control({x:-.5,y:.5,cursorStyleHandler:lt,actionHandler:ft}),ot.br=new _e.Control({x:.5,y:.5,cursorStyleHandler:lt,actionHandler:ft}),ot.mtr=new _e.Control({x:0,y:-.5,actionHandler:ct.rotationWithSnapping,cursorStyleHandler:ct.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),_e.Textbox){var ht=_e.Textbox.prototype.controls={};ht.mtr=ot.mtr,ht.tr=ot.tr,ht.br=ot.br,ht.tl=ot.tl,ht.bl=ot.bl,ht.mt=ot.mt,ht.mb=ot.mb,ht.mr=new _e.Control({x:.5,y:0,actionHandler:ct.changeWidth,cursorStyleHandler:rt,actionName:"resizing"}),ht.ml=new _e.Control({x:-.5,y:0,actionHandler:ct.changeWidth,cursorStyleHandler:rt,actionName:"resizing"})}}()})(fabric);function useImageMergeCanvas(){const $=useAppDispatch(),_e=useAppSelector(ot=>ot.sign.stepIndecatorDataArray),{downloadImg:et}=useImageUtil(),{showMsg:tt}=useMsgBox(),ut=react.exports.useRef(null),[pt,yt]=react.exports.useState(null),ct=useAppSelector(ot=>ot.createSign.handMadeSignImg),rt=useAppSelector(ot=>ot.createSign.BGImg),[lt,ft]=react.exports.useState(1);react.exports.useEffect(()=>{console.log("Redux\u72C0\u614B",it()),it()?(ft(.1),console.log("\u662F\u624B\u6A5F")):(ft(1),console.log("\u4E0D\u662F\u624B\u6A5F"))}),react.exports.useEffect(()=>{yt(new fabric.fabric.Canvas(ut.current))},[ut]),react.exports.useEffect(()=>{!pt||!ct||fabric.fabric.Image.fromURL(ct,ot=>{pt.add(ot).renderAll()})},[pt,ct]),react.exports.useEffect(()=>{!pt||!rt||fabric.fabric.Image.fromURL(rt,ot=>{pt.setBackgroundImage(rt,()=>{pt.renderAll(),pt.setHeight(ot.height),pt.setWidth(ot.width)})})},[pt,rt]);function it(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}function at(){if(ct||tt({type:Status.ERROR,title:"\u7C3D\u7F72\u672A\u5B8C\u6210",message:"\u60A8\u9084\u7F3A\u5C11\u7C3D\u540D"}),rt||tt({type:Status.ERROR,title:"\u7C3D\u7F72\u672A\u5B8C\u6210",message:"\u60A8\u9084\u7F3A\u5C11\u6587\u4EF6"}),!ct||!rt)return;const ot=nt();et(ot),_e[2].done||$(setStepIndecatorDon(2))}function nt(){return pt==null?void 0:pt.toDataURL({format:"png"})}return{mergeImageCanvasRef:ut,downloadMergeImage:at,mergeCanvasToImage:nt}}function useDocumentHistory(){const[$,_e]=react.exports.useState(),{showMsg:et}=useMsgBox(),{showPrompt:tt,setPromptObj:ut,closePrompt:pt}=usePrompt$1(),yt=useAppDispatch(),ct=useAppSelector(at=>at.sign.stepIndecatorDataArray),rt=useAppSelector(at=>at.documentHistory.documentHistoryArray),lt=useAppSelector(at=>at.prompt.promptObj.promptValue);react.exports.useEffect(()=>{_e({name:lt,documentImg:$==null?void 0:$.documentImg})},[lt]);function ft(at){_e(at),ut({type:PromptType.INPUT,title:"\u4FDD\u5B58\u6587\u4EF6\u8A0A\u606F",message:"\u8ACB\u8F38\u5165\u6B32\u5132\u5B58\u4E4B\u6587\u4EF6\u540D\u7A31",confirmCallback:react.exports.useCallback(()=>{if(rt.length>9){et({type:Status.ERROR,title:"\u6587\u4EF6\u6B77\u53F2\u8A0A\u606F",message:"\u60A8\u53EA\u80FD\u4FDD\u5B58\u6700\u591A10\u5247\u6B77\u53F2\u7D00\u9304"});return}console.log("\u6309\u4E0B\u78BA\u5B9A\u6642\u62FF\u5230\u7684\u6578\u503C",lt),at.name=lt,yt(pushDocument(at)),ct[2].done||yt(setStepIndecatorDon(2)),pt(),et({type:Status.SUCCESS,title:"\u6587\u4EF6\u6B77\u53F2\u8A0A\u606F",message:"\u4FDD\u5B58\u6210\u529F!"})},[])}),tt()}function it(at){ut({type:PromptType.NOINPUT,title:"\u8B66\u544A\u8A0A\u606F",message:"\u6B64\u64CD\u4F5C\u5C07\u6C38\u4E45\u522A\u9664\u6A94\u6848\uFF0C\u78BA\u5B9A\u57F7\u884C?",confirmCallback:()=>{yt(deleteDocument(at)),pt()}}),tt()}return{saveDocumentHistory:ft,deleteDocumentHistory:it}}function SignPageStep3(){const{toStep:$}=useSignStep(),{mergeImageCanvasRef:_e,downloadMergeImage:et,mergeCanvasToImage:tt}=useImageMergeCanvas(),{saveDocumentHistory:ut}=useDocumentHistory(),pt=useAppSelector(ct=>ct.createSign.handMadeSignImg),yt=useAppSelector(ct=>ct.createSign.BGImg);return useRefreshRedirect("/SignPage/Step1"),jsxs("section",{className:"flex flex-col items-center justify-center",children:[jsx("div",{className:"flex",children:jsx(Btn,{btnObj:{type:BtnType.SECONDARY,title:"\u91CD\u65B0\u7C3D\u540D",clickHandler:()=>$("/SignPage/Step2",2)}})}),jsx(MergeImageCanvas,{mergeImageCanvasObj:{mergeImageCanvasRef:_e}}),pt&&yt?jsxs("div",{className:"flex flex-col lg:flex-row",children:[jsx(Btn,{btnObj:{type:BtnType.PRIMARY,title:"\u4E0B\u8F09\u6587\u4EF6",clickHandler:et}}),jsx(Btn,{btnObj:{type:BtnType.PRIMARY,title:"\u4FDD\u5B58\u6587\u4EF6",clickHandler:()=>ut({name:"\u6211\u7684\u6587\u4EF6",documentImg:tt()})}})]}):jsxs("div",{className:"flex flex-col items-center mt-5",children:[jsx("p",{className:"text-acent",children:"\u60A8\u7684\u7C3D\u7F72\u672A\u5B8C\u6210 : "}),pt?null:jsxs("div",{children:[jsx("p",{className:"text-alert",children:"*\u7F3A\u5C11\u7C3D\u540D\u6A94: "}),jsx(Btn,{btnObj:{type:BtnType.PRIMARY,title:"\u9032\u884C\u7C3D\u540D",clickHandler:()=>$("/SignPage/Step2",2)}})]}),yt?null:jsxs("div",{children:[jsx("p",{className:"text-alert",children:"*\u7F3A\u5C11\u6587\u4EF6\u6A94\u6848"}),jsx(Btn,{btnObj:{type:BtnType.PRIMARY,title:"\u4E0A\u50B3\u6587\u4EF6",clickHandler:()=>$("/SignPage/Step1",1)}})]})]})]})}function Routers(){const $=react.exports.lazy(()=>__vitePreload(()=>import("./CreateSignPage.db314bc5.js"),[])),_e=react.exports.lazy(()=>__vitePreload(()=>import("./SignPage.5e441a05.js"),[])),et=react.exports.lazy(()=>__vitePreload(()=>import("./DocumentHistoryPage.21ad02b7.js"),[]));return jsx(react.exports.Suspense,{fallback:jsx("div",{className:"w-full flex justify-center items-center",children:jsx(Loading,{loadingObj:{loading:!0}})}),children:jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(LandingPage,{})}),jsxs(Route,{path:"SignPage",element:jsx(_e,{}),children:[jsx(Route,{path:"Step1",element:jsx(SignPageStep1,{})}),jsx(Route,{path:"Step2",element:jsx(SignPageStep2,{})}),jsx(Route,{path:"Step3",element:jsx(SignPageStep3,{})})]}),jsx(Route,{path:"CreateSign",element:jsx($,{})}),jsx(Route,{path:"DocumentHistory",element:jsx(et,{})})]})})}function DarkModeButton($){const{darkMode:_e,setDarkMode:et}=$;return jsxs("label",{className:"relative items-center cursor-pointer lg:inline-flex lg:mt-5",children:[jsx("input",{type:"checkbox",className:"sr-only peer",onChange:()=>{et(!_e)}}),jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}function HeaderMobileMenum($){const{show:_e,closeCallback:et,darkMode:tt,setDarkMode:ut}=$,{getAssetsFileURL:pt}=useImageUtil(),ct=[{to:`/SignPage/Step${useAppSelector(ft=>ft.sign.currentStep)}`,name:"\u958B\u59CB\u7C3D\u540D"},{to:"/CreateSign",name:"\u5EFA\u7ACB\u7C3D\u540D\u6A94"},{to:"/DocumentHistory",name:"\u67E5\u770B\u6211\u7684\u6587\u4EF6"}],[rt,lt]=react.exports.useState("");return jsx(react.exports.Fragment,{children:_e?jsxs("section",{className:["fixed w-full h-full top-0 p-10 bg-overlay-500 dark:bg-overlay-600 z-[10]",_e?"fade-in":"fade-out"].join(" "),children:[jsx("img",{className:"ml-auto",onClick:()=>et(),src:pt("images/close.png"),alt:"close",width:40,height:40}),jsxs("ul",{className:"h-full flex flex-col items-center justify-start nav md:hidden",children:[jsx("li",{children:jsx(DarkModeButton,{darkMode:tt,setDarkMode:ut})}),ct.map(ft=>jsx("li",{className:["relative m-5 w-[180px] flex justify-center text-white",rt===ft.name?"active":""].join(" "),onClick:()=>{lt(ft.name),et()},children:jsxs(Link,{className:"p-5",to:ft.to,children:[jsx("p",{className:"text-lg",children:ft.name}),jsx("span",{className:"before:absolute before:w-[8px] before:h-[8px] before:top-0 before:left-0 before:border-t-2 before:border-l-2 before:border-acent before:opacity-0 before:transition-all before:duration-500 before:translate-x-[-10px] before:translate-y-[-10px] \r after:absolute after:w-[8px] after:h-[8px] after:top-0 after:right-0 after:border-t-2 after:border-r-2 after:border-acent after:opacity-0 after:transition-all after:duration-500 after:translate-x-[10px] after:translate-y-[-10px]"}),jsx("span",{className:"before:absolute before:w-[8px] before:h-[8px] before:bottom-0 before:left-0 before:border-b-2 before:border-l-2 before:border-acent before:opacity-0 before:transition-all before:duration-500 before:translate-x-[-10px] before:translate-y-[10px]\r after:absolute after:w-[8px] after:h-[8px] after:bottom-0 after:right-0 after:border-b-2 after:border-r-2 after:border-acent after:opacity-0 after:transition-all after:duration-500 after:translate-x-[10px] after:translate-y-[10px]"})]})},ft.name))]})]}):null})}function usePrompt(){const $=window.localStorage,[_e,et]=react.exports.useState(!1);react.exports.useMemo(()=>{tt(_e?ColorMode.DARK:ColorMode.NORMAL),ut()},[_e]);function tt(pt){$.setItem("theme",JSON.stringify(pt))}function ut(){JSON.parse($.getItem("theme"))===ColorMode.DARK||!$.getItem("them")&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}return{darkMode:_e,setDarkMode:et,setColorMode:tt,getColorMode:ut}}function HomeIcon(){const{getAssetsFileURL:$}=useImageUtil(),_e=useNavigate();return jsxs("div",{className:"flex flex-col items-center justify-center cursor-pointer",onClick:()=>_e("/"),children:[jsx("img",{src:$("images/icon.png"),width:"150",height:"150",alt:"\u6025\u6025\u5982\u5F8B\u4EE4\uFF0C\u4EFB\u610F\u901F\u901F\u7C3D"}),jsx("p",{className:"mt-[-20px] text-gray-900 font-extrabold dark:text-gray-500",children:"\u6025\u6025\u5982\u5F8B\u4EE4\uFF0C\u4EFB\u610F\u901F\u901F\u7C3D"})]})}function TheHeader(){const _e=[{to:`/SignPage/Step${useAppSelector(lt=>lt.sign.currentStep)}`,name:"\u958B\u59CB\u7C3D\u540D"},{to:"/CreateSign",name:"\u5EFA\u7ACB\u7C3D\u540D\u6A94"},{to:"/DocumentHistory",name:"\u67E5\u770B\u6211\u7684\u6587\u4EF6"}],[et,tt]=react.exports.useState(""),[ut,pt]=react.exports.useState(!1),{getAssetsFileURL:yt}=useImageUtil(),{darkMode:ct,setDarkMode:rt}=usePrompt();return jsxs("main",{className:"flex flex-col items-center",children:[jsxs("section",{className:"flex-col items-center lg:flex",children:[jsx(HomeIcon,{}),jsx("div",{className:"hidden lg:block",children:jsx(DarkModeButton,{darkMode:ct,setDarkMode:rt})})]}),jsxs("nav",{className:"flex justify-center text-white p-5",children:[jsx("ul",{className:"hidden nav flex md:flex",children:_e.map(lt=>jsx("li",{className:["relative m-5",et===lt.name?"active":""].join(" "),onClick:()=>tt(lt.name),children:jsxs(Link,{className:"p-5",to:lt.to,children:[jsx("p",{className:"text-lg",children:lt.name}),jsx("span",{className:"before:absolute before:w-[8px] before:h-[8px] before:top-0 before:left-0 before:border-t-2 before:border-l-2 before:border-acent before:opacity-0 before:transition-all before:duration-500 before:translate-x-[-10px] before:translate-y-[-10px] \r after:absolute after:w-[8px] after:h-[8px] after:top-0 after:right-0 after:border-t-2 after:border-r-2 after:border-acent after:opacity-0 after:transition-all after:duration-500 after:translate-x-[10px] after:translate-y-[-10px]"}),jsx("span",{className:"before:absolute before:w-[8px] before:h-[8px] before:bottom-0 before:left-0 before:border-b-2 before:border-l-2 before:border-acent before:opacity-0 before:transition-all before:duration-500 before:translate-x-[-10px] before:translate-y-[10px]\r after:absolute after:w-[8px] after:h-[8px] after:bottom-0 after:right-0 after:border-b-2 after:border-r-2 after:border-acent after:opacity-0 after:transition-all after:duration-500 after:translate-x-[10px] after:translate-y-[10px]"})]})},lt.name))}),jsx("ul",{className:"absolute top-[40px] right-[40px] block md:hidden",children:jsx("li",{onClick:()=>pt(!0),children:jsx("img",{src:yt("images/hambger.png"),alt:"\u624B\u6A5F\u6F22\u5821",width:40,height:40})})})]}),jsx(HeaderMobileMenum,{show:ut,closeCallback:()=>pt(!1),darkMode:ct,setDarkMode:rt})]})}function Prompt($){const{type:_e=PromptType.NOINPUT,title:et,message:tt,show:ut,confirmCallback:pt}=$.promptObj,{closePrompt:yt,promptInputChangeCallback:ct}=usePrompt$1();return jsx("section",{className:["overlay",ut?"flex justify-center items-center":"hidden"].join(" "),children:jsxs("div",{className:"flex flex-col items-center bg-alert p-5 rounded-md",children:[jsx("h2",{children:et}),jsx("p",{children:tt}),_e===PromptType.INPUT?jsx(Input,{inputObj:{type:InputType.TEXT,handleOnchange:ct}}):null,jsxs("div",{className:"w-full flex flex-col lg:flex-row",children:[jsx(Btn,{btnObj:{type:BtnType.SECONDARY,title:"\u53D6\u6D88",clickHandler:yt}}),jsx(Btn,{btnObj:{type:BtnType.PRIMARY,title:"\u78BA\u8A8D",clickHandler:()=>pt()}})]})]})})}function MsgPopup($){const{type:_e,title:et,message:tt,show:ut}=$.msgBoxObj,{getAssetsFileURL:pt}=useImageUtil();return jsxs("section",{className:["message-box",ut?"fade-in":"fade-out hidden",_e===Status.SUCCESS?"bg-primary-200":"",_e===Status.ALERT?"bg-primary-900":"",_e===Status.ERROR?"bg-primary-900":""].join(" "),children:[jsxs("div",{className:"flex justify-center items-center mb-5",children:[jsx("img",{src:pt("images/acent.svg"),alt:"\u63D0\u793A",width:64,height:64}),jsx("p",{children:et})]}),jsx("p",{className:[_e===Status.SUCCESS?"text-primary-900":"",_e===Status.ALERT?"text-acent":"",_e===Status.ERROR?"text-alert":""].join(" "),children:tt})]})}function App(){const $=useAppSelector(et=>et.msgBox.msgBoxObj),_e=useAppSelector(et=>et.prompt.promptObj);return jsxs("div",{className:"App",children:[jsx(Prompt,{promptObj:_e}),jsx(MsgPopup,{msgBoxObj:{type:Status.SUCCESS,title:$.title,message:$.message,show:$.show}}),jsx("div",{children:jsx(TheHeader,{})}),jsx(Routers,{})]})}client.createRoot(document.getElementById("root")).render(jsx(BrowserRouter,{basename:"/f2e-react-sign-system/",children:jsx(Provider,{store,children:jsx(App,{})})}));export{Btn as B,Input as I,MyHandSignList as M,Outlet as O,SignCanvas as S,TheColorPalette as T,useHandSignCanvas as a,useAppDispatch as b,useAppSelector as c,jsxs as d,BtnType as e,InputType as f,Status as g,updateStepIndecatorActive as h,useSignStep as i,jsx as j,useDocumentHistory as k,useImageUtil as l,pushHandsignImg as p,react as r,setStepIndecatorDon as s,useMsgBox as u};
