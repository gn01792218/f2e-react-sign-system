import{a as T,r as f,u as m,l as S}from"./index.117d4ba8.js";import{u as y}from"./useUtil.8b2a4455.js";function I(c){const{width:h,height:s,signCanvas:e,ctx:n,handleMouseDown:r,handleMouseMove:o,handleTouchStart:a,handleTouchMove:i,setDrawing:d}=c.signCanvasObj;return T("canvas",{ref:e,className:"signCanvas",width:h,height:s,onMouseDown:r,onMouseMove:o,onTouchStart:a,onTouchMove:i,onTouchEnd:()=>d(!1),onMouseUp:()=>d(!1),onMouseOut:()=>d(!1),children:"Your browser does not support th canvas element"})}function D(){function c(n){return[n.clientX,n.clientY]}function h(n){return[n.touches[0].clientX,n.touches[0].clientX]}function s(n,r){let[o,a]=c(r),i=n.getBoundingClientRect();return o-=i.left,a-=i.top,[o,a]}function e(n,r){let[o,a]=h(r),i=n.getBoundingClientRect();return o-=i.left,a-=i.top,[o,a]}return{getMousePos:c,getCanvasMousePos:s,getCanvasTouchPos:e}}function k(){var g;const{getCanvasMousePos:c,getCanvasTouchPos:h}=D(),s=f.exports.useRef(null),e=(g=s.current)==null?void 0:g.getContext("2d"),[n,r]=f.exports.useState(!1),[o,a]=f.exports.useState(""),{converCanvasToImage:i}=y(),d=m();f.exports.useEffect(()=>{!o||d(S(o))},[o]);function p(t){const u=t.getContext("2d");u==null||u.clearRect(0,0,t.width,t.height)}function C(t){r(!0);let[u,l]=c(s.current,t);!e||(e.beginPath(),e.moveTo(u,l),t.preventDefault())}function v(t){if(!n)return;let[u,l]=c(s.current,t);!e||(e.lineWidth=2,e.lineCap="round",e.lineJoin="round",e.strokeStyle="yellow",e.shadowBlur=1,e.shadowColor="white",e.lineTo(u,l),e.stroke())}function M(t){r(!0);let[u,l]=h(s.current,t);!e||(e.beginPath(),e.moveTo(u,l),t.preventDefault())}function w(t){if(!n)return;let[u,l]=h(s.current,t);!e||(e.lineWidth=2,e.lineCap="round",e.lineJoin="round",e.shadowBlur=1,e.shadowColor="black",e.lineTo(u,l),e.stroke())}function x(){a(i(s.current))}return{signCanvas:s,ctx:e,handSignImg:o,setDrawing:r,clearCanvas:p,handleMouseMove:v,handleMouseDown:C,handleTouchStart:M,handleTouchMove:w,toImage:x}}export{I as S,k as u};
