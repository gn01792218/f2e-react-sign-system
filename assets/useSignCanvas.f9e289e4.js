import{a as w,r as f,u as k,l as y}from"./index.f536c156.js";import{u as D}from"./useUtil.1756b16d.js";function B(c){const{width:h,height:s,signCanvas:e,ctx:t,handleMouseDown:a,handleMouseMove:o,handleTouchStart:i,handleTouchMove:u,setDrawing:d}=c.signCanvasObj;return w("canvas",{ref:e,className:"signCanvas",width:h,height:s,onMouseDown:a,onMouseMove:o,onTouchStart:i,onTouchMove:u,onTouchEnd:()=>d(!1),onMouseUp:()=>d(!1),onMouseOut:()=>d(!1),children:"Your browser does not support th canvas element"})}function P(){function c(t){return[t.clientX,t.clientY]}function h(t){return[t.touches[0].clientX,t.touches[0].clientX]}function s(t,a){let[o,i]=c(a),u=t.getBoundingClientRect();return o-=u.left,i-=u.top,[o,i]}function e(t,a){let[o,i]=h(a),u=t.getBoundingClientRect();return o-=u.left,i-=u.top,[o,i]}return{getMousePos:c,getCanvasMousePos:s,getCanvasTouchPos:e}}function R(){var g;const{getCanvasMousePos:c,getCanvasTouchPos:h}=P(),s=f.exports.useRef(null),e=(g=s.current)==null?void 0:g.getContext("2d"),[t,a]=f.exports.useState(!1),[o,i]=f.exports.useState(""),[u,d]=f.exports.useState("black"),{converCanvasToImage:p}=D(),C=k();f.exports.useEffect(()=>{!o||C(y(o))},[o]);function v(n){const r=n.getContext("2d");r==null||r.clearRect(0,0,n.width,n.height)}function M(n){a(!0);let[r,l]=c(s.current,n);!e||(e.beginPath(),e.moveTo(r,l),n.preventDefault())}function x(n){if(!t)return;let[r,l]=c(s.current,n);!e||(e.lineWidth=2,e.lineCap="round",e.lineJoin="round",e.strokeStyle=u,e.shadowBlur=1,e.lineTo(r,l),e.stroke())}function S(n){a(!0);let[r,l]=h(s.current,n);!e||(e.beginPath(),e.moveTo(r,l),n.preventDefault())}function T(n){if(!t)return;let[r,l]=h(s.current,n);!e||(e.lineWidth=2,e.lineCap="round",e.lineJoin="round",e.strokeStyle=u,e.shadowBlur=1,e.shadowColor="black",e.lineTo(r,l),e.stroke())}function m(){i(p(s.current))}return{signCanvas:s,ctx:e,handSignImg:o,setStrokeColor:d,setDrawing:a,clearCanvas:v,handleMouseMove:x,handleMouseDown:M,handleTouchStart:S,handleTouchMove:T,toImage:m}}export{B as S,R as u};
